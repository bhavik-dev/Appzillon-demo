////Appending Script  == >jquery.dataTables.min.js
/*! DataTables 1.10.13
 * Â©2008-2016 SpryMedia Ltd - datatables.net/license
 */
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],function($){return factory($,window,document)})}else{if(typeof exports==="object"){module.exports=function(root,$){if(!root){root=window}if(!$){$=typeof window!=="undefined"?require("jquery"):require("jquery")(root)}return factory($,root,root.document)}}else{factory(jQuery,window,document)}}}(function($,window,document,undefined){var DataTable=function(options){this.$=function(sSelector,oOpts){return this.api(true).$(sSelector,oOpts)};this._=function(sSelector,oOpts){return this.api(true).rows(sSelector,oOpts).data()};this.api=function(traditional){return traditional?new _Api(_fnSettingsFromNode(this[_ext.iApiIndex])):new _Api(this)};this.fnAddData=function(data,redraw){var api=this.api(true);var rows=$.isArray(data)&&($.isArray(data[0])||$.isPlainObject(data[0]))?api.rows.add(data):api.row.add(data);if(redraw===undefined||redraw){api.draw()}return rows.flatten().toArray()};this.fnAdjustColumnSizing=function(bRedraw){var api=this.api(true).columns.adjust();var settings=api.settings()[0];var scroll=settings.oScroll;if(bRedraw===undefined||bRedraw){api.draw(false)}else{if(scroll.sX!==""||scroll.sY!==""){_fnScrollDraw(settings)}}};this.fnClearTable=function(bRedraw){var api=this.api(true).clear();if(bRedraw===undefined||bRedraw){api.draw()}};this.fnClose=function(nTr){this.api(true).row(nTr).child.hide()};this.fnDeleteRow=function(target,callback,redraw){var api=this.api(true);var rows=api.rows(target);var settings=rows.settings()[0];var data=settings.aoData[rows[0][0]];rows.remove();if(callback){callback.call(this,settings,data)}if(redraw===undefined||redraw){api.draw()}return data};this.fnDestroy=function(remove){this.api(true).destroy(remove)};this.fnDraw=function(complete){this.api(true).draw(complete)};this.fnFilter=function(sInput,iColumn,bRegex,bSmart,bShowGlobal,bCaseInsensitive){var api=this.api(true);if(iColumn===null||iColumn===undefined){api.search(sInput,bRegex,bSmart,bCaseInsensitive)}else{api.column(iColumn).search(sInput,bRegex,bSmart,bCaseInsensitive)}api.draw()};this.fnGetData=function(src,col){var api=this.api(true);if(src!==undefined){var type=src.nodeName?src.nodeName.toLowerCase():"";return col!==undefined||type=="td"||type=="th"?api.cell(src,col).data():api.row(src).data()||null}return api.data().toArray()};this.fnGetNodes=function(iRow){var api=this.api(true);return iRow!==undefined?api.row(iRow).node():api.rows().nodes().flatten().toArray()};this.fnGetPosition=function(node){var api=this.api(true);var nodeName=node.nodeName.toUpperCase();if(nodeName=="TR"){return api.row(node).index()}else{if(nodeName=="TD"||nodeName=="TH"){var cell=api.cell(node).index();return[cell.row,cell.columnVisible,cell.column]}}return null};this.fnIsOpen=function(nTr){return this.api(true).row(nTr).child.isShown()};this.fnOpen=function(nTr,mHtml,sClass){return this.api(true).row(nTr).child(mHtml,sClass).show().child()[0]};this.fnPageChange=function(mAction,bRedraw){var api=this.api(true).page(mAction);if(bRedraw===undefined||bRedraw){api.draw(false)}};this.fnSetColumnVis=function(iCol,bShow,bRedraw){var api=this.api(true).column(iCol).visible(bShow);if(bRedraw===undefined||bRedraw){api.columns.adjust().draw()}};this.fnSettings=function(){return _fnSettingsFromNode(this[_ext.iApiIndex])};this.fnSort=function(aaSort){this.api(true).order(aaSort).draw()};this.fnSortListener=function(nNode,iColumn,fnCallback){this.api(true).order.listener(nNode,iColumn,fnCallback)};this.fnUpdate=function(mData,mRow,iColumn,bRedraw,bAction){var api=this.api(true);if(iColumn===undefined||iColumn===null){api.row(mRow).data(mData)}else{api.cell(mRow,iColumn).data(mData)}if(bAction===undefined||bAction){api.columns.adjust()}if(bRedraw===undefined||bRedraw){api.draw()}return 0};this.fnVersionCheck=_ext.fnVersionCheck;var _that=this;var emptyInit=options===undefined;var len=this.length;if(emptyInit){options={}}this.oApi=this.internal=_ext.internal;for(var fn in DataTable.ext.internal){if(fn){this[fn]=_fnExternApiFunc(fn)}}this.each(function(){var o={};var oInit=len>1?_fnExtend(o,options,true):options;var i=0,iLen,j,jLen,k,kLen;var sId=this.getAttribute("id");var bInitHandedOff=false;var defaults=DataTable.defaults;var $this=$(this);if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Non-table node initialisation ("+this.nodeName+")",2);return}_fnCompatOpts(defaults);_fnCompatCols(defaults.column);_fnCamelToHungarian(defaults,defaults,true);_fnCamelToHungarian(defaults.column,defaults.column,true);_fnCamelToHungarian(defaults,$.extend(oInit,$this.data()));var allSettings=DataTable.settings;for(i=0,iLen=allSettings.length;i<iLen;i++){var s=allSettings[i];if(s.nTable==this||s.nTHead.parentNode==this||(s.nTFoot&&s.nTFoot.parentNode==this)){var bRetrieve=oInit.bRetrieve!==undefined?oInit.bRetrieve:defaults.bRetrieve;var bDestroy=oInit.bDestroy!==undefined?oInit.bDestroy:defaults.bDestroy;if(emptyInit||bRetrieve){return s.oInstance}else{if(bDestroy){s.oInstance.fnDestroy();break}else{_fnLog(s,0,"Cannot reinitialise DataTable",3);return}}}if(s.sTableId==this.id){allSettings.splice(i,1);break}}if(sId===null||sId===""){sId="DataTables_Table_"+(DataTable.ext._unique++);this.id=sId}var oSettings=$.extend(true,{},DataTable.models.oSettings,{sDestroyWidth:$this[0].style.width,sInstance:sId,sTableId:sId});oSettings.nTable=this;oSettings.oApi=_that.internal;oSettings.oInit=oInit;allSettings.push(oSettings);oSettings.oInstance=(_that.length===1)?_that:$this.dataTable();_fnCompatOpts(oInit);if(oInit.oLanguage){_fnLanguageCompat(oInit.oLanguage)}if(oInit.aLengthMenu&&!oInit.iDisplayLength){oInit.iDisplayLength=$.isArray(oInit.aLengthMenu[0])?oInit.aLengthMenu[0][0]:oInit.aLengthMenu[0]}oInit=_fnExtend($.extend(true,{},defaults),oInit);_fnMap(oSettings.oFeatures,oInit,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]);_fnMap(oSettings,oInit,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);_fnMap(oSettings.oScroll,oInit,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);_fnMap(oSettings.oLanguage,oInit,"fnInfoCallback");_fnCallbackReg(oSettings,"aoDrawCallback",oInit.fnDrawCallback,"user");_fnCallbackReg(oSettings,"aoServerParams",oInit.fnServerParams,"user");_fnCallbackReg(oSettings,"aoStateSaveParams",oInit.fnStateSaveParams,"user");_fnCallbackReg(oSettings,"aoStateLoadParams",oInit.fnStateLoadParams,"user");_fnCallbackReg(oSettings,"aoStateLoaded",oInit.fnStateLoaded,"user");_fnCallbackReg(oSettings,"aoRowCallback",oInit.fnRowCallback,"user");_fnCallbackReg(oSettings,"aoRowCreatedCallback",oInit.fnCreatedRow,"user");_fnCallbackReg(oSettings,"aoHeaderCallback",oInit.fnHeaderCallback,"user");_fnCallbackReg(oSettings,"aoFooterCallback",oInit.fnFooterCallback,"user");_fnCallbackReg(oSettings,"aoInitComplete",oInit.fnInitComplete,"user");_fnCallbackReg(oSettings,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user");oSettings.rowIdFn=_fnGetObjectDataFn(oInit.rowId);_fnBrowserDetect(oSettings);var oClasses=oSettings.oClasses;if(oInit.bJQueryUI){$.extend(oClasses,DataTable.ext.oJUIClasses,oInit.oClasses);if(oInit.sDom===defaults.sDom&&defaults.sDom==="lfrtip"){oSettings.sDom='<"H"lfr>t<"F"ip>'}if(!oSettings.renderer){oSettings.renderer="jqueryui"}else{if($.isPlainObject(oSettings.renderer)&&!oSettings.renderer.header){oSettings.renderer.header="jqueryui"}}}else{$.extend(oClasses,DataTable.ext.classes,oInit.oClasses)}$this.addClass(oClasses.sTable);if(oSettings.iInitDisplayStart===undefined){oSettings.iInitDisplayStart=oInit.iDisplayStart;oSettings._iDisplayStart=oInit.iDisplayStart}if(oInit.iDeferLoading!==null){oSettings.bDeferLoading=true;var tmp=$.isArray(oInit.iDeferLoading);oSettings._iRecordsDisplay=tmp?oInit.iDeferLoading[0]:oInit.iDeferLoading;oSettings._iRecordsTotal=tmp?oInit.iDeferLoading[1]:oInit.iDeferLoading}var oLanguage=oSettings.oLanguage;$.extend(true,oLanguage,oInit.oLanguage);if(oLanguage.sUrl){$.ajax({dataType:"json",url:oLanguage.sUrl,success:function(json){_fnLanguageCompat(json);_fnCamelToHungarian(defaults.oLanguage,json);$.extend(true,oLanguage,json);_fnInitialise(oSettings)},error:function(){_fnInitialise(oSettings)}});bInitHandedOff=true}if(oInit.asStripeClasses===null){oSettings.asStripeClasses=[oClasses.sStripeOdd,oClasses.sStripeEven]}var stripeClasses=oSettings.asStripeClasses;var rowOne=$this.children("tbody").find("tr").eq(0);if($.inArray(true,$.map(stripeClasses,function(el,i){return rowOne.hasClass(el)}))!==-1){$("tbody tr",this).removeClass(stripeClasses.join(" "));oSettings.asDestroyStripes=stripeClasses.slice()}var anThs=[];var aoColumnsInit;var nThead=this.getElementsByTagName("thead");if(nThead.length!==0){_fnDetectHeader(oSettings.aoHeader,nThead[0]);anThs=_fnGetUniqueThs(oSettings)}if(oInit.aoColumns===null){aoColumnsInit=[];for(i=0,iLen=anThs.length;i<iLen;i++){aoColumnsInit.push(null)}}else{aoColumnsInit=oInit.aoColumns}for(i=0,iLen=aoColumnsInit.length;i<iLen;i++){_fnAddColumn(oSettings,anThs?anThs[i]:null)}_fnApplyColumnDefs(oSettings,oInit.aoColumnDefs,aoColumnsInit,function(iCol,oDef){_fnColumnOptions(oSettings,iCol,oDef)});if(rowOne.length){var a=function(cell,name){return cell.getAttribute("data-"+name)!==null?name:null};$(rowOne[0]).children("th, td").each(function(i,cell){var col=oSettings.aoColumns[i];if(col.mData===i){var sort=a(cell,"sort")||a(cell,"order");var filter=a(cell,"filter")||a(cell,"search");if(sort!==null||filter!==null){col.mData={_:i+".display",sort:sort!==null?i+".@data-"+sort:undefined,type:sort!==null?i+".@data-"+sort:undefined,filter:filter!==null?i+".@data-"+filter:undefined};_fnColumnOptions(oSettings,i)}}})}var features=oSettings.oFeatures;var loadedInit=function(){if(oInit.aaSorting===undefined){var sorting=oSettings.aaSorting;for(i=0,iLen=sorting.length;i<iLen;i++){sorting[i][1]=oSettings.aoColumns[i].asSorting[0]}}_fnSortingClasses(oSettings);if(features.bSort){_fnCallbackReg(oSettings,"aoDrawCallback",function(){if(oSettings.bSorted){var aSort=_fnSortFlatten(oSettings);var sortedColumns={};$.each(aSort,function(i,val){sortedColumns[val.src]=val.dir});_fnCallbackFire(oSettings,null,"order",[oSettings,aSort,sortedColumns]);_fnSortAria(oSettings)}})}_fnCallbackReg(oSettings,"aoDrawCallback",function(){if(oSettings.bSorted||_fnDataSource(oSettings)==="ssp"||features.bDeferRender){_fnSortingClasses(oSettings)}},"sc");var captions=$this.children("caption").each(function(){this._captionSide=$(this).css("caption-side")});var thead=$this.children("thead");if(thead.length===0){thead=$("<thead/>").appendTo($this)}oSettings.nTHead=thead[0];var tbody=$this.children("tbody");if(tbody.length===0){tbody=$("<tbody/>").appendTo($this)}oSettings.nTBody=tbody[0];var tfoot=$this.children("tfoot");if(tfoot.length===0&&captions.length>0&&(oSettings.oScroll.sX!==""||oSettings.oScroll.sY!=="")){tfoot=$("<tfoot/>").appendTo($this)}if(tfoot.length===0||tfoot.children().length===0){$this.addClass(oClasses.sNoFooter)}else{if(tfoot.length>0){oSettings.nTFoot=tfoot[0];_fnDetectHeader(oSettings.aoFooter,oSettings.nTFoot)}}if(oInit.aaData){for(i=0;i<oInit.aaData.length;i++){_fnAddData(oSettings,oInit.aaData[i])}}else{if(oSettings.bDeferLoading||_fnDataSource(oSettings)=="dom"){_fnAddTr(oSettings,$(oSettings.nTBody).children("tr"))}}oSettings.aiDisplay=oSettings.aiDisplayMaster.slice();oSettings.bInitialised=true;if(bInitHandedOff===false){_fnInitialise(oSettings)}};if(oInit.bStateSave){features.bStateSave=true;_fnCallbackReg(oSettings,"aoDrawCallback",_fnSaveState,"state_save");_fnLoadState(oSettings,oInit,loadedInit)}else{loadedInit()}});_that=null;return this};var _ext;var _Api;var _api_register;var _api_registerPlural;var _re_dic={};var _re_new_lines=/[\r\n]/g;var _re_html=/<.*?>/g;var _re_date=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/;var _re_escape_regex=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g");var _re_formatted_numeric=/[',$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi;var _empty=function(d){return !d||d===true||d==="-"?true:false};var _intVal=function(s){var integer=parseInt(s,10);return !isNaN(integer)&&isFinite(s)?integer:null};var _numToDecimal=function(num,decimalPoint){if(!_re_dic[decimalPoint]){_re_dic[decimalPoint]=new RegExp(_fnEscapeRegex(decimalPoint),"g")}return typeof num==="string"&&decimalPoint!=="."?num.replace(/\./g,"").replace(_re_dic[decimalPoint],"."):num};var _isNumber=function(d,decimalPoint,formatted){var strType=typeof d==="string";if(_empty(d)){return true}if(decimalPoint&&strType){d=_numToDecimal(d,decimalPoint)}if(formatted&&strType){d=d.replace(_re_formatted_numeric,"")}return !isNaN(parseFloat(d))&&isFinite(d)};var _isHtml=function(d){return _empty(d)||typeof d==="string"};var _htmlNumeric=function(d,decimalPoint,formatted){if(_empty(d)){return true}var html=_isHtml(d);return !html?null:_isNumber(_stripHtml(d),decimalPoint,formatted)?true:null};var _pluck=function(a,prop,prop2){var out=[];var i=0,ien=a.length;if(prop2!==undefined){for(;i<ien;i++){if(a[i]&&a[i][prop]){out.push(a[i][prop][prop2])}}}else{for(;i<ien;i++){if(a[i]){out.push(a[i][prop])}}}return out};var _pluck_order=function(a,order,prop,prop2){var out=[];var i=0,ien=order.length;if(prop2!==undefined){for(;i<ien;i++){if(a[order[i]][prop]){out.push(a[order[i]][prop][prop2])}}}else{for(;i<ien;i++){out.push(a[order[i]][prop])}}return out};var _range=function(len,start){var out=[];var end;if(start===undefined){start=0;end=len}else{end=start;start=len}for(var i=start;i<end;i++){out.push(i)}return out};var _removeEmpty=function(a){var out=[];for(var i=0,ien=a.length;i<ien;i++){if(a[i]){out.push(a[i])}}return out};var _stripHtml=function(d){return d.replace(_re_html,"")};var _unique=function(src){var out=[],val,i,ien=src.length,j,k=0;again:for(i=0;i<ien;i++){val=src[i];for(j=0;j<k;j++){if(out[j]===val){continue again}}out.push(val);k++}return out};DataTable.util={throttle:function(fn,freq){var frequency=freq!==undefined?freq:200,last,timer;return function(){var that=this,now=+new Date(),args=arguments;if(last&&now<last+frequency){clearTimeout(timer);timer=setTimeout(function(){last=undefined;fn.apply(that,args)},frequency)}else{last=now;fn.apply(that,args)}}},escapeRegex:function(val){return val.replace(_re_escape_regex,"\\$1")}};function _fnHungarianMap(o){var hungarian="a aa ai ao as b fn i m o s ",match,newKey,map={};$.each(o,function(key,val){match=key.match(/^([^A-Z]+?)([A-Z])/);if(match&&hungarian.indexOf(match[1]+" ")!==-1){newKey=key.replace(match[0],match[2].toLowerCase());map[newKey]=key;if(match[1]==="o"){_fnHungarianMap(o[key])}}});o._hungarianMap=map}function _fnCamelToHungarian(src,user,force){if(!src._hungarianMap){_fnHungarianMap(src)}var hungarianKey;$.each(user,function(key,val){hungarianKey=src._hungarianMap[key];if(hungarianKey!==undefined&&(force||user[hungarianKey]===undefined)){if(hungarianKey.charAt(0)==="o"){if(!user[hungarianKey]){user[hungarianKey]={}}$.extend(true,user[hungarianKey],user[key]);_fnCamelToHungarian(src[hungarianKey],user[hungarianKey],force)}else{user[hungarianKey]=user[key]}}})}function _fnLanguageCompat(lang){var defaults=DataTable.defaults.oLanguage;var zeroRecords=lang.sZeroRecords;if(!lang.sEmptyTable&&zeroRecords&&defaults.sEmptyTable==="No data available in table"){_fnMap(lang,lang,"sZeroRecords","sEmptyTable")}if(!lang.sLoadingRecords&&zeroRecords&&defaults.sLoadingRecords==="Loading..."){_fnMap(lang,lang,"sZeroRecords","sLoadingRecords")}if(lang.sInfoThousands){lang.sThousands=lang.sInfoThousands}var decimal=lang.sDecimal;if(decimal){_addNumericSort(decimal)}}var _fnCompatMap=function(o,knew,old){if(o[knew]!==undefined){o[old]=o[knew]}};function _fnCompatOpts(init){_fnCompatMap(init,"ordering","bSort");_fnCompatMap(init,"orderMulti","bSortMulti");_fnCompatMap(init,"orderClasses","bSortClasses");_fnCompatMap(init,"orderCellsTop","bSortCellsTop");_fnCompatMap(init,"order","aaSorting");_fnCompatMap(init,"orderFixed","aaSortingFixed");_fnCompatMap(init,"paging","bPaginate");_fnCompatMap(init,"pagingType","sPaginationType");_fnCompatMap(init,"pageLength","iDisplayLength");_fnCompatMap(init,"searching","bFilter");if(typeof init.sScrollX==="boolean"){init.sScrollX=init.sScrollX?"100%":""}if(typeof init.scrollX==="boolean"){init.scrollX=init.scrollX?"100%":""}var searchCols=init.aoSearchCols;if(searchCols){for(var i=0,ien=searchCols.length;i<ien;i++){if(searchCols[i]){_fnCamelToHungarian(DataTable.models.oSearch,searchCols[i])}}}}function _fnCompatCols(init){_fnCompatMap(init,"orderable","bSortable");_fnCompatMap(init,"orderData","aDataSort");_fnCompatMap(init,"orderSequence","asSorting");_fnCompatMap(init,"orderDataType","sortDataType");var dataSort=init.aDataSort;if(dataSort&&!$.isArray(dataSort)){init.aDataSort=[dataSort]}}function _fnBrowserDetect(settings){if(!DataTable.__browser){var browser={};DataTable.__browser=browser;var n=$("<div/>").css({position:"fixed",top:0,left:$(window).scrollLeft()*-1,height:1,width:1,overflow:"hidden"}).append($("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append($("<div/>").css({width:"100%",height:10}))).appendTo("body");var outer=n.children();var inner=outer.children();browser.barWidth=outer[0].offsetWidth-outer[0].clientWidth;browser.bScrollOversize=inner[0].offsetWidth===100&&outer[0].clientWidth!==100;browser.bScrollbarLeft=Math.round(inner.offset().left)!==1;browser.bBounding=n[0].getBoundingClientRect().width?true:false;n.remove()}$.extend(settings.oBrowser,DataTable.__browser);settings.oScroll.iBarWidth=DataTable.__browser.barWidth}function _fnReduce(that,fn,init,start,end,inc){var i=start,value,isSet=false;if(init!==undefined){value=init;isSet=true}while(i!==end){if(!that.hasOwnProperty(i)){continue}value=isSet?fn(value,that[i],i,that):that[i];isSet=true;i+=inc}return value}function _fnAddColumn(oSettings,nTh){var oDefaults=DataTable.defaults.column;var iCol=oSettings.aoColumns.length;var oCol=$.extend({},DataTable.models.oColumn,oDefaults,{nTh:nTh?nTh:document.createElement("th"),sTitle:oDefaults.sTitle?oDefaults.sTitle:nTh?nTh.innerHTML:"",aDataSort:oDefaults.aDataSort?oDefaults.aDataSort:[iCol],mData:oDefaults.mData?oDefaults.mData:iCol,idx:iCol});oSettings.aoColumns.push(oCol);var searchCols=oSettings.aoPreSearchCols;searchCols[iCol]=$.extend({},DataTable.models.oSearch,searchCols[iCol]);_fnColumnOptions(oSettings,iCol,$(nTh).data())}function _fnColumnOptions(oSettings,iCol,oOptions){var oCol=oSettings.aoColumns[iCol];var oClasses=oSettings.oClasses;var th=$(oCol.nTh);if(!oCol.sWidthOrig){oCol.sWidthOrig=th.attr("width")||null;var t=(th.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);if(t){oCol.sWidthOrig=t[1]}}if(oOptions!==undefined&&oOptions!==null){_fnCompatCols(oOptions);_fnCamelToHungarian(DataTable.defaults.column,oOptions);if(oOptions.mDataProp!==undefined&&!oOptions.mData){oOptions.mData=oOptions.mDataProp}if(oOptions.sType){oCol._sManualType=oOptions.sType}if(oOptions.className&&!oOptions.sClass){oOptions.sClass=oOptions.className}$.extend(oCol,oOptions);_fnMap(oCol,oOptions,"sWidth","sWidthOrig");if(oOptions.iDataSort!==undefined){oCol.aDataSort=[oOptions.iDataSort]}_fnMap(oCol,oOptions,"aDataSort")}var mDataSrc=oCol.mData;var mData=_fnGetObjectDataFn(mDataSrc);var mRender=oCol.mRender?_fnGetObjectDataFn(oCol.mRender):null;var attrTest=function(src){return typeof src==="string"&&src.indexOf("@")!==-1};oCol._bAttrSrc=$.isPlainObject(mDataSrc)&&(attrTest(mDataSrc.sort)||attrTest(mDataSrc.type)||attrTest(mDataSrc.filter));oCol._setter=null;oCol.fnGetData=function(rowData,type,meta){var innerData=mData(rowData,type,undefined,meta);return mRender&&type?mRender(innerData,type,rowData,meta):innerData};oCol.fnSetData=function(rowData,val,meta){return _fnSetObjectDataFn(mDataSrc)(rowData,val,meta)};if(typeof mDataSrc!=="number"){oSettings._rowReadObject=true}if(!oSettings.oFeatures.bSort){oCol.bSortable=false;th.addClass(oClasses.sSortableNone)}var bAsc=$.inArray("asc",oCol.asSorting)!==-1;var bDesc=$.inArray("desc",oCol.asSorting)!==-1;if(!oCol.bSortable||(!bAsc&&!bDesc)){oCol.sSortingClass=oClasses.sSortableNone;oCol.sSortingClassJUI=""}else{if(bAsc&&!bDesc){oCol.sSortingClass=oClasses.sSortableAsc;oCol.sSortingClassJUI=oClasses.sSortJUIAscAllowed}else{if(!bAsc&&bDesc){oCol.sSortingClass=oClasses.sSortableDesc;oCol.sSortingClassJUI=oClasses.sSortJUIDescAllowed}else{oCol.sSortingClass=oClasses.sSortable;oCol.sSortingClassJUI=oClasses.sSortJUI}}}}function _fnAdjustColumnSizing(settings){if(settings.oFeatures.bAutoWidth!==false){var columns=settings.aoColumns;_fnCalculateColumnWidths(settings);for(var i=0,iLen=columns.length;i<iLen;i++){columns[i].nTh.style.width=columns[i].sWidth}}var scroll=settings.oScroll;if(scroll.sY!==""||scroll.sX!==""){_fnScrollDraw(settings)}_fnCallbackFire(settings,null,"column-sizing",[settings])}function _fnVisibleToColumnIndex(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");return typeof aiVis[iMatch]==="number"?aiVis[iMatch]:null}function _fnColumnIndexToVisible(oSettings,iMatch){var aiVis=_fnGetColumns(oSettings,"bVisible");var iPos=$.inArray(iMatch,aiVis);return iPos!==-1?iPos:null}function _fnVisbleColumns(oSettings){var vis=0;$.each(oSettings.aoColumns,function(i,col){if(col.bVisible&&$(col.nTh).css("display")!=="none"){vis++}});return vis}function _fnGetColumns(oSettings,sParam){var a=[];$.map(oSettings.aoColumns,function(val,i){if(val[sParam]){a.push(i)}});return a}function _fnColumnTypes(settings){var columns=settings.aoColumns;var data=settings.aoData;var types=DataTable.ext.type.detect;var i,ien,j,jen,k,ken;var col,cell,detectedType,cache;for(i=0,ien=columns.length;i<ien;i++){col=columns[i];cache=[];if(!col.sType&&col._sManualType){col.sType=col._sManualType}else{if(!col.sType){for(j=0,jen=types.length;j<jen;j++){for(k=0,ken=data.length;k<ken;k++){if(cache[k]===undefined){cache[k]=_fnGetCellData(settings,k,i,"type")}detectedType=types[j](cache[k],settings);if(!detectedType&&j!==types.length-1){break}if(detectedType==="html"){break}}if(detectedType){col.sType=detectedType;break}}if(!col.sType){col.sType="string"}}}}}function _fnApplyColumnDefs(oSettings,aoColDefs,aoCols,fn){var i,iLen,j,jLen,k,kLen,def;var columns=oSettings.aoColumns;if(aoColDefs){for(i=aoColDefs.length-1;i>=0;i--){def=aoColDefs[i];var aTargets=def.targets!==undefined?def.targets:def.aTargets;if(!$.isArray(aTargets)){aTargets=[aTargets]}for(j=0,jLen=aTargets.length;j<jLen;j++){if(typeof aTargets[j]==="number"&&aTargets[j]>=0){while(columns.length<=aTargets[j]){_fnAddColumn(oSettings)}fn(aTargets[j],def)}else{if(typeof aTargets[j]==="number"&&aTargets[j]<0){fn(columns.length+aTargets[j],def)}else{if(typeof aTargets[j]==="string"){for(k=0,kLen=columns.length;k<kLen;k++){if(aTargets[j]=="_all"||$(columns[k].nTh).hasClass(aTargets[j])){fn(k,def)}}}}}}}}if(aoCols){for(i=0,iLen=aoCols.length;i<iLen;i++){fn(i,aoCols[i])}}}function _fnAddData(oSettings,aDataIn,nTr,anTds){var iRow=oSettings.aoData.length;var oData=$.extend(true,{},DataTable.models.oRow,{src:nTr?"dom":"data",idx:iRow});oData._aData=aDataIn;oSettings.aoData.push(oData);var nTd,sThisType;var columns=oSettings.aoColumns;for(var i=0,iLen=columns.length;i<iLen;i++){columns[i].sType=null}oSettings.aiDisplayMaster.push(iRow);var id=oSettings.rowIdFn(aDataIn);if(id!==undefined){oSettings.aIds[id]=oData}if(nTr||!oSettings.oFeatures.bDeferRender){_fnCreateTr(oSettings,iRow,nTr,anTds)}return iRow}function _fnAddTr(settings,trs){var row;if(!(trs instanceof $)){trs=$(trs)}return trs.map(function(i,el){row=_fnGetRowElements(settings,el);return _fnAddData(settings,row.data,el,row.cells)})}function _fnNodeToDataIndex(oSettings,n){return(n._DT_RowIndex!==undefined)?n._DT_RowIndex:null}function _fnNodeToColumnIndex(oSettings,iRow,n){return $.inArray(n,oSettings.aoData[iRow].anCells)}function _fnGetCellData(settings,rowIdx,colIdx,type){var draw=settings.iDraw;var col=settings.aoColumns[colIdx];var rowData=settings.aoData[rowIdx]._aData;var defaultContent=col.sDefaultContent;var cellData=col.fnGetData(rowData,type,{settings:settings,row:rowIdx,col:colIdx});if(cellData===undefined){if(settings.iDrawError!=draw&&defaultContent===null){_fnLog(settings,0,"Requested unknown parameter "+(typeof col.mData=="function"?"{function}":"'"+col.mData+"'")+" for row "+rowIdx+", column "+colIdx,4);settings.iDrawError=draw}return defaultContent}if((cellData===rowData||cellData===null)&&defaultContent!==null&&type!==undefined){cellData=defaultContent}else{if(typeof cellData==="function"){return cellData.call(rowData)}}if(cellData===null&&type=="display"){return""}return cellData}function _fnSetCellData(settings,rowIdx,colIdx,val){var col=settings.aoColumns[colIdx];var rowData=settings.aoData[rowIdx]._aData;col.fnSetData(rowData,val,{settings:settings,row:rowIdx,col:colIdx})}var __reArray=/\[.*?\]$/;var __reFn=/\(\)$/;function _fnSplitObjNotation(str){return $.map(str.match(/(\\.|[^\.])+/g)||[""],function(s){return s.replace(/\\\./g,".")})}function _fnGetObjectDataFn(mSource){if($.isPlainObject(mSource)){var o={};$.each(mSource,function(key,val){if(val){o[key]=_fnGetObjectDataFn(val)}});return function(data,type,row,meta){var t=o[type]||o._;return t!==undefined?t(data,type,row,meta):data}}else{if(mSource===null){return function(data){return data}}else{if(typeof mSource==="function"){return function(data,type,row,meta){return mSource(data,type,row,meta)}}else{if(typeof mSource==="string"&&(mSource.indexOf(".")!==-1||mSource.indexOf("[")!==-1||mSource.indexOf("(")!==-1)){var fetchData=function(data,type,src){var arrayNotation,funcNotation,out,innerSrc;if(src!==""){var a=_fnSplitObjNotation(src);for(var i=0,iLen=a.length;i<iLen;i++){arrayNotation=a[i].match(__reArray);funcNotation=a[i].match(__reFn);if(arrayNotation){a[i]=a[i].replace(__reArray,"");if(a[i]!==""){data=data[a[i]]}out=[];a.splice(0,i+1);innerSrc=a.join(".");if($.isArray(data)){for(var j=0,jLen=data.length;j<jLen;j++){out.push(fetchData(data[j],type,innerSrc))}}var join=arrayNotation[0].substring(1,arrayNotation[0].length-1);data=(join==="")?out:out.join(join);break}else{if(funcNotation){a[i]=a[i].replace(__reFn,"");data=data[a[i]]();continue}}if(data===null||data[a[i]]===undefined){return undefined}data=data[a[i]]}}return data};return function(data,type){return fetchData(data,type,mSource)}}else{return function(data,type){return data[mSource]}}}}}}function _fnSetObjectDataFn(mSource){if($.isPlainObject(mSource)){return _fnSetObjectDataFn(mSource._)}else{if(mSource===null){return function(){}}else{if(typeof mSource==="function"){return function(data,val,meta){mSource(data,"set",val,meta)}}else{if(typeof mSource==="string"&&(mSource.indexOf(".")!==-1||mSource.indexOf("[")!==-1||mSource.indexOf("(")!==-1)){var setData=function(data,val,src){var a=_fnSplitObjNotation(src),b;var aLast=a[a.length-1];var arrayNotation,funcNotation,o,innerSrc;for(var i=0,iLen=a.length-1;i<iLen;i++){arrayNotation=a[i].match(__reArray);funcNotation=a[i].match(__reFn);if(arrayNotation){a[i]=a[i].replace(__reArray,"");data[a[i]]=[];b=a.slice();b.splice(0,i+1);innerSrc=b.join(".");if($.isArray(val)){for(var j=0,jLen=val.length;j<jLen;j++){o={};setData(o,val[j],innerSrc);data[a[i]].push(o)}}else{data[a[i]]=val}return}else{if(funcNotation){a[i]=a[i].replace(__reFn,"");data=data[a[i]](val)}}if(data[a[i]]===null||data[a[i]]===undefined){data[a[i]]={}}data=data[a[i]]}if(aLast.match(__reFn)){data=data[aLast.replace(__reFn,"")](val)}else{data[aLast.replace(__reArray,"")]=val}};return function(data,val){return setData(data,val,mSource)}}else{return function(data,val){data[mSource]=val}}}}}}function _fnGetDataMaster(settings){return _pluck(settings.aoData,"_aData")}function _fnClearTable(settings){settings.aoData.length=0;settings.aiDisplayMaster.length=0;settings.aiDisplay.length=0;settings.aIds={}}function _fnDeleteIndex(a,iTarget,splice){var iTargetIndex=-1;for(var i=0,iLen=a.length;i<iLen;i++){if(a[i]==iTarget){iTargetIndex=i}else{if(a[i]>iTarget){a[i]--}}}if(iTargetIndex!=-1&&splice===undefined){a.splice(iTargetIndex,1)}}function _fnInvalidate(settings,rowIdx,src,colIdx){var row=settings.aoData[rowIdx];var i,ien;var cellWrite=function(cell,col){while(cell.childNodes.length){cell.removeChild(cell.firstChild)}cell.innerHTML=_fnGetCellData(settings,rowIdx,col,"display")};if(src==="dom"||((!src||src==="auto")&&row.src==="dom")){row._aData=_fnGetRowElements(settings,row,colIdx,colIdx===undefined?undefined:row._aData).data}else{var cells=row.anCells;if(cells){if(colIdx!==undefined){cellWrite(cells[colIdx],colIdx)}else{for(i=0,ien=cells.length;i<ien;i++){cellWrite(cells[i],i)}}}}row._aSortData=null;row._aFilterData=null;var cols=settings.aoColumns;if(colIdx!==undefined){cols[colIdx].sType=null}else{for(i=0,ien=cols.length;i<ien;i++){cols[i].sType=null}_fnRowAttributes(settings,row)}}function _fnGetRowElements(settings,row,colIdx,d){var tds=[],td=row.firstChild,name,col,o,i=0,contents,columns=settings.aoColumns,objectRead=settings._rowReadObject;d=d!==undefined?d:objectRead?{}:[];var attr=function(str,td){if(typeof str==="string"){var idx=str.indexOf("@");if(idx!==-1){var attr=str.substring(idx+1);var setter=_fnSetObjectDataFn(str);setter(d,td.getAttribute(attr))}}};var cellProcess=function(cell){if(colIdx===undefined||colIdx===i){col=columns[i];contents=$.trim(cell.innerHTML);if(col&&col._bAttrSrc){var setter=_fnSetObjectDataFn(col.mData._);setter(d,contents);attr(col.mData.sort,cell);attr(col.mData.type,cell);attr(col.mData.filter,cell)}else{if(objectRead){if(!col._setter){col._setter=_fnSetObjectDataFn(col.mData)}col._setter(d,contents)}else{d[i]=contents}}}i++};if(td){var tdCustom=false;while(td){if(td.nodeType==1&&td.hasAttribute("ng-reflect-props")){td=td.firstElementChild;tdCustom=true}name=td.nodeName.toUpperCase();if(name=="TD"||name=="TH"){cellProcess(td);tds.push(td)}if(tdCustom){td=td.parentElement.nextSibling;tdCustom=false}else{td=td.nextSibling}}}else{tds=row.anCells;for(var j=0,jen=tds.length;j<jen;j++){cellProcess(tds[j])}}var rowNode=row.firstChild?row:row.nTr;if(rowNode){var id=rowNode.getAttribute("id");if(id){_fnSetObjectDataFn(settings.rowId)(d,id)}}return{data:d,cells:tds}}function _fnCreateTr(oSettings,iRow,nTrIn,anTds){var row=oSettings.aoData[iRow],rowData=row._aData,cells=[],nTr,nTd,oCol,i,iLen;if(row.nTr===null){nTr=nTrIn||document.createElement("tr");row.nTr=nTr;row.anCells=cells;nTr._DT_RowIndex=iRow;_fnRowAttributes(oSettings,row);for(i=0,iLen=oSettings.aoColumns.length;i<iLen;i++){oCol=oSettings.aoColumns[i];nTd=nTrIn?anTds[i]:document.createElement(oCol.sCellType);nTd._DT_CellIndex={row:iRow,column:i};cells.push(nTd);if((!nTrIn||oCol.mRender||oCol.mData!==i)&&(!$.isPlainObject(oCol.mData)||oCol.mData._!==i+".display")){nTd.innerHTML=_fnGetCellData(oSettings,iRow,i,"display")}if(oCol.sClass){nTd.className+=" "+oCol.sClass}if(oCol.bVisible&&!nTrIn){nTr.appendChild(nTd)}else{if(!oCol.bVisible&&nTrIn){nTd.parentNode.removeChild(nTd)}}if(oCol.fnCreatedCell){oCol.fnCreatedCell.call(oSettings.oInstance,nTd,_fnGetCellData(oSettings,iRow,i),rowData,iRow,i)}}_fnCallbackFire(oSettings,"aoRowCreatedCallback",null,[nTr,rowData,iRow])}row.nTr.setAttribute("role","row")}function _fnRowAttributes(settings,row){var tr=row.nTr;var data=row._aData;if(tr){var id=settings.rowIdFn(data);if(id){tr.id=id}if(data.DT_RowClass){var a=data.DT_RowClass.split(" ");row.__rowc=row.__rowc?_unique(row.__rowc.concat(a)):a;$(tr).removeClass(row.__rowc.join(" ")).addClass(data.DT_RowClass)}if(data.DT_RowAttr){$(tr).attr(data.DT_RowAttr)}if(data.DT_RowData){$(tr).data(data.DT_RowData)}}}function _fnBuildHead(oSettings){var i,ien,cell,row,column;var thead=oSettings.nTHead;var tfoot=oSettings.nTFoot;var createHeader=$("th, td",thead).length===0;var classes=oSettings.oClasses;var columns=oSettings.aoColumns;if(createHeader){row=$("<tr/>").appendTo(thead)}for(i=0,ien=columns.length;i<ien;i++){column=columns[i];cell=$(column.nTh).addClass(column.sClass);if(createHeader){cell.appendTo(row)}if(oSettings.oFeatures.bSort){cell.addClass(column.sSortingClass);if(column.bSortable!==false){cell.attr("tabindex",oSettings.iTabIndex).attr("aria-controls",oSettings.sTableId);_fnSortAttachListener(oSettings,column.nTh,i)}}if(column.sTitle!=cell[0].innerHTML){cell.html(column.sTitle)}_fnRenderer(oSettings,"header")(oSettings,cell,column,classes)}if(createHeader){_fnDetectHeader(oSettings.aoHeader,thead)}$(thead).find(">tr").attr("role","row");$(thead).find(">tr>th, >tr>td").addClass(classes.sHeaderTH);$(tfoot).find(">tr>th, >tr>td").addClass(classes.sFooterTH);if(tfoot!==null){var cells=oSettings.aoFooter[0];for(i=0,ien=cells.length;i<ien;i++){column=columns[i];column.nTf=cells[i].cell;if(column.sClass){$(column.nTf).addClass(column.sClass)}}}}function _fnDrawHead(oSettings,aoSource,bIncludeHidden){var i,iLen,j,jLen,k,kLen,n,nLocalTr;var aoLocal=[];var aApplied=[];var iColumns=oSettings.aoColumns.length;var iRowspan,iColspan;if(!aoSource){return}if(bIncludeHidden===undefined){bIncludeHidden=false}for(i=0,iLen=aoSource.length;i<iLen;i++){aoLocal[i]=aoSource[i].slice();aoLocal[i].nTr=aoSource[i].nTr;for(j=iColumns-1;j>=0;j--){if(!oSettings.aoColumns[j].bVisible&&!bIncludeHidden){aoLocal[i].splice(j,1)}}aApplied.push([])}for(i=0,iLen=aoLocal.length;i<iLen;i++){nLocalTr=aoLocal[i].nTr;if(nLocalTr){while((n=nLocalTr.firstChild)){nLocalTr.removeChild(n)}}for(j=0,jLen=aoLocal[i].length;j<jLen;j++){iRowspan=1;iColspan=1;if(aApplied[i][j]===undefined){nLocalTr.appendChild(aoLocal[i][j].cell);aApplied[i][j]=1;while(aoLocal[i+iRowspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i+iRowspan][j].cell){aApplied[i+iRowspan][j]=1;iRowspan++}while(aoLocal[i][j+iColspan]!==undefined&&aoLocal[i][j].cell==aoLocal[i][j+iColspan].cell){for(k=0;k<iRowspan;k++){aApplied[i+k][j+iColspan]=1}iColspan++}$(aoLocal[i][j].cell).attr("rowspan",iRowspan).attr("colspan",iColspan)}}}}function _fnDraw(oSettings){var aPreDraw=_fnCallbackFire(oSettings,"aoPreDrawCallback","preDraw",[oSettings]);if($.inArray(false,aPreDraw)!==-1){_fnProcessingDisplay(oSettings,false);return}var i,iLen,n;var anRows=[];var iRowCount=0;var asStripeClasses=oSettings.asStripeClasses;var iStripes=asStripeClasses.length;var iOpenRows=oSettings.aoOpenRows.length;var oLang=oSettings.oLanguage;var iInitDisplayStart=oSettings.iInitDisplayStart;var bServerSide=_fnDataSource(oSettings)=="ssp";var aiDisplay=oSettings.aiDisplay;oSettings.bDrawing=true;if(iInitDisplayStart!==undefined&&iInitDisplayStart!==-1){oSettings._iDisplayStart=bServerSide?iInitDisplayStart:iInitDisplayStart>=oSettings.fnRecordsDisplay()?0:iInitDisplayStart;oSettings.iInitDisplayStart=-1}var iDisplayStart=oSettings._iDisplayStart;var iDisplayEnd=oSettings.fnDisplayEnd();if(oSettings.bDeferLoading){oSettings.bDeferLoading=false;oSettings.iDraw++;_fnProcessingDisplay(oSettings,false)}else{if(!bServerSide){oSettings.iDraw++}else{if(!oSettings.bDestroying&&!_fnAjaxUpdate(oSettings)){return}}}if(aiDisplay.length!==0){var iStart=bServerSide?0:iDisplayStart;var iEnd=bServerSide?oSettings.aoData.length:iDisplayEnd;for(var j=iStart;j<iEnd;j++){var iDataIndex=aiDisplay[j];var aoData=oSettings.aoData[iDataIndex];if(aoData.nTr===null){_fnCreateTr(oSettings,iDataIndex)}var nRow=aoData.nTr;if(iStripes!==0){var sStripe=asStripeClasses[iRowCount%iStripes];if(aoData._sRowStripe!=sStripe){$(nRow).removeClass(aoData._sRowStripe).addClass(sStripe);aoData._sRowStripe=sStripe}}_fnCallbackFire(oSettings,"aoRowCallback",null,[nRow,aoData._aData,iRowCount,j]);anRows.push(nRow);iRowCount++}}else{var sZero=oLang.sZeroRecords;if(oSettings.iDraw==1&&_fnDataSource(oSettings)=="ajax"){sZero=oLang.sLoadingRecords}else{if(oLang.sEmptyTable&&oSettings.fnRecordsTotal()===0){sZero=oLang.sEmptyTable}}anRows[0]=$("<tr/>",{"class":iStripes?asStripeClasses[0]:""}).append($("<td />",{valign:"top",colSpan:_fnVisbleColumns(oSettings),"class":oSettings.oClasses.sRowEmpty}).html(sZero))[0]}_fnCallbackFire(oSettings,"aoHeaderCallback","header",[$(oSettings.nTHead).children("tr")[0],_fnGetDataMaster(oSettings),iDisplayStart,iDisplayEnd,aiDisplay]);_fnCallbackFire(oSettings,"aoFooterCallback","footer",[$(oSettings.nTFoot).children("tr")[0],_fnGetDataMaster(oSettings),iDisplayStart,iDisplayEnd,aiDisplay]);var body=$(oSettings.nTBody);body.children().detach();body.append($(anRows));_fnCallbackFire(oSettings,"aoDrawCallback","draw",[oSettings]);oSettings.bSorted=false;oSettings.bFiltered=false;oSettings.bDrawing=false}function _fnReDraw(settings,holdPosition){var features=settings.oFeatures,sort=features.bSort,filter=features.bFilter;if(sort){_fnSort(settings)}if(filter){_fnFilterComplete(settings,settings.oPreviousSearch)}else{settings.aiDisplay=settings.aiDisplayMaster.slice()}if(holdPosition!==true){settings._iDisplayStart=0}settings._drawHold=holdPosition;_fnDraw(settings);settings._drawHold=false}function _fnAddOptionsHtml(oSettings){var classes=oSettings.oClasses;var table=$(oSettings.nTable);var holding=$("<div/>").insertBefore(table);var features=oSettings.oFeatures;var insert=$("<div/>",{id:oSettings.sTableId+"_wrapper","class":classes.sWrapper+(oSettings.nTFoot?"":" "+classes.sNoFooter)});oSettings.nHolding=holding[0];oSettings.nTableWrapper=insert[0];oSettings.nTableReinsertBefore=oSettings.nTable.nextSibling;var aDom=oSettings.sDom.split("");var featureNode,cOption,nNewNode,cNext,sAttr,j;for(var i=0;i<aDom.length;i++){featureNode=null;cOption=aDom[i];if(cOption=="<"){nNewNode=$("<div/>")[0];cNext=aDom[i+1];if(cNext=="'"||cNext=='"'){sAttr="";j=2;while(aDom[i+j]!=cNext){sAttr+=aDom[i+j];j++}if(sAttr=="H"){sAttr=classes.sJUIHeader}else{if(sAttr=="F"){sAttr=classes.sJUIFooter}}if(sAttr.indexOf(".")!=-1){var aSplit=sAttr.split(".");nNewNode.id=aSplit[0].substr(1,aSplit[0].length-1);nNewNode.className=aSplit[1]}else{if(sAttr.charAt(0)=="#"){nNewNode.id=sAttr.substr(1,sAttr.length-1)}else{nNewNode.className=sAttr}}i+=j}insert.append(nNewNode);insert=$(nNewNode)}else{if(cOption==">"){insert=insert.parent()}else{if(cOption=="l"&&features.bPaginate&&features.bLengthChange){featureNode=_fnFeatureHtmlLength(oSettings)}else{if(cOption=="f"&&features.bFilter){featureNode=_fnFeatureHtmlFilter(oSettings)}else{if(cOption=="r"&&features.bProcessing){featureNode=_fnFeatureHtmlProcessing(oSettings)}else{if(cOption=="t"){featureNode=_fnFeatureHtmlTable(oSettings)}else{if(cOption=="i"&&features.bInfo){featureNode=_fnFeatureHtmlInfo(oSettings)}else{if(cOption=="p"&&features.bPaginate){featureNode=_fnFeatureHtmlPaginate(oSettings)}else{if(DataTable.ext.feature.length!==0){var aoFeatures=DataTable.ext.feature;for(var k=0,kLen=aoFeatures.length;k<kLen;k++){if(cOption==aoFeatures[k].cFeature){featureNode=aoFeatures[k].fnInit(oSettings);break}}}}}}}}}}}if(featureNode){var aanFeatures=oSettings.aanFeatures;if(!aanFeatures[cOption]){aanFeatures[cOption]=[]}aanFeatures[cOption].push(featureNode);insert.append(featureNode)}}holding.replaceWith(insert);oSettings.nHolding=null}function _fnDetectHeader(aLayout,nThead){var nTrs=$(nThead).children("tr");var nTr,nCell;var i,k,l,iLen,jLen,iColShifted,iColumn,iColspan,iRowspan;var bUnique;var fnShiftCol=function(a,i,j){var k=a[i];while(k[j]){j++}return j};aLayout.splice(0,aLayout.length);for(i=0,iLen=nTrs.length;i<iLen;i++){aLayout.push([])}for(i=0,iLen=nTrs.length;i<iLen;i++){nTr=nTrs[i];iColumn=0;nCell=nTr.firstChild;while(nCell){if(nCell.nodeName.toUpperCase()=="TD"||nCell.nodeName.toUpperCase()=="TH"){iColspan=nCell.getAttribute("colspan")*1;iRowspan=nCell.getAttribute("rowspan")*1;iColspan=(!iColspan||iColspan===0||iColspan===1)?1:iColspan;iRowspan=(!iRowspan||iRowspan===0||iRowspan===1)?1:iRowspan;iColShifted=fnShiftCol(aLayout,i,iColumn);bUnique=iColspan===1?true:false;for(l=0;l<iColspan;l++){for(k=0;k<iRowspan;k++){aLayout[i+k][iColShifted+l]={cell:nCell,unique:bUnique};aLayout[i+k].nTr=nTr}}}nCell=nCell.nextSibling}}}function _fnGetUniqueThs(oSettings,nHeader,aLayout){var aReturn=[];if(!aLayout){aLayout=oSettings.aoHeader;if(nHeader){aLayout=[];_fnDetectHeader(aLayout,nHeader)}}for(var i=0,iLen=aLayout.length;i<iLen;i++){for(var j=0,jLen=aLayout[i].length;j<jLen;j++){if(aLayout[i][j].unique&&(!aReturn[j]||!oSettings.bSortCellsTop)){aReturn[j]=aLayout[i][j].cell}}}return aReturn}function _fnBuildAjax(oSettings,data,fn){_fnCallbackFire(oSettings,"aoServerParams","serverParams",[data]);if(data&&$.isArray(data)){var tmp={};var rbracket=/(.*?)\[\]$/;$.each(data,function(key,val){var match=val.name.match(rbracket);if(match){var name=match[0];if(!tmp[name]){tmp[name]=[]}tmp[name].push(val.value)}else{tmp[val.name]=val.value}});data=tmp}var ajaxData;var ajax=oSettings.ajax;var instance=oSettings.oInstance;var callback=function(json){_fnCallbackFire(oSettings,null,"xhr",[oSettings,json,oSettings.jqXHR]);fn(json)};if($.isPlainObject(ajax)&&ajax.data){ajaxData=ajax.data;var newData=$.isFunction(ajaxData)?ajaxData(data,oSettings):ajaxData;data=$.isFunction(ajaxData)&&newData?newData:$.extend(true,data,newData);delete ajax.data}var baseAjax={data:data,success:function(json){var error=json.error||json.sError;if(error){_fnLog(oSettings,0,error)}oSettings.json=json;callback(json)},dataType:"json",cache:false,type:oSettings.sServerMethod,error:function(xhr,error,thrown){var ret=_fnCallbackFire(oSettings,null,"xhr",[oSettings,null,oSettings.jqXHR]);if($.inArray(true,ret)===-1){if(error=="parsererror"){_fnLog(oSettings,0,"Invalid JSON response",1)}else{if(xhr.readyState===4){_fnLog(oSettings,0,"Ajax error",7)}}}_fnProcessingDisplay(oSettings,false)}};oSettings.oAjaxData=data;_fnCallbackFire(oSettings,null,"preXhr",[oSettings,data]);if(oSettings.fnServerData){oSettings.fnServerData.call(instance,oSettings.sAjaxSource,$.map(data,function(val,key){return{name:key,value:val}}),callback,oSettings)}else{if(oSettings.sAjaxSource||typeof ajax==="string"){oSettings.jqXHR=$.ajax($.extend(baseAjax,{url:ajax||oSettings.sAjaxSource}))}else{if($.isFunction(ajax)){oSettings.jqXHR=ajax.call(instance,data,callback,oSettings)}else{oSettings.jqXHR=$.ajax($.extend(baseAjax,ajax));ajax.data=ajaxData}}}}function _fnAjaxUpdate(settings){if(settings.bAjaxDataGet){settings.iDraw++;_fnProcessingDisplay(settings,true);_fnBuildAjax(settings,_fnAjaxParameters(settings),function(json){_fnAjaxUpdateDraw(settings,json)});return false}return true}function _fnAjaxParameters(settings){var columns=settings.aoColumns,columnCount=columns.length,features=settings.oFeatures,preSearch=settings.oPreviousSearch,preColSearch=settings.aoPreSearchCols,i,data=[],dataProp,column,columnSearch,sort=_fnSortFlatten(settings),displayStart=settings._iDisplayStart,displayLength=features.bPaginate!==false?settings._iDisplayLength:-1;var param=function(name,value){data.push({name:name,value:value})};param("sEcho",settings.iDraw);param("iColumns",columnCount);param("sColumns",_pluck(columns,"sName").join(","));param("iDisplayStart",displayStart);param("iDisplayLength",displayLength);var d={draw:settings.iDraw,columns:[],order:[],start:displayStart,length:displayLength,search:{value:preSearch.sSearch,regex:preSearch.bRegex}};for(i=0;i<columnCount;i++){column=columns[i];columnSearch=preColSearch[i];dataProp=typeof column.mData=="function"?"function":column.mData;d.columns.push({data:dataProp,name:column.sName,searchable:column.bSearchable,orderable:column.bSortable,search:{value:columnSearch.sSearch,regex:columnSearch.bRegex}});param("mDataProp_"+i,dataProp);if(features.bFilter){param("sSearch_"+i,columnSearch.sSearch);param("bRegex_"+i,columnSearch.bRegex);param("bSearchable_"+i,column.bSearchable)}if(features.bSort){param("bSortable_"+i,column.bSortable)}}if(features.bFilter){param("sSearch",preSearch.sSearch);param("bRegex",preSearch.bRegex)}if(features.bSort){$.each(sort,function(i,val){d.order.push({column:val.col,dir:val.dir});param("iSortCol_"+i,val.col);param("sSortDir_"+i,val.dir)});param("iSortingCols",sort.length)}var legacy=DataTable.ext.legacy.ajax;if(legacy===null){return settings.sAjaxSource?data:d}return legacy?data:d}function _fnAjaxUpdateDraw(settings,json){var compat=function(old,modern){return json[old]!==undefined?json[old]:json[modern]};var data=_fnAjaxDataSrc(settings,json);var draw=compat("sEcho","draw");var recordsTotal=compat("iTotalRecords","recordsTotal");var recordsFiltered=compat("iTotalDisplayRecords","recordsFiltered");if(draw){if(draw*1<settings.iDraw){return}settings.iDraw=draw*1}_fnClearTable(settings);settings._iRecordsTotal=parseInt(recordsTotal,10);settings._iRecordsDisplay=parseInt(recordsFiltered,10);for(var i=0,ien=data.length;i<ien;i++){_fnAddData(settings,data[i])}settings.aiDisplay=settings.aiDisplayMaster.slice();settings.bAjaxDataGet=false;_fnDraw(settings);if(!settings._bInitComplete){_fnInitComplete(settings,json)}settings.bAjaxDataGet=true;_fnProcessingDisplay(settings,false)}function _fnAjaxDataSrc(oSettings,json){var dataSrc=$.isPlainObject(oSettings.ajax)&&oSettings.ajax.dataSrc!==undefined?oSettings.ajax.dataSrc:oSettings.sAjaxDataProp;if(dataSrc==="data"){return json.aaData||json[dataSrc]}return dataSrc!==""?_fnGetObjectDataFn(dataSrc)(json):json}function _fnFeatureHtmlFilter(settings){var classes=settings.oClasses;var tableId=settings.sTableId;var language=settings.oLanguage;var previousSearch=settings.oPreviousSearch;var features=settings.aanFeatures;var input='<input type="search" class="'+classes.sFilterInput+'"/>';var str=language.sSearch;str=str.match(/_INPUT_/)?str.replace("_INPUT_",input):str+input;var filter=$("<div/>",{id:!features.f?tableId+"_filter":null,"class":classes.sFilter}).append($("<label/>").append(str));var searchFn=function(){var n=features.f;var val=!this.value?"":this.value;if(val!=previousSearch.sSearch){_fnFilterComplete(settings,{sSearch:val,bRegex:previousSearch.bRegex,bSmart:previousSearch.bSmart,bCaseInsensitive:previousSearch.bCaseInsensitive});settings._iDisplayStart=0;_fnDraw(settings)}};var searchDelay=settings.searchDelay!==null?settings.searchDelay:_fnDataSource(settings)==="ssp"?400:0;var jqFilter=$("input",filter).val(previousSearch.sSearch).attr("placeholder",language.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",searchDelay?_fnThrottle(searchFn,searchDelay):searchFn).on("keypress.DT",function(e){if(e.keyCode==13){return false}}).attr("aria-controls",tableId);$(settings.nTable).on("search.dt.DT",function(ev,s){if(settings===s){try{if(jqFilter[0]!==document.activeElement){jqFilter.val(previousSearch.sSearch)}}catch(e){}}});return filter[0]}function _fnFilterComplete(oSettings,oInput,iForce){var oPrevSearch=oSettings.oPreviousSearch;var aoPrevSearch=oSettings.aoPreSearchCols;var fnSaveFilter=function(oFilter){oPrevSearch.sSearch=oFilter.sSearch;oPrevSearch.bRegex=oFilter.bRegex;oPrevSearch.bSmart=oFilter.bSmart;oPrevSearch.bCaseInsensitive=oFilter.bCaseInsensitive};var fnRegex=function(o){return o.bEscapeRegex!==undefined?!o.bEscapeRegex:o.bRegex};_fnColumnTypes(oSettings);if(_fnDataSource(oSettings)!="ssp"){_fnFilter(oSettings,oInput.sSearch,iForce,fnRegex(oInput),oInput.bSmart,oInput.bCaseInsensitive);fnSaveFilter(oInput);for(var i=0;i<aoPrevSearch.length;i++){_fnFilterColumn(oSettings,aoPrevSearch[i].sSearch,i,fnRegex(aoPrevSearch[i]),aoPrevSearch[i].bSmart,aoPrevSearch[i].bCaseInsensitive)}_fnFilterCustom(oSettings)}else{fnSaveFilter(oInput)}oSettings.bFiltered=true;_fnCallbackFire(oSettings,null,"search",[oSettings])}function _fnFilterCustom(settings){var filters=DataTable.ext.search;var displayRows=settings.aiDisplay;var row,rowIdx;for(var i=0,ien=filters.length;i<ien;i++){var rows=[];for(var j=0,jen=displayRows.length;j<jen;j++){rowIdx=displayRows[j];row=settings.aoData[rowIdx];if(filters[i](settings,row._aFilterData,rowIdx,row._aData,j)){rows.push(rowIdx)}}displayRows.length=0;$.merge(displayRows,rows)}}function _fnFilterColumn(settings,searchStr,colIdx,regex,smart,caseInsensitive){if(searchStr===""){return}var data;var out=[];var display=settings.aiDisplay;var rpSearch=_fnFilterCreateSearch(searchStr,regex,smart,caseInsensitive);for(var i=0;i<display.length;i++){data=settings.aoData[display[i]]._aFilterData[colIdx];if(rpSearch.test(data)){out.push(display[i])}}settings.aiDisplay=out}function _fnFilter(settings,input,force,regex,smart,caseInsensitive){var rpSearch=_fnFilterCreateSearch(input,regex,smart,caseInsensitive);var prevSearch=settings.oPreviousSearch.sSearch;var displayMaster=settings.aiDisplayMaster;var display,invalidated,i;var filtered=[];if(DataTable.ext.search.length!==0){force=true}invalidated=_fnFilterData(settings);if(input.length<=0){settings.aiDisplay=displayMaster.slice()}else{if(invalidated||force||prevSearch.length>input.length||input.indexOf(prevSearch)!==0||settings.bSorted){settings.aiDisplay=displayMaster.slice()}display=settings.aiDisplay;for(i=0;i<display.length;i++){if(rpSearch.test(settings.aoData[display[i]]._sFilterRow)){filtered.push(display[i])}}settings.aiDisplay=filtered}}function _fnFilterCreateSearch(search,regex,smart,caseInsensitive){search=regex?search:_fnEscapeRegex(search);if(smart){var a=$.map(search.match(/"[^"]+"|[^ ]+/g)||[""],function(word){if(word.charAt(0)==='"'){var m=word.match(/^"(.*)"$/);word=m?m[1]:word}return word.replace('"',"")});search="^(?=.*?"+a.join(")(?=.*?")+").*$"}return new RegExp(search,caseInsensitive?"i":"")}var _fnEscapeRegex=DataTable.util.escapeRegex;var __filter_div=$("<div>")[0];var __filter_div_textContent=__filter_div.textContent!==undefined;function _fnFilterData(settings){var columns=settings.aoColumns;var column;var i,j,ien,jen,filterData,cellData,row;var fomatters=DataTable.ext.type.search;var wasInvalidated=false;for(i=0,ien=settings.aoData.length;i<ien;i++){row=settings.aoData[i];if(!row._aFilterData){filterData=[];for(j=0,jen=columns.length;j<jen;j++){column=columns[j];if(column.bSearchable){cellData=_fnGetCellData(settings,i,j,"filter");if(fomatters[column.sType]){cellData=fomatters[column.sType](cellData)}if(cellData===null){cellData=""}if(typeof cellData!=="string"&&cellData.toString){cellData=cellData.toString()}}else{cellData=""}if(cellData.indexOf&&cellData.indexOf("&")!==-1){__filter_div.innerHTML=cellData;cellData=__filter_div_textContent?__filter_div.textContent:__filter_div.innerText}if(cellData.replace){cellData=cellData.replace(/[\r\n]/g,"")}filterData.push(cellData)}row._aFilterData=filterData;row._sFilterRow=filterData.join("  ");wasInvalidated=true}}return wasInvalidated}function _fnSearchToCamel(obj){return{search:obj.sSearch,smart:obj.bSmart,regex:obj.bRegex,caseInsensitive:obj.bCaseInsensitive}}function _fnSearchToHung(obj){return{sSearch:obj.search,bSmart:obj.smart,bRegex:obj.regex,bCaseInsensitive:obj.caseInsensitive}}function _fnFeatureHtmlInfo(settings){var tid=settings.sTableId,nodes=settings.aanFeatures.i,n=$("<div/>",{"class":settings.oClasses.sInfo,id:!nodes?tid+"_info":null});if(!nodes){settings.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"});n.attr("role","status").attr("aria-live","polite");$(settings.nTable).attr("aria-describedby",tid+"_info")}return n[0]}function _fnUpdateInfo(settings){var nodes=settings.aanFeatures.i;if(nodes.length===0){return}var lang=settings.oLanguage,start=settings._iDisplayStart+1,end=settings.fnDisplayEnd(),max=settings.fnRecordsTotal(),total=settings.fnRecordsDisplay(),out=total?lang.sInfo:lang.sInfoEmpty;if(total!==max){out+=" "+lang.sInfoFiltered}out+=lang.sInfoPostFix;out=_fnInfoMacros(settings,out);var callback=lang.fnInfoCallback;if(callback!==null){out=callback.call(settings.oInstance,settings,start,end,max,total,out)}$(nodes).html(out)}function _fnInfoMacros(settings,str){var formatter=settings.fnFormatNumber,start=settings._iDisplayStart+1,len=settings._iDisplayLength,vis=settings.fnRecordsDisplay(),all=len===-1;return str.replace(/_START_/g,formatter.call(settings,start)).replace(/_END_/g,formatter.call(settings,settings.fnDisplayEnd())).replace(/_MAX_/g,formatter.call(settings,settings.fnRecordsTotal())).replace(/_TOTAL_/g,formatter.call(settings,vis)).replace(/_PAGE_/g,formatter.call(settings,all?1:Math.ceil(start/len))).replace(/_PAGES_/g,formatter.call(settings,all?1:Math.ceil(vis/len)))}function _fnInitialise(settings){var i,iLen,iAjaxStart=settings.iInitDisplayStart;var columns=settings.aoColumns,column;var features=settings.oFeatures;var deferLoading=settings.bDeferLoading;if(!settings.bInitialised){setTimeout(function(){_fnInitialise(settings)},200);return}_fnAddOptionsHtml(settings);_fnBuildHead(settings);_fnDrawHead(settings,settings.aoHeader);_fnDrawHead(settings,settings.aoFooter);_fnProcessingDisplay(settings,true);if(features.bAutoWidth){_fnCalculateColumnWidths(settings)}for(i=0,iLen=columns.length;i<iLen;i++){column=columns[i];if(column.sWidth){column.nTh.style.width=_fnStringToCss(column.sWidth)}}_fnCallbackFire(settings,null,"preInit",[settings]);_fnReDraw(settings);var dataSrc=_fnDataSource(settings);if(dataSrc!="ssp"||deferLoading){if(dataSrc=="ajax"){_fnBuildAjax(settings,[],function(json){var aData=_fnAjaxDataSrc(settings,json);for(i=0;i<aData.length;i++){_fnAddData(settings,aData[i])}settings.iInitDisplayStart=iAjaxStart;_fnReDraw(settings);_fnProcessingDisplay(settings,false);_fnInitComplete(settings,json)},settings)}else{_fnProcessingDisplay(settings,false);_fnInitComplete(settings)}}}function _fnInitComplete(settings,json){settings._bInitComplete=true;if(json||settings.oInit.aaData){_fnAdjustColumnSizing(settings)}_fnCallbackFire(settings,null,"plugin-init",[settings,json]);_fnCallbackFire(settings,"aoInitComplete","init",[settings,json])}function _fnLengthChange(settings,val){var len=parseInt(val,10);settings._iDisplayLength=len;_fnLengthOverflow(settings);_fnCallbackFire(settings,null,"length",[settings,len])}function _fnFeatureHtmlLength(settings){var classes=settings.oClasses,tableId=settings.sTableId,menu=settings.aLengthMenu,d2=$.isArray(menu[0]),lengths=d2?menu[0]:menu,language=d2?menu[1]:menu;var select=$("<select/>",{name:tableId+"_length","aria-controls":tableId,"class":classes.sLengthSelect});for(var i=0,ien=lengths.length;i<ien;i++){select[0][i]=new Option(language[i],lengths[i])}var div=$("<div><label/></div>").addClass(classes.sLength);if(!settings.aanFeatures.l){div[0].id=tableId+"_length"}div.children().append(settings.oLanguage.sLengthMenu.replace("_MENU_",select[0].outerHTML));$("select",div).val(settings._iDisplayLength).on("change.DT",function(e){_fnLengthChange(settings,$(this).val());_fnDraw(settings)});$(settings.nTable).on("length.dt.DT",function(e,s,len){if(settings===s){$("select",div).val(len)}});return div[0]}function _fnFeatureHtmlPaginate(settings){var type=settings.sPaginationType,plugin=DataTable.ext.pager[type],modern=typeof plugin==="function",redraw=function(settings){_fnDraw(settings)},node=$("<div/>").addClass(settings.oClasses.sPaging+type)[0],features=settings.aanFeatures;if(!modern){plugin.fnInit(settings,node,redraw)}if(!features.p){node.id=settings.sTableId+"_paginate";settings.aoDrawCallback.push({fn:function(settings){if(modern){var start=settings._iDisplayStart,len=settings._iDisplayLength,visRecords=settings.fnRecordsDisplay(),all=len===-1,page=all?0:Math.ceil(start/len),pages=all?1:Math.ceil(visRecords/len),buttons=plugin(page,pages),i,ien;for(i=0,ien=features.p.length;i<ien;i++){_fnRenderer(settings,"pageButton")(settings,features.p[i],i,buttons,page,pages)}}else{plugin.fnUpdate(settings,redraw)}},sName:"pagination"})}return node}function _fnPageChange(settings,action,redraw){var start=settings._iDisplayStart,len=settings._iDisplayLength,records=settings.fnRecordsDisplay();if(records===0||len===-1){start=0}else{if(typeof action==="number"){start=action*len;if(start>records){start=0}}else{if(action=="first"){start=0}else{if(action=="previous"){start=len>=0?start-len:0;if(start<0){start=0}}else{if(action=="next"){if(start+len<records){start+=len}}else{if(action=="last"){start=Math.floor((records-1)/len)*len}else{_fnLog(settings,0,"Unknown paging action: "+action,5)}}}}}}var changed=settings._iDisplayStart!==start;settings._iDisplayStart=start;if(changed){_fnCallbackFire(settings,null,"page",[settings]);if(redraw){_fnDraw(settings)}}return changed}function _fnFeatureHtmlProcessing(settings){return $("<div/>",{id:!settings.aanFeatures.r?settings.sTableId+"_processing":null,"class":settings.oClasses.sProcessing}).html(settings.oLanguage.sProcessing).insertBefore(settings.nTable)[0]}function _fnProcessingDisplay(settings,show){if(settings.oFeatures.bProcessing){$(settings.aanFeatures.r).css("display",show?"block":"none")}_fnCallbackFire(settings,null,"processing",[settings,show])}function _fnFeatureHtmlTable(settings){var table=$(settings.nTable);table.attr("role","grid");var scroll=settings.oScroll;if(scroll.sX===""&&scroll.sY===""){return settings.nTable}var scrollX=scroll.sX;var scrollY=scroll.sY;var classes=settings.oClasses;var caption=table.children("caption");var captionSide=caption.length?caption[0]._captionSide:null;var headerClone=$(table[0].cloneNode(false));var footerClone=$(table[0].cloneNode(false));var footer=table.children("tfoot");var _div="<div/>";var size=function(s){return !s?null:_fnStringToCss(s)};if(!footer.length){footer=null}var scroller=$(_div,{"class":classes.sScrollWrapper}).append($(_div,{"class":classes.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:scrollX?size(scrollX):"100%"}).append($(_div,{"class":classes.sScrollHeadInner}).css({"box-sizing":"content-box",width:scroll.sXInner||"100%"}).append(headerClone.removeAttr("id").css("margin-left",0).append(captionSide==="top"?caption:null).append(table.children("thead"))))).append($(_div,{"class":classes.sScrollBody}).css({position:"relative",overflow:"auto",width:size(scrollX)}).append(table));if(footer){scroller.append($(_div,{"class":classes.sScrollFoot}).css({overflow:"hidden",border:0,width:scrollX?size(scrollX):"100%"}).append($(_div,{"class":classes.sScrollFootInner}).append(footerClone.removeAttr("id").css("margin-left",0).append(captionSide==="bottom"?caption:null).append(table.children("tfoot")))))}var children=scroller.children();var scrollHead=children[0];var scrollBody=children[1];var scrollFoot=footer?children[2]:null;if(scrollX){$(scrollBody).on("scroll.DT",function(e){var scrollLeft=this.scrollLeft;scrollHead.scrollLeft=scrollLeft;if(footer){scrollFoot.scrollLeft=scrollLeft}})}$(scrollBody).css(scrollY&&scroll.bCollapse?"max-height":"height",scrollY);settings.nScrollHead=scrollHead;settings.nScrollBody=scrollBody;settings.nScrollFoot=scrollFoot;settings.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"});return scroller[0]}function _fnScrollDraw(settings){var scroll=settings.oScroll,scrollX=scroll.sX,scrollXInner=scroll.sXInner,scrollY=scroll.sY,barWidth=scroll.iBarWidth,divHeader=$(settings.nScrollHead),divHeaderStyle=divHeader[0].style,divHeaderInner=divHeader.children("div"),divHeaderInnerStyle=divHeaderInner[0].style,divHeaderTable=divHeaderInner.children("table"),divBodyEl=settings.nScrollBody,divBody=$(divBodyEl),divBodyStyle=divBodyEl.style,divFooter=$(settings.nScrollFoot),divFooterInner=divFooter.children("div"),divFooterTable=divFooterInner.children("table"),header=$(settings.nTHead),table=$(settings.nTable),tableEl=table[0],tableStyle=tableEl.style,footer=settings.nTFoot?$(settings.nTFoot):null,browser=settings.oBrowser,ie67=browser.bScrollOversize,dtHeaderCells=_pluck(settings.aoColumns,"nTh"),headerTrgEls,footerTrgEls,headerSrcEls,footerSrcEls,headerCopy,footerCopy,headerWidths=[],footerWidths=[],headerContent=[],footerContent=[],idx,correction,sanityWidth,zeroOut=function(nSizer){var style=nSizer.style;style.paddingTop="0";style.paddingBottom="0";style.borderTopWidth="0";style.borderBottomWidth="0";style.height=0};var scrollBarVis=divBodyEl.scrollHeight>divBodyEl.clientHeight;if(settings.scrollBarVis!==scrollBarVis&&settings.scrollBarVis!==undefined){settings.scrollBarVis=scrollBarVis;_fnAdjustColumnSizing(settings);return}else{settings.scrollBarVis=scrollBarVis}table.children("thead, tfoot").remove();if(footer){footerCopy=footer.clone().prependTo(table);footerTrgEls=footer.find("tr");footerSrcEls=footerCopy.find("tr")}headerCopy=header.clone().prependTo(table);headerTrgEls=header.find("tr");headerSrcEls=headerCopy.find("tr");headerCopy.find("th, td").removeAttr("tabindex");if(!scrollX){divBodyStyle.width="100%";divHeader[0].style.width="100%"}$.each(_fnGetUniqueThs(settings,headerCopy),function(i,el){idx=_fnVisibleToColumnIndex(settings,i);el.style.width=settings.aoColumns[idx].sWidth});if(footer){_fnApplyToChildren(function(n){n.style.width=""},footerSrcEls)}sanityWidth=table.outerWidth();if(scrollX===""){tableStyle.width="100%";if(ie67&&(table.find("tbody").height()>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll")){tableStyle.width=_fnStringToCss(table.outerWidth()-barWidth)}sanityWidth=table.outerWidth()}else{if(scrollXInner!==""){tableStyle.width=_fnStringToCss(scrollXInner);sanityWidth=table.outerWidth()}}_fnApplyToChildren(zeroOut,headerSrcEls);_fnApplyToChildren(function(nSizer){headerContent.push(nSizer.innerHTML);headerWidths.push(_fnStringToCss($(nSizer).css("width")))},headerSrcEls);_fnApplyToChildren(function(nToSize,i){if($.inArray(nToSize,dtHeaderCells)!==-1){nToSize.style.width=headerWidths[i]}},headerTrgEls);$(headerSrcEls).height(0);if(footer){_fnApplyToChildren(zeroOut,footerSrcEls);_fnApplyToChildren(function(nSizer){footerContent.push(nSizer.innerHTML);footerWidths.push(_fnStringToCss($(nSizer).css("width")))},footerSrcEls);_fnApplyToChildren(function(nToSize,i){nToSize.style.width=footerWidths[i]},footerTrgEls);$(footerSrcEls).height(0)}_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+headerContent[i]+"</div>";nSizer.style.width=headerWidths[i]},headerSrcEls);if(footer){_fnApplyToChildren(function(nSizer,i){nSizer.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+footerContent[i]+"</div>";nSizer.style.width=footerWidths[i]},footerSrcEls)}if(table.outerWidth()<sanityWidth){correction=((divBodyEl.scrollHeight>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll"))?sanityWidth+barWidth:sanityWidth;if(ie67&&(divBodyEl.scrollHeight>divBodyEl.offsetHeight||divBody.css("overflow-y")=="scroll")){tableStyle.width=_fnStringToCss(correction-barWidth)}if(scrollX===""||scrollXInner!==""){_fnLog(settings,1,"Possible column misalignment",6)}}else{correction="100%"}divBodyStyle.width=_fnStringToCss(correction);divHeaderStyle.width=_fnStringToCss(correction);if(footer){settings.nScrollFoot.style.width=_fnStringToCss(correction)}if(!scrollY){if(ie67){divBodyStyle.height=_fnStringToCss(tableEl.offsetHeight+barWidth)}}var iOuterWidth=table.outerWidth();divHeaderTable[0].style.width=_fnStringToCss(iOuterWidth);divHeaderInnerStyle.width=_fnStringToCss(iOuterWidth);var bScrolling=table.height()>divBodyEl.clientHeight||divBody.css("overflow-y")=="scroll";var padding="padding"+(browser.bScrollbarLeft?"Left":"Right");divHeaderInnerStyle[padding]=bScrolling?barWidth+"px":"0px";if(footer){divFooterTable[0].style.width=_fnStringToCss(iOuterWidth);divFooterInner[0].style.width=_fnStringToCss(iOuterWidth);divFooterInner[0].style[padding]=bScrolling?barWidth+"px":"0px"}table.children("colgroup").insertBefore(table.children("thead"));divBody.scroll();if((settings.bSorted||settings.bFiltered)&&!settings._drawHold){divBodyEl.scrollTop=0}}function _fnApplyToChildren(fn,an1,an2){var index=0,i=0,iLen=an1.length;var nNode1,nNode2;while(i<iLen){nNode1=an1[i].firstChild;nNode2=an2?an2[i].firstChild:null;while(nNode1){if(nNode1.nodeType===1){if(an2){fn(nNode1,nNode2,index)}else{fn(nNode1,index)}index++}nNode1=nNode1.nextSibling;nNode2=an2?nNode2.nextSibling:null}i++}}var __re_html_remove=/<.*?>/g;function _fnCalculateColumnWidths(oSettings){var table=oSettings.nTable,columns=oSettings.aoColumns,scroll=oSettings.oScroll,scrollY=scroll.sY,scrollX=scroll.sX,scrollXInner=scroll.sXInner,columnCount=columns.length,visibleColumns=_fnGetColumns(oSettings,"bVisible"),headerCells=$("th",oSettings.nTHead),tableWidthAttr=table.getAttribute("width"),tableContainer=table.parentNode,userInputs=false,i,column,columnIdx,width,outerWidth,browser=oSettings.oBrowser,ie67=browser.bScrollOversize;var styleWidth=table.style.width;if(styleWidth&&styleWidth.indexOf("%")!==-1){tableWidthAttr=styleWidth}for(i=0;i<visibleColumns.length;i++){column=columns[visibleColumns[i]];if(column.sWidth!==null){column.sWidth=_fnConvertToWidth(column.sWidthOrig,tableContainer);userInputs=true}}if(ie67||!userInputs&&!scrollX&&!scrollY&&columnCount==_fnVisbleColumns(oSettings)&&columnCount==headerCells.length){for(i=0;i<columnCount;i++){var colIdx=_fnVisibleToColumnIndex(oSettings,i);if(colIdx!==null){columns[colIdx].sWidth=_fnStringToCss(headerCells.eq(i).width())}}}else{var tmpTable=$(table).clone().css("visibility","hidden").removeAttr("id");tmpTable.find("tbody tr").remove();var tr=$("<tr/>").appendTo(tmpTable.find("tbody"));tmpTable.find("thead, tfoot").remove();tmpTable.append($(oSettings.nTHead).clone()).append($(oSettings.nTFoot).clone());tmpTable.find("tfoot th, tfoot td").css("width","");headerCells=_fnGetUniqueThs(oSettings,tmpTable.find("thead")[0]);for(i=0;i<visibleColumns.length;i++){column=columns[visibleColumns[i]];headerCells[i].style.width=column.sWidthOrig!==null&&column.sWidthOrig!==""?_fnStringToCss(column.sWidthOrig):"";if(column.sWidthOrig&&scrollX){$(headerCells[i]).append($("<div/>").css({width:column.sWidthOrig,margin:0,padding:0,border:0,height:1}))}}if(oSettings.aoData.length){for(i=0;i<visibleColumns.length;i++){columnIdx=visibleColumns[i];column=columns[columnIdx];$(_fnGetWidestNode(oSettings,columnIdx)).clone(false).append(column.sContentPadding).appendTo(tr)}}$("[name]",tmpTable).removeAttr("name");var holder=$("<div/>").css(scrollX||scrollY?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(tmpTable).appendTo(tableContainer);if(scrollX&&scrollXInner){tmpTable.width(scrollXInner)}else{if(scrollX){tmpTable.css("width","auto");tmpTable.removeAttr("width");if(tmpTable.width()<tableContainer.clientWidth&&tableWidthAttr){tmpTable.width(tableContainer.clientWidth)}}else{if(scrollY){tmpTable.width(tableContainer.clientWidth)}else{if(tableWidthAttr){tmpTable.width(tableWidthAttr)}}}}var total=0;for(i=0;i<visibleColumns.length;i++){var cell=$(headerCells[i]);var border=cell.outerWidth()-cell.width();var bounding=browser.bBounding?Math.ceil(headerCells[i].getBoundingClientRect().width):cell.outerWidth();total+=bounding;columns[visibleColumns[i]].sWidth=_fnStringToCss(bounding-border)}table.style.width=_fnStringToCss(total);holder.remove()}if(tableWidthAttr){table.style.width=_fnStringToCss(tableWidthAttr)}if((tableWidthAttr||scrollX)&&!oSettings._reszEvt){var bindResize=function(){$(window).on("resize.DT-"+oSettings.sInstance,_fnThrottle(function(){_fnAdjustColumnSizing(oSettings)}))};if(ie67){setTimeout(bindResize,1000)}else{bindResize()}oSettings._reszEvt=true}}var _fnThrottle=DataTable.util.throttle;function _fnConvertToWidth(width,parent){if(!width){return 0}var n=$("<div/>").css("width",_fnStringToCss(width)).appendTo(parent||document.body);var val=n[0].offsetWidth;n.remove();return val}function _fnGetWidestNode(settings,colIdx){var idx=_fnGetMaxLenString(settings,colIdx);if(idx<0){return null}var data=settings.aoData[idx];return !data.nTr?$("<td/>").html(_fnGetCellData(settings,idx,colIdx,"display"))[0]:data.anCells[colIdx]}function _fnGetMaxLenString(settings,colIdx){var s,max=-1,maxIdx=-1;for(var i=0,ien=settings.aoData.length;i<ien;i++){s=_fnGetCellData(settings,i,colIdx,"display")+"";s=s.replace(__re_html_remove,"");s=s.replace(/&nbsp;/g," ");if(s.length>max){max=s.length;maxIdx=i}}return maxIdx}function _fnStringToCss(s){if(s===null){return"0px"}if(typeof s=="number"){return s<0?"0px":s+"px"}return s.match(/\d$/)?s+"px":s}function _fnSortFlatten(settings){var i,iLen,k,kLen,aSort=[],aiOrig=[],aoColumns=settings.aoColumns,aDataSort,iCol,sType,srcCol,fixed=settings.aaSortingFixed,fixedObj=$.isPlainObject(fixed),nestedSort=[],add=function(a){if(a.length&&!$.isArray(a[0])){nestedSort.push(a)}else{$.merge(nestedSort,a)}};if($.isArray(fixed)){add(fixed)}if(fixedObj&&fixed.pre){add(fixed.pre)}add(settings.aaSorting);if(fixedObj&&fixed.post){add(fixed.post)}for(i=0;i<nestedSort.length;i++){srcCol=nestedSort[i][0];aDataSort=aoColumns[srcCol].aDataSort;for(k=0,kLen=aDataSort.length;k<kLen;k++){iCol=aDataSort[k];sType=aoColumns[iCol].sType||"string";if(nestedSort[i]._idx===undefined){nestedSort[i]._idx=$.inArray(nestedSort[i][1],aoColumns[iCol].asSorting)}aSort.push({src:srcCol,col:iCol,dir:nestedSort[i][1],index:nestedSort[i]._idx,type:sType,formatter:DataTable.ext.type.order[sType+"-pre"]})}}return aSort}function _fnSort(oSettings){var i,ien,iLen,j,jLen,k,kLen,sDataType,nTh,aiOrig=[],oExtSort=DataTable.ext.type.order,aoData=oSettings.aoData,aoColumns=oSettings.aoColumns,aDataSort,data,iCol,sType,oSort,formatters=0,sortCol,displayMaster=oSettings.aiDisplayMaster,aSort;_fnColumnTypes(oSettings);aSort=_fnSortFlatten(oSettings);for(i=0,ien=aSort.length;i<ien;i++){sortCol=aSort[i];if(sortCol.formatter){formatters++}_fnSortData(oSettings,sortCol.col)}if(_fnDataSource(oSettings)!="ssp"&&aSort.length!==0){for(i=0,iLen=displayMaster.length;i<iLen;i++){aiOrig[displayMaster[i]]=i}if(formatters===aSort.length){displayMaster.sort(function(a,b){var x,y,k,test,sort,len=aSort.length,dataA=aoData[a]._aSortData,dataB=aoData[b]._aSortData;for(k=0;k<len;k++){sort=aSort[k];x=dataA[sort.col];y=dataB[sort.col];test=x<y?-1:x>y?1:0;if(test!==0){return sort.dir==="asc"?test:-test}}x=aiOrig[a];y=aiOrig[b];return x<y?-1:x>y?1:0})}else{displayMaster.sort(function(a,b){var x,y,k,l,test,sort,fn,len=aSort.length,dataA=aoData[a]._aSortData,dataB=aoData[b]._aSortData;for(k=0;k<len;k++){sort=aSort[k];x=dataA[sort.col];y=dataB[sort.col];fn=oExtSort[sort.type+"-"+sort.dir]||oExtSort["string-"+sort.dir];test=fn(x,y);if(test!==0){return test}}x=aiOrig[a];y=aiOrig[b];return x<y?-1:x>y?1:0})}}oSettings.bSorted=true}function _fnSortAria(settings){var label;var nextSort;var columns=settings.aoColumns;var aSort=_fnSortFlatten(settings);var oAria=settings.oLanguage.oAria;for(var i=0,iLen=columns.length;i<iLen;i++){var col=columns[i];var asSorting=col.asSorting;var sTitle=col.sTitle.replace(/<.*?>/g,"");var th=col.nTh;th.removeAttribute("aria-sort");if(col.bSortable){if(aSort.length>0&&aSort[0].col==i){th.setAttribute("aria-sort",aSort[0].dir=="asc"?"ascending":"descending");nextSort=asSorting[aSort[0].index+1]||asSorting[0]}else{nextSort=asSorting[0]}label=sTitle+(nextSort==="asc"?oAria.sSortAscending:oAria.sSortDescending)}else{label=sTitle}th.setAttribute("aria-label",label)}}function _fnSortListener(settings,colIdx,append,callback){var col=settings.aoColumns[colIdx];var sorting=settings.aaSorting;var asSorting=col.asSorting;var nextSortIdx;var next=function(a,overflow){var idx=a._idx;if(idx===undefined){idx=$.inArray(a[1],asSorting)}return idx+1<asSorting.length?idx+1:overflow?null:0};if(typeof sorting[0]==="number"){sorting=settings.aaSorting=[sorting]}if(append&&settings.oFeatures.bSortMulti){var sortIdx=$.inArray(colIdx,_pluck(sorting,"0"));if(sortIdx!==-1){nextSortIdx=next(sorting[sortIdx],true);if(nextSortIdx===null&&sorting.length===1){nextSortIdx=0}if(nextSortIdx===null){sorting.splice(sortIdx,1)}else{sorting[sortIdx][1]=asSorting[nextSortIdx];sorting[sortIdx]._idx=nextSortIdx}}else{sorting.push([colIdx,asSorting[0],0]);sorting[sorting.length-1]._idx=0}}else{if(sorting.length&&sorting[0][0]==colIdx){nextSortIdx=next(sorting[0]);sorting.length=1;sorting[0][1]=asSorting[nextSortIdx];sorting[0]._idx=nextSortIdx}else{sorting.length=0;sorting.push([colIdx,asSorting[0]]);sorting[0]._idx=0}}_fnReDraw(settings);if(typeof callback=="function"){callback(settings)}}function _fnSortAttachListener(settings,attachTo,colIdx,callback){var col=settings.aoColumns[colIdx];_fnBindAction(attachTo,{},function(e){if(col.bSortable===false){return}if(settings.oFeatures.bProcessing){_fnProcessingDisplay(settings,true);setTimeout(function(){_fnSortListener(settings,colIdx,e.shiftKey,callback);if(_fnDataSource(settings)!=="ssp"){_fnProcessingDisplay(settings,false)}},0)}else{_fnSortListener(settings,colIdx,e.shiftKey,callback)}})}function _fnSortingClasses(settings){var oldSort=settings.aLastSort;var sortClass=settings.oClasses.sSortColumn;var sort=_fnSortFlatten(settings);var features=settings.oFeatures;var i,ien,colIdx;if(features.bSort&&features.bSortClasses){for(i=0,ien=oldSort.length;i<ien;i++){colIdx=oldSort[i].src;$(_pluck(settings.aoData,"anCells",colIdx)).removeClass(sortClass+(i<2?i+1:3))}for(i=0,ien=sort.length;i<ien;i++){colIdx=sort[i].src;$(_pluck(settings.aoData,"anCells",colIdx)).addClass(sortClass+(i<2?i+1:3))}}settings.aLastSort=sort}function _fnSortData(settings,idx){var column=settings.aoColumns[idx];var customSort=DataTable.ext.order[column.sSortDataType];var customData;if(customSort){customData=customSort.call(settings.oInstance,settings,idx,_fnColumnIndexToVisible(settings,idx))}var row,cellData;var formatter=DataTable.ext.type.order[column.sType+"-pre"];for(var i=0,ien=settings.aoData.length;i<ien;i++){row=settings.aoData[i];if(!row._aSortData){row._aSortData=[]}if(!row._aSortData[idx]||customSort){cellData=customSort?customData[i]:_fnGetCellData(settings,i,idx,"sort");row._aSortData[idx]=formatter?formatter(cellData):cellData}}}function _fnSaveState(settings){if(!settings.oFeatures.bStateSave||settings.bDestroying){return}var state={time:+new Date(),start:settings._iDisplayStart,length:settings._iDisplayLength,order:$.extend(true,[],settings.aaSorting),search:_fnSearchToCamel(settings.oPreviousSearch),columns:$.map(settings.aoColumns,function(col,i){return{visible:col.bVisible,search:_fnSearchToCamel(settings.aoPreSearchCols[i])}})};_fnCallbackFire(settings,"aoStateSaveParams","stateSaveParams",[settings,state]);settings.oSavedState=state;settings.fnStateSaveCallback.call(settings.oInstance,settings,state)}function _fnLoadState(settings,oInit,callback){var i,ien;var columns=settings.aoColumns;var loaded=function(s){if(!s||!s.time){callback();return}var abStateLoad=_fnCallbackFire(settings,"aoStateLoadParams","stateLoadParams",[settings,state]);if($.inArray(false,abStateLoad)!==-1){callback();return}var duration=settings.iStateDuration;if(duration>0&&s.time<+new Date()-(duration*1000)){callback();return}if(s.columns&&columns.length!==s.columns.length){callback();return}settings.oLoadedState=$.extend(true,{},state);if(s.start!==undefined){settings._iDisplayStart=s.start;settings.iInitDisplayStart=s.start}if(s.length!==undefined){settings._iDisplayLength=s.length}if(s.order!==undefined){settings.aaSorting=[];$.each(s.order,function(i,col){settings.aaSorting.push(col[0]>=columns.length?[0,col[1]]:col)})}if(s.search!==undefined){$.extend(settings.oPreviousSearch,_fnSearchToHung(s.search))}if(s.columns){for(i=0,ien=s.columns.length;i<ien;i++){var col=s.columns[i];if(col.visible!==undefined){columns[i].bVisible=col.visible}if(col.search!==undefined){$.extend(settings.aoPreSearchCols[i],_fnSearchToHung(col.search))}}}_fnCallbackFire(settings,"aoStateLoaded","stateLoaded",[settings,state]);callback()};if(!settings.oFeatures.bStateSave){callback();return}var state=settings.fnStateLoadCallback.call(settings.oInstance,settings,loaded);if(state!==undefined){loaded(state)}}function _fnSettingsFromNode(table){var settings=DataTable.settings;var idx=$.inArray(table,_pluck(settings,"nTable"));return idx!==-1?settings[idx]:null}function _fnLog(settings,level,msg,tn){msg="DataTables warning: "+(settings?"table id="+settings.sTableId+" - ":"")+msg;if(tn){msg+=". For more information about this error, please see http://datatables.net/tn/"+tn}if(!level){var ext=DataTable.ext;var type=ext.sErrMode||ext.errMode;if(settings){_fnCallbackFire(settings,null,"error",[settings,tn,msg])}if(type=="alert"){alert(msg)}else{if(type=="throw"){throw new Error(msg)}else{if(typeof type=="function"){type(settings,tn,msg)}}}}else{if(window.console&&console.log){console.log(msg)}}}function _fnMap(ret,src,name,mappedName){if($.isArray(name)){$.each(name,function(i,val){if($.isArray(val)){_fnMap(ret,src,val[0],val[1])}else{_fnMap(ret,src,val)}});return}if(mappedName===undefined){mappedName=name}if(src[name]!==undefined){ret[mappedName]=src[name]}}function _fnExtend(out,extender,breakRefs){var val;for(var prop in extender){if(extender.hasOwnProperty(prop)){val=extender[prop];if($.isPlainObject(val)){if(!$.isPlainObject(out[prop])){out[prop]={}}$.extend(true,out[prop],val)}else{if(breakRefs&&prop!=="data"&&prop!=="aaData"&&$.isArray(val)){out[prop]=val.slice()}else{out[prop]=val}}}}return out}function _fnBindAction(n,oData,fn){$(n).on("click.DT",oData,function(e){n.blur();fn(e)}).on("keypress.DT",oData,function(e){if(e.which===13){e.preventDefault();fn(e)}}).on("selectstart.DT",function(){return false})}function _fnCallbackReg(oSettings,sStore,fn,sName){if(fn){oSettings[sStore].push({fn:fn,sName:sName})}}function _fnCallbackFire(settings,callbackArr,eventName,args){var ret=[];if(callbackArr){ret=$.map(settings[callbackArr].slice().reverse(),function(val,i){return val.fn.apply(settings.oInstance,args)})}if(eventName!==null){var e=$.Event(eventName+".dt");$(settings.nTable).trigger(e,args);ret.push(e.result)}return ret}function _fnLengthOverflow(settings){var start=settings._iDisplayStart,end=settings.fnDisplayEnd(),len=settings._iDisplayLength;if(start>=end){start=end-len}start-=(start%len);if(len===-1||start<0){start=0}settings._iDisplayStart=start}function _fnRenderer(settings,type){var renderer=settings.renderer;var host=DataTable.ext.renderer[type];if($.isPlainObject(renderer)&&renderer[type]){return host[renderer[type]]||host._}else{if(typeof renderer==="string"){return host[renderer]||host._}}return host._}function _fnDataSource(settings){if(settings.oFeatures.bServerSide){return"ssp"}else{if(settings.ajax||settings.sAjaxSource){return"ajax"}}return"dom"}var __apiStruct=[];var __arrayProto=Array.prototype;var _toSettings=function(mixed){var idx,jq;var settings=DataTable.settings;var tables=$.map(settings,function(el,i){return el.nTable});if(!mixed){return[]}else{if(mixed.nTable&&mixed.oApi){return[mixed]}else{if(mixed.nodeName&&mixed.nodeName.toLowerCase()==="table"){idx=$.inArray(mixed,tables);return idx!==-1?[settings[idx]]:null}else{if(mixed&&typeof mixed.settings==="function"){return mixed.settings().toArray()}else{if(typeof mixed==="string"){jq=$(mixed)}else{if(mixed instanceof $){jq=mixed}}}}}}if(jq){return jq.map(function(i){idx=$.inArray(this,tables);return idx!==-1?settings[idx]:null}).toArray()}};_Api=function(context,data){if(!(this instanceof _Api)){return new _Api(context,data)}var settings=[];var ctxSettings=function(o){var a=_toSettings(o);if(a){settings=settings.concat(a)}};if($.isArray(context)){for(var i=0,ien=context.length;i<ien;i++){ctxSettings(context[i])}}else{ctxSettings(context)}this.context=_unique(settings);if(data){$.merge(this,data)}this.selector={rows:null,cols:null,opts:null};_Api.extend(this,this,__apiStruct)};DataTable.Api=_Api;$.extend(_Api.prototype,{any:function(){return this.count()!==0},concat:__arrayProto.concat,context:[],count:function(){return this.flatten().length},each:function(fn){for(var i=0,ien=this.length;i<ien;i++){fn.call(this,this[i],i,this)}return this},eq:function(idx){var ctx=this.context;return ctx.length>idx?new _Api(ctx[idx],this[idx]):null},filter:function(fn){var a=[];if(__arrayProto.filter){a=__arrayProto.filter.call(this,fn,this)}else{for(var i=0,ien=this.length;i<ien;i++){if(fn.call(this,this[i],i,this)){a.push(this[i])}}}return new _Api(this.context,a)},flatten:function(){var a=[];return new _Api(this.context,a.concat.apply(a,this.toArray()))},join:__arrayProto.join,indexOf:__arrayProto.indexOf||function(obj,start){for(var i=(start||0),ien=this.length;i<ien;i++){if(this[i]===obj){return i}}return -1},iterator:function(flatten,type,fn,alwaysNew){var a=[],ret,i,ien,j,jen,context=this.context,rows,items,item,selector=this.selector;if(typeof flatten==="string"){alwaysNew=fn;fn=type;type=flatten;flatten=false}for(i=0,ien=context.length;i<ien;i++){var apiInst=new _Api(context[i]);if(type==="table"){ret=fn.call(apiInst,context[i],i);if(ret!==undefined){a.push(ret)}}else{if(type==="columns"||type==="rows"){ret=fn.call(apiInst,context[i],this[i],i);if(ret!==undefined){a.push(ret)}}else{if(type==="column"||type==="column-rows"||type==="row"||type==="cell"){items=this[i];if(type==="column-rows"){rows=_selector_row_indexes(context[i],selector.opts)}for(j=0,jen=items.length;j<jen;j++){item=items[j];if(type==="cell"){ret=fn.call(apiInst,context[i],item.row,item.column,i,j)}else{ret=fn.call(apiInst,context[i],item,i,j,rows)}if(ret!==undefined){a.push(ret)}}}}}}if(a.length||alwaysNew){var api=new _Api(context,flatten?a.concat.apply([],a):a);var apiSelector=api.selector;apiSelector.rows=selector.rows;apiSelector.cols=selector.cols;apiSelector.opts=selector.opts;return api}return this},lastIndexOf:__arrayProto.lastIndexOf||function(obj,start){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(fn){var a=[];if(__arrayProto.map){a=__arrayProto.map.call(this,fn,this)}else{for(var i=0,ien=this.length;i<ien;i++){a.push(fn.call(this,this[i],i))}}return new _Api(this.context,a)},pluck:function(prop){return this.map(function(el){return el[prop]})},pop:__arrayProto.pop,push:__arrayProto.push,reduce:__arrayProto.reduce||function(fn,init){return _fnReduce(this,fn,init,0,this.length,1)},reduceRight:__arrayProto.reduceRight||function(fn,init){return _fnReduce(this,fn,init,this.length-1,-1,-1)},reverse:__arrayProto.reverse,selector:null,shift:__arrayProto.shift,sort:__arrayProto.sort,splice:__arrayProto.splice,toArray:function(){return __arrayProto.slice.call(this)},to$:function(){return $(this)},toJQuery:function(){return $(this)},unique:function(){return new _Api(this.context,_unique(this))},unshift:__arrayProto.unshift});_Api.extend=function(scope,obj,ext){if(!ext.length||!obj||(!(obj instanceof _Api)&&!obj.__dt_wrapper)){return}var i,ien,j,jen,struct,inner,methodScoping=function(scope,fn,struc){return function(){var ret=fn.apply(scope,arguments);_Api.extend(ret,ret,struc.methodExt);return ret}};for(i=0,ien=ext.length;i<ien;i++){struct=ext[i];obj[struct.name]=typeof struct.val==="function"?methodScoping(scope,struct.val,struct):$.isPlainObject(struct.val)?{}:struct.val;obj[struct.name].__dt_wrapper=true;_Api.extend(scope,obj[struct.name],struct.propExt)}};_Api.register=_api_register=function(name,val){if($.isArray(name)){for(var j=0,jen=name.length;j<jen;j++){_Api.register(name[j],val)}return}var i,ien,heir=name.split("."),struct=__apiStruct,key,method;var find=function(src,name){for(var i=0,ien=src.length;i<ien;i++){if(src[i].name===name){return src[i]}}return null};for(i=0,ien=heir.length;i<ien;i++){method=heir[i].indexOf("()")!==-1;key=method?heir[i].replace("()",""):heir[i];var src=find(struct,key);if(!src){src={name:key,val:{},methodExt:[],propExt:[]};struct.push(src)}if(i===ien-1){src.val=val}else{struct=method?src.methodExt:src.propExt}}};_Api.registerPlural=_api_registerPlural=function(pluralName,singularName,val){_Api.register(pluralName,val);_Api.register(singularName,function(){var ret=val.apply(this,arguments);if(ret===this){return this}else{if(ret instanceof _Api){return ret.length?$.isArray(ret[0])?new _Api(ret.context,ret[0]):ret[0]:undefined}}return ret})};var __table_selector=function(selector,a){if(typeof selector==="number"){return[a[selector]]}var nodes=$.map(a,function(el,i){return el.nTable});return $(nodes).filter(selector).map(function(i){var idx=$.inArray(this,nodes);return a[idx]}).toArray()};_api_register("tables()",function(selector){return selector?new _Api(__table_selector(selector,this.context)):this});_api_register("table()",function(selector){var tables=this.tables(selector);var ctx=tables.context;return ctx.length?new _Api(ctx[0]):tables});_api_registerPlural("tables().nodes()","table().node()",function(){return this.iterator("table",function(ctx){return ctx.nTable},1)});_api_registerPlural("tables().body()","table().body()",function(){return this.iterator("table",function(ctx){return ctx.nTBody},1)});_api_registerPlural("tables().header()","table().header()",function(){return this.iterator("table",function(ctx){return ctx.nTHead},1)});_api_registerPlural("tables().footer()","table().footer()",function(){return this.iterator("table",function(ctx){return ctx.nTFoot},1)});_api_registerPlural("tables().containers()","table().container()",function(){return this.iterator("table",function(ctx){return ctx.nTableWrapper},1)});_api_register("draw()",function(paging){return this.iterator("table",function(settings){if(paging==="page"){_fnDraw(settings)}else{if(typeof paging==="string"){paging=paging==="full-hold"?false:true}_fnReDraw(settings,paging===false)}})});_api_register("page()",function(action){if(action===undefined){return this.page.info().page}return this.iterator("table",function(settings){_fnPageChange(settings,action)})});_api_register("page.info()",function(action){if(this.context.length===0){return undefined}var settings=this.context[0],start=settings._iDisplayStart,len=settings.oFeatures.bPaginate?settings._iDisplayLength:-1,visRecords=settings.fnRecordsDisplay(),all=len===-1;return{page:all?0:Math.floor(start/len),pages:all?1:Math.ceil(visRecords/len),start:start,end:settings.fnDisplayEnd(),length:len,recordsTotal:settings.fnRecordsTotal(),recordsDisplay:visRecords,serverSide:_fnDataSource(settings)==="ssp"}});_api_register("page.len()",function(len){if(len===undefined){return this.context.length!==0?this.context[0]._iDisplayLength:undefined}return this.iterator("table",function(settings){_fnLengthChange(settings,len)})});var __reload=function(settings,holdPosition,callback){if(callback){var api=new _Api(settings);api.one("draw",function(){callback(api.ajax.json())})}if(_fnDataSource(settings)=="ssp"){_fnReDraw(settings,holdPosition)}else{_fnProcessingDisplay(settings,true);var xhr=settings.jqXHR;if(xhr&&xhr.readyState!==4){xhr.abort()}_fnBuildAjax(settings,[],function(json){_fnClearTable(settings);var data=_fnAjaxDataSrc(settings,json);for(var i=0,ien=data.length;i<ien;i++){_fnAddData(settings,data[i])}_fnReDraw(settings,holdPosition);_fnProcessingDisplay(settings,false)})}};_api_register("ajax.json()",function(){var ctx=this.context;if(ctx.length>0){return ctx[0].json}});_api_register("ajax.params()",function(){var ctx=this.context;if(ctx.length>0){return ctx[0].oAjaxData}});_api_register("ajax.reload()",function(callback,resetPaging){return this.iterator("table",function(settings){__reload(settings,resetPaging===false,callback)})});_api_register("ajax.url()",function(url){var ctx=this.context;if(url===undefined){if(ctx.length===0){return undefined}ctx=ctx[0];return ctx.ajax?$.isPlainObject(ctx.ajax)?ctx.ajax.url:ctx.ajax:ctx.sAjaxSource}return this.iterator("table",function(settings){if($.isPlainObject(settings.ajax)){settings.ajax.url=url}else{settings.ajax=url}})});_api_register("ajax.url().load()",function(callback,resetPaging){return this.iterator("table",function(ctx){__reload(ctx,resetPaging===false,callback)})});var _selector_run=function(type,selector,selectFn,settings,opts){var out=[],res,a,i,ien,j,jen,selectorType=typeof selector;if(!selector||selectorType==="string"||selectorType==="function"||selector.length===undefined){selector=[selector]}for(i=0,ien=selector.length;i<ien;i++){a=selector[i]&&selector[i].split&&!selector[i].match(/[\[\(:]/)?selector[i].split(","):[selector[i]];for(j=0,jen=a.length;j<jen;j++){res=selectFn(typeof a[j]==="string"?$.trim(a[j]):a[j]);if(res&&res.length){out=out.concat(res)}}}var ext=_ext.selector[type];if(ext.length){for(i=0,ien=ext.length;i<ien;i++){out=ext[i](settings,opts,out)}}return _unique(out)};var _selector_opts=function(opts){if(!opts){opts={}}if(opts.filter&&opts.search===undefined){opts.search=opts.filter}return $.extend({search:"none",order:"current",page:"all"},opts)};var _selector_first=function(inst){for(var i=0,ien=inst.length;i<ien;i++){if(inst[i].length>0){inst[0]=inst[i];inst[0].length=1;inst.length=1;inst.context=[inst.context[i]];return inst}}inst.length=0;return inst};var _selector_row_indexes=function(settings,opts){var i,ien,tmp,a=[],displayFiltered=settings.aiDisplay,displayMaster=settings.aiDisplayMaster;var search=opts.search,order=opts.order,page=opts.page;if(_fnDataSource(settings)=="ssp"){return search==="removed"?[]:_range(0,displayMaster.length)}else{if(page=="current"){for(i=settings._iDisplayStart,ien=settings.fnDisplayEnd();i<ien;i++){a.push(displayFiltered[i])}}else{if(order=="current"||order=="applied"){a=search=="none"?displayMaster.slice():search=="applied"?displayFiltered.slice():$.map(displayMaster,function(el,i){return $.inArray(el,displayFiltered)===-1?el:null})}else{if(order=="index"||order=="original"){for(i=0,ien=settings.aoData.length;i<ien;i++){if(search=="none"){a.push(i)}else{tmp=$.inArray(i,displayFiltered);if((tmp===-1&&search=="removed")||(tmp>=0&&search=="applied")){a.push(i)}}}}}}}return a};var __row_selector=function(settings,selector,opts){var rows;var run=function(sel){var selInt=_intVal(sel);var i,ien;if(selInt!==null&&!opts){return[selInt]}if(!rows){rows=_selector_row_indexes(settings,opts)}if(selInt!==null&&$.inArray(selInt,rows)!==-1){return[selInt]}else{if(sel===null||sel===undefined||sel===""){return rows}}if(typeof sel==="function"){return $.map(rows,function(idx){var row=settings.aoData[idx];return sel(idx,row._aData,row.nTr)?idx:null})}var nodes=_removeEmpty(_pluck_order(settings.aoData,rows,"nTr"));if(sel.nodeName){if(sel._DT_RowIndex!==undefined){return[sel._DT_RowIndex]}else{if(sel._DT_CellIndex){return[sel._DT_CellIndex.row]}else{var host=$(sel).closest("*[data-dt-row]");return host.length?[host.data("dt-row")]:[]}}}if(typeof sel==="string"&&sel.charAt(0)==="#"){var rowObj=settings.aIds[sel.replace(/^#/,"")];if(rowObj!==undefined){return[rowObj.idx]}}return $(nodes).filter(sel).map(function(){return this._DT_RowIndex}).toArray()};return _selector_run("row",selector,run,settings,opts)};_api_register("rows()",function(selector,opts){if(selector===undefined){selector=""}else{if($.isPlainObject(selector)){opts=selector;selector=""}}opts=_selector_opts(opts);var inst=this.iterator("table",function(settings){return __row_selector(settings,selector,opts)},1);inst.selector.rows=selector;inst.selector.opts=opts;return inst});_api_register("rows().nodes()",function(){return this.iterator("row",function(settings,row){return settings.aoData[row].nTr||undefined},1)});_api_register("rows().data()",function(){return this.iterator(true,"rows",function(settings,rows){return _pluck_order(settings.aoData,rows,"_aData")},1)});_api_registerPlural("rows().cache()","row().cache()",function(type){return this.iterator("row",function(settings,row){var r=settings.aoData[row];return type==="search"?r._aFilterData:r._aSortData},1)});_api_registerPlural("rows().invalidate()","row().invalidate()",function(src){return this.iterator("row",function(settings,row){_fnInvalidate(settings,row,src)})});_api_registerPlural("rows().indexes()","row().index()",function(){return this.iterator("row",function(settings,row){return row},1)});_api_registerPlural("rows().ids()","row().id()",function(hash){var a=[];var context=this.context;for(var i=0,ien=context.length;i<ien;i++){for(var j=0,jen=this[i].length;j<jen;j++){var id=context[i].rowIdFn(context[i].aoData[this[i][j]]._aData);a.push((hash===true?"#":"")+id)}}return new _Api(context,a)});_api_registerPlural("rows().remove()","row().remove()",function(){var that=this;this.iterator("row",function(settings,row,thatIdx){var data=settings.aoData;var rowData=data[row];var i,ien,j,jen;var loopRow,loopCells;data.splice(row,1);for(i=0,ien=data.length;i<ien;i++){loopRow=data[i];loopCells=loopRow.anCells;if(loopRow.nTr!==null){loopRow.nTr._DT_RowIndex=i}if(loopCells!==null){for(j=0,jen=loopCells.length;j<jen;j++){loopCells[j]._DT_CellIndex.row=i}}}_fnDeleteIndex(settings.aiDisplayMaster,row);_fnDeleteIndex(settings.aiDisplay,row);_fnDeleteIndex(that[thatIdx],row,false);_fnLengthOverflow(settings);var id=settings.rowIdFn(rowData._aData);if(id!==undefined){delete settings.aIds[id]}});this.iterator("table",function(settings){for(var i=0,ien=settings.aoData.length;i<ien;i++){settings.aoData[i].idx=i}});return this});_api_register("rows.add()",function(rows){var newRows=this.iterator("table",function(settings){var row,i,ien;var out=[];for(i=0,ien=rows.length;i<ien;i++){row=rows[i];if(row.nodeName&&row.nodeName.toUpperCase()==="TR"){out.push(_fnAddTr(settings,row)[0])}else{out.push(_fnAddData(settings,row))}}return out},1);var modRows=this.rows(-1);modRows.pop();$.merge(modRows,newRows);return modRows});_api_register("row()",function(selector,opts){return _selector_first(this.rows(selector,opts))});_api_register("row().data()",function(data){var ctx=this.context;if(data===undefined){return ctx.length&&this.length?ctx[0].aoData[this[0]]._aData:undefined}ctx[0].aoData[this[0]]._aData=data;_fnInvalidate(ctx[0],this[0],"data");return this});_api_register("row().node()",function(){var ctx=this.context;return ctx.length&&this.length?ctx[0].aoData[this[0]].nTr||null:null});_api_register("row.add()",function(row){if(row instanceof $&&row.length){row=row[0]}var rows=this.iterator("table",function(settings){if(row.nodeName&&row.nodeName.toUpperCase()==="TR"){return _fnAddTr(settings,row)[0]}return _fnAddData(settings,row)});return this.row(rows[0])});var __details_add=function(ctx,row,data,klass){var rows=[];var addRow=function(r,k){if($.isArray(r)||r instanceof $){for(var i=0,ien=r.length;i<ien;i++){addRow(r[i],k)}return}if(r.nodeName&&r.nodeName.toLowerCase()==="tr"){rows.push(r)}else{var created=$("<tr><td/></tr>").addClass(k);$("td",created).addClass(k).html(r)[0].colSpan=_fnVisbleColumns(ctx);rows.push(created[0])}};addRow(data,klass);if(row._details){row._details.detach()}row._details=$(rows);if(row._detailsShow){row._details.insertAfter(row.nTr)}};var __details_remove=function(api,idx){var ctx=api.context;if(ctx.length){var row=ctx[0].aoData[idx!==undefined?idx:api[0]];if(row&&row._details){row._details.remove();row._detailsShow=undefined;row._details=undefined}}};var __details_display=function(api,show){var ctx=api.context;if(ctx.length&&api.length){var row=ctx[0].aoData[api[0]];if(row._details){row._detailsShow=show;if(show){row._details.insertAfter(row.nTr)}else{row._details.detach()}__details_events(ctx[0])}}};var __details_events=function(settings){var api=new _Api(settings);var namespace=".dt.DT_details";var drawEvent="draw"+namespace;var colvisEvent="column-visibility"+namespace;var destroyEvent="destroy"+namespace;var data=settings.aoData;api.off(drawEvent+" "+colvisEvent+" "+destroyEvent);if(_pluck(data,"_details").length>0){api.on(drawEvent,function(e,ctx){if(settings!==ctx){return}api.rows({page:"current"}).eq(0).each(function(idx){var row=data[idx];if(row._detailsShow){row._details.insertAfter(row.nTr)}})});api.on(colvisEvent,function(e,ctx,idx,vis){if(settings!==ctx){return}var row,visible=_fnVisbleColumns(ctx);for(var i=0,ien=data.length;i<ien;i++){row=data[i];if(row._details){row._details.children("td[colspan]").attr("colspan",visible)}}});api.on(destroyEvent,function(e,ctx){if(settings!==ctx){return}for(var i=0,ien=data.length;i<ien;i++){if(data[i]._details){__details_remove(api,i)}}})}};var _emp="";var _child_obj=_emp+"row().child";var _child_mth=_child_obj+"()";_api_register(_child_mth,function(data,klass){var ctx=this.context;if(data===undefined){return ctx.length&&this.length?ctx[0].aoData[this[0]]._details:undefined}else{if(data===true){this.child.show()}else{if(data===false){__details_remove(this)}else{if(ctx.length&&this.length){__details_add(ctx[0],ctx[0].aoData[this[0]],data,klass)}}}}return this});_api_register([_child_obj+".show()",_child_mth+".show()"],function(show){__details_display(this,true);return this});_api_register([_child_obj+".hide()",_child_mth+".hide()"],function(){__details_display(this,false);return this});_api_register([_child_obj+".remove()",_child_mth+".remove()"],function(){__details_remove(this);return this});_api_register(_child_obj+".isShown()",function(){var ctx=this.context;if(ctx.length&&this.length){return ctx[0].aoData[this[0]]._detailsShow||false}return false});var __re_column_selector=/^([^:]+):(name|visIdx|visible)$/;var __columnData=function(settings,column,r1,r2,rows){var a=[];for(var row=0,ien=rows.length;row<ien;row++){a.push(_fnGetCellData(settings,rows[row],column))}return a};var __column_selector=function(settings,selector,opts){var columns=settings.aoColumns,names=_pluck(columns,"sName"),nodes=_pluck(columns,"nTh");var run=function(s){var selInt=_intVal(s);if(s===""){return _range(columns.length)}if(selInt!==null){return[selInt>=0?selInt:columns.length+selInt]}if(typeof s==="function"){var rows=_selector_row_indexes(settings,opts);return $.map(columns,function(col,idx){return s(idx,__columnData(settings,idx,0,0,rows),nodes[idx])?idx:null})}var match=typeof s==="string"?s.match(__re_column_selector):"";if(match){switch(match[2]){case"visIdx":case"visible":var idx=parseInt(match[1],10);if(idx<0){var visColumns=$.map(columns,function(col,i){return col.bVisible?i:null});return[visColumns[visColumns.length+idx]]}return[_fnVisibleToColumnIndex(settings,idx)];case"name":return $.map(names,function(name,i){return name===match[1]?i:null});default:return[]}}if(s.nodeName&&s._DT_CellIndex){return[s._DT_CellIndex.column]}var jqResult=$(nodes).filter(s).map(function(){return $.inArray(this,nodes)}).toArray();if(jqResult.length||!s.nodeName){return jqResult}var host=$(s).closest("*[data-dt-column]");return host.length?[host.data("dt-column")]:[]};return _selector_run("column",selector,run,settings,opts)};var __setColumnVis=function(settings,column,vis){var cols=settings.aoColumns,col=cols[column],data=settings.aoData,row,cells,i,ien,tr;if(vis===undefined){return col.bVisible}if(col.bVisible===vis){return}if(vis){var insertBefore=$.inArray(true,_pluck(cols,"bVisible"),column+1);for(i=0,ien=data.length;i<ien;i++){tr=data[i].nTr;cells=data[i].anCells;if(tr){tr.insertBefore(cells[column],cells[insertBefore]||null)}}}else{$(_pluck(settings.aoData,"anCells",column)).detach()}col.bVisible=vis;_fnDrawHead(settings,settings.aoHeader);_fnDrawHead(settings,settings.aoFooter);_fnSaveState(settings)};_api_register("columns()",function(selector,opts){if(selector===undefined){selector=""}else{if($.isPlainObject(selector)){opts=selector;selector=""}}opts=_selector_opts(opts);var inst=this.iterator("table",function(settings){return __column_selector(settings,selector,opts)},1);inst.selector.cols=selector;inst.selector.opts=opts;return inst});_api_registerPlural("columns().header()","column().header()",function(selector,opts){return this.iterator("column",function(settings,column){return settings.aoColumns[column].nTh},1)});_api_registerPlural("columns().footer()","column().footer()",function(selector,opts){return this.iterator("column",function(settings,column){return settings.aoColumns[column].nTf},1)});_api_registerPlural("columns().data()","column().data()",function(){return this.iterator("column-rows",__columnData,1)});_api_registerPlural("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(settings,column){return settings.aoColumns[column].mData},1)});_api_registerPlural("columns().cache()","column().cache()",function(type){return this.iterator("column-rows",function(settings,column,i,j,rows){return _pluck_order(settings.aoData,rows,type==="search"?"_aFilterData":"_aSortData",column)},1)});_api_registerPlural("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(settings,column,i,j,rows){return _pluck_order(settings.aoData,rows,"anCells",column)},1)});_api_registerPlural("columns().visible()","column().visible()",function(vis,calc){var ret=this.iterator("column",function(settings,column){if(vis===undefined){return settings.aoColumns[column].bVisible}__setColumnVis(settings,column,vis)});if(vis!==undefined){this.iterator("column",function(settings,column){_fnCallbackFire(settings,null,"column-visibility",[settings,column,vis,calc])});if(calc===undefined||calc){this.columns.adjust()}}return ret});_api_registerPlural("columns().indexes()","column().index()",function(type){return this.iterator("column",function(settings,column){return type==="visible"?_fnColumnIndexToVisible(settings,column):column},1)});_api_register("columns.adjust()",function(){return this.iterator("table",function(settings){_fnAdjustColumnSizing(settings)},1)});_api_register("column.index()",function(type,idx){if(this.context.length!==0){var ctx=this.context[0];if(type==="fromVisible"||type==="toData"){return _fnVisibleToColumnIndex(ctx,idx)}else{if(type==="fromData"||type==="toVisible"){return _fnColumnIndexToVisible(ctx,idx)}}}});_api_register("column()",function(selector,opts){return _selector_first(this.columns(selector,opts))});var __cell_selector=function(settings,selector,opts){var data=settings.aoData;var rows=_selector_row_indexes(settings,opts);var cells=_removeEmpty(_pluck_order(data,rows,"anCells"));var allCells=$([].concat.apply([],cells));var row;var columns=settings.aoColumns.length;var a,i,ien,j,o,host;var run=function(s){var fnSelector=typeof s==="function";if(s===null||s===undefined||fnSelector){a=[];for(i=0,ien=rows.length;i<ien;i++){row=rows[i];for(j=0;j<columns;j++){o={row:row,column:j};if(fnSelector){host=data[row];if(s(o,_fnGetCellData(settings,row,j),host.anCells?host.anCells[j]:null)){a.push(o)}}else{a.push(o)}}}return a}if($.isPlainObject(s)){return[s]}var jqResult=allCells.filter(s).map(function(i,el){return{row:el._DT_CellIndex.row,column:el._DT_CellIndex.column}}).toArray();if(jqResult.length||!s.nodeName){return jqResult}host=$(s).closest("*[data-dt-row]");return host.length?[{row:host.data("dt-row"),column:host.data("dt-column")}]:[]};return _selector_run("cell",selector,run,settings,opts)};_api_register("cells()",function(rowSelector,columnSelector,opts){if($.isPlainObject(rowSelector)){if(rowSelector.row===undefined){opts=rowSelector;rowSelector=null}else{opts=columnSelector;columnSelector=null}}if($.isPlainObject(columnSelector)){opts=columnSelector;columnSelector=null}if(columnSelector===null||columnSelector===undefined){return this.iterator("table",function(settings){return __cell_selector(settings,rowSelector,_selector_opts(opts))})}var columns=this.columns(columnSelector,opts);var rows=this.rows(rowSelector,opts);var a,i,ien,j,jen;var cells=this.iterator("table",function(settings,idx){a=[];for(i=0,ien=rows[idx].length;i<ien;i++){for(j=0,jen=columns[idx].length;j<jen;j++){a.push({row:rows[idx][i],column:columns[idx][j]})}}return a},1);$.extend(cells.selector,{cols:columnSelector,rows:rowSelector,opts:opts});return cells});_api_registerPlural("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(settings,row,column){var data=settings.aoData[row];return data&&data.anCells?data.anCells[column]:undefined},1)});_api_register("cells().data()",function(){return this.iterator("cell",function(settings,row,column){return _fnGetCellData(settings,row,column)},1)});_api_registerPlural("cells().cache()","cell().cache()",function(type){type=type==="search"?"_aFilterData":"_aSortData";return this.iterator("cell",function(settings,row,column){return settings.aoData[row][type][column]},1)});_api_registerPlural("cells().render()","cell().render()",function(type){return this.iterator("cell",function(settings,row,column){return _fnGetCellData(settings,row,column,type)},1)});_api_registerPlural("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(settings,row,column){return{row:row,column:column,columnVisible:_fnColumnIndexToVisible(settings,column)}},1)});_api_registerPlural("cells().invalidate()","cell().invalidate()",function(src){return this.iterator("cell",function(settings,row,column){_fnInvalidate(settings,row,src,column)})});_api_register("cell()",function(rowSelector,columnSelector,opts){return _selector_first(this.cells(rowSelector,columnSelector,opts))});_api_register("cell().data()",function(data){var ctx=this.context;var cell=this[0];if(data===undefined){return ctx.length&&cell.length?_fnGetCellData(ctx[0],cell[0].row,cell[0].column):undefined}_fnSetCellData(ctx[0],cell[0].row,cell[0].column,data);_fnInvalidate(ctx[0],cell[0].row,"data",cell[0].column);return this});_api_register("order()",function(order,dir){var ctx=this.context;if(order===undefined){return ctx.length!==0?ctx[0].aaSorting:undefined}if(typeof order==="number"){order=[[order,dir]]}else{if(order.length&&!$.isArray(order[0])){order=Array.prototype.slice.call(arguments)}}return this.iterator("table",function(settings){settings.aaSorting=order.slice()})});_api_register("order.listener()",function(node,column,callback){return this.iterator("table",function(settings){_fnSortAttachListener(settings,node,column,callback)})});_api_register("order.fixed()",function(set){if(!set){var ctx=this.context;var fixed=ctx.length?ctx[0].aaSortingFixed:undefined;return $.isArray(fixed)?{pre:fixed}:fixed}return this.iterator("table",function(settings){settings.aaSortingFixed=$.extend(true,{},set)})});_api_register(["columns().order()","column().order()"],function(dir){var that=this;return this.iterator("table",function(settings,i){var sort=[];$.each(that[i],function(j,col){sort.push([col,dir])});settings.aaSorting=sort})});_api_register("search()",function(input,regex,smart,caseInsen){var ctx=this.context;if(input===undefined){return ctx.length!==0?ctx[0].oPreviousSearch.sSearch:undefined}return this.iterator("table",function(settings){if(!settings.oFeatures.bFilter){return}_fnFilterComplete(settings,$.extend({},settings.oPreviousSearch,{sSearch:input+"",bRegex:regex===null?false:regex,bSmart:smart===null?true:smart,bCaseInsensitive:caseInsen===null?true:caseInsen}),1)})});_api_registerPlural("columns().search()","column().search()",function(input,regex,smart,caseInsen){return this.iterator("column",function(settings,column){var preSearch=settings.aoPreSearchCols;if(input===undefined){return preSearch[column].sSearch}if(!settings.oFeatures.bFilter){return}$.extend(preSearch[column],{sSearch:input+"",bRegex:regex===null?false:regex,bSmart:smart===null?true:smart,bCaseInsensitive:caseInsen===null?true:caseInsen});_fnFilterComplete(settings,settings.oPreviousSearch,1)})});_api_register("state()",function(){return this.context.length?this.context[0].oSavedState:null});_api_register("state.clear()",function(){return this.iterator("table",function(settings){settings.fnStateSaveCallback.call(settings.oInstance,settings,{})})});_api_register("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});_api_register("state.save()",function(){return this.iterator("table",function(settings){_fnSaveState(settings)})});DataTable.versionCheck=DataTable.fnVersionCheck=function(version){var aThis=DataTable.version.split(".");var aThat=version.split(".");var iThis,iThat;for(var i=0,iLen=aThat.length;i<iLen;i++){iThis=parseInt(aThis[i],10)||0;iThat=parseInt(aThat[i],10)||0;if(iThis===iThat){continue}return iThis>iThat}return true};DataTable.isDataTable=DataTable.fnIsDataTable=function(table){var t=$(table).get(0);var is=false;if(table instanceof DataTable.Api){return true}$.each(DataTable.settings,function(i,o){var head=o.nScrollHead?$("table",o.nScrollHead)[0]:null;var foot=o.nScrollFoot?$("table",o.nScrollFoot)[0]:null;if(o.nTable===t||head===t||foot===t){is=true}});return is};DataTable.tables=DataTable.fnTables=function(visible){var api=false;if($.isPlainObject(visible)){api=visible.api;visible=visible.visible}var a=$.map(DataTable.settings,function(o){if(!visible||(visible&&$(o.nTable).is(":visible"))){return o.nTable}});return api?new _Api(a):a};DataTable.camelToHungarian=_fnCamelToHungarian;_api_register("$()",function(selector,opts){var rows=this.rows(opts).nodes(),jqRows=$(rows);return $([].concat(jqRows.filter(selector).toArray(),jqRows.find(selector).toArray()))});$.each(["on","one","off"],function(i,key){_api_register(key+"()",function(){var args=Array.prototype.slice.call(arguments);args[0]=$.map(args[0].split(/\s/),function(e){return !e.match(/\.dt\b/)?e+".dt":e}).join(" ");var inst=$(this.tables().nodes());inst[key].apply(inst,args);return this})});_api_register("clear()",function(){return this.iterator("table",function(settings){_fnClearTable(settings)})});_api_register("settings()",function(){return new _Api(this.context,this.context)});_api_register("init()",function(){var ctx=this.context;return ctx.length?ctx[0].oInit:null});_api_register("data()",function(){return this.iterator("table",function(settings){return _pluck(settings.aoData,"_aData")}).flatten()});_api_register("destroy()",function(remove){remove=remove||false;return this.iterator("table",function(settings){var orig=settings.nTableWrapper.parentNode;var classes=settings.oClasses;var table=settings.nTable;var tbody=settings.nTBody;var thead=settings.nTHead;var tfoot=settings.nTFoot;var jqTable=$(table);var jqTbody=$(tbody);var jqWrapper=$(settings.nTableWrapper);var rows=$.map(settings.aoData,function(r){return r.nTr});var i,ien;settings.bDestroying=true;_fnCallbackFire(settings,"aoDestroyCallback","destroy",[settings]);if(!remove){new _Api(settings).columns().visible(true)}jqWrapper.off(".DT").find(":not(tbody *)").off(".DT");$(window).off(".DT-"+settings.sInstance);if(table!=thead.parentNode){jqTable.children("thead").detach();jqTable.append(thead)}if(tfoot&&table!=tfoot.parentNode){jqTable.children("tfoot").detach();jqTable.append(tfoot)}settings.aaSorting=[];settings.aaSortingFixed=[];_fnSortingClasses(settings);$(rows).removeClass(settings.asStripeClasses.join(" "));$("th, td",thead).removeClass(classes.sSortable+" "+classes.sSortableAsc+" "+classes.sSortableDesc+" "+classes.sSortableNone);if(settings.bJUI){$("th span."+classes.sSortIcon+", td span."+classes.sSortIcon,thead).detach();$("th, td",thead).each(function(){var wrapper=$("div."+classes.sSortJUIWrapper,this);$(this).append(wrapper.contents());wrapper.detach()})}jqTbody.children().detach();jqTbody.append(rows);var removedMethod=remove?"remove":"detach";jqTable[removedMethod]();jqWrapper[removedMethod]();if(!remove&&orig){orig.insertBefore(table,settings.nTableReinsertBefore);jqTable.css("width",settings.sDestroyWidth).removeClass(classes.sTable);ien=settings.asDestroyStripes.length;if(ien){jqTbody.children().each(function(i){$(this).addClass(settings.asDestroyStripes[i%ien])})}}var idx=$.inArray(settings,DataTable.settings);if(idx!==-1){DataTable.settings.splice(idx,1)}})});$.each(["column","row","cell"],function(i,type){_api_register(type+"s().every()",function(fn){var opts=this.selector.opts;var api=this;return this.iterator(type,function(settings,arg1,arg2,arg3,arg4){fn.call(api[type](arg1,type==="cell"?arg2:opts,type==="cell"?opts:undefined),arg1,arg2,arg3,arg4)})})});_api_register("i18n()",function(token,def,plural){var ctx=this.context[0];var resolved=_fnGetObjectDataFn(token)(ctx.oLanguage);if(resolved===undefined){resolved=def}if(plural!==undefined&&$.isPlainObject(resolved)){resolved=resolved[plural]!==undefined?resolved[plural]:resolved._}return resolved.replace("%d",plural)});DataTable.version="1.10.13";DataTable.settings=[];DataTable.models={};DataTable.models.oSearch={bCaseInsensitive:true,sSearch:"",bRegex:false,bSmart:true};DataTable.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};DataTable.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:false,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:true,bDeferRender:false,bDestroy:false,bFilter:true,bInfo:true,bJQueryUI:false,bLengthChange:true,bPaginate:true,bProcessing:false,bRetrieve:false,bScrollCollapse:false,bServerSide:false,bSort:true,bSortMulti:true,bSortCellsTop:false,bSortClasses:true,bStateSave:false,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(toFormat){return toFormat.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(settings){try{return JSON.parse((settings.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+settings.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(settings,data){try{(settings.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+settings.sInstance+"_"+location.pathname,JSON.stringify(data))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};_fnHungarianMap(DataTable.defaults);DataTable.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:true,bSortable:true,bVisible:true,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};_fnHungarianMap(DataTable.defaults.column);DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:false,bScrollbarLeft:false,bBounding:false,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:false,bInitialised:false,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:true,jqXHR:null,json:undefined,oAjaxData:undefined,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:false,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:false,bSorted:false,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return _fnDataSource(this)=="ssp"?this._iRecordsTotal*1:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return _fnDataSource(this)=="ssp"?this._iRecordsDisplay*1:this.aiDisplay.length},fnDisplayEnd:function(){var len=this._iDisplayLength,start=this._iDisplayStart,calc=start+len,records=this.aiDisplay.length,features=this.oFeatures,paginate=features.bPaginate;if(features.bServerSide){return paginate===false||len===-1?start+records:Math.min(start+len,this._iRecordsDisplay)}else{return !paginate||calc>records||len===-1?records:calc}},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};DataTable.ext=_ext={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:DataTable.version};$.extend(_ext,{afnFiltering:_ext.search,aTypes:_ext.type.detect,ofnSearch:_ext.type.search,oSort:_ext.type.order,afnSortData:_ext.order,aoFeatures:_ext.feature,oApi:_ext.internal,oStdClasses:_ext.classes,oPagination:_ext.pager});$.extend(DataTable.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});(function(){var _empty="";_empty="";var _stateDefault=_empty+"ui-state-default";var _sortIcon=_empty+"css_right ui-icon ui-icon-";var _headerFooter=_empty+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";$.extend(DataTable.ext.oJUIClasses,DataTable.ext.classes,{sPageButton:"fg-button ui-button "+_stateDefault,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:_stateDefault+" sorting_asc",sSortDesc:_stateDefault+" sorting_desc",sSortable:_stateDefault+" sorting",sSortableAsc:_stateDefault+" sorting_asc_disabled",sSortableDesc:_stateDefault+" sorting_desc_disabled",sSortableNone:_stateDefault+" sorting_disabled",sSortJUIAsc:_sortIcon+"triangle-1-n",sSortJUIDesc:_sortIcon+"triangle-1-s",sSortJUI:_sortIcon+"carat-2-n-s",sSortJUIAscAllowed:_sortIcon+"carat-1-n",sSortJUIDescAllowed:_sortIcon+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+_stateDefault,sScrollFoot:"dataTables_scrollFoot "+_stateDefault,sHeaderTH:_stateDefault,sFooterTH:_stateDefault,sJUIHeader:_headerFooter+" ui-corner-tl ui-corner-tr",sJUIFooter:_headerFooter+" ui-corner-bl ui-corner-br"})}());var extPagination=DataTable.ext.pager;function _numbers(page,pages){var numbers=[],buttons=extPagination.numbers_length,half=Math.floor(buttons/2),i=1;if(pages<=buttons){numbers=_range(0,pages)}else{if(page<=half){numbers=_range(0,buttons-2);numbers.push("ellipsis");numbers.push(pages-1)}else{if(page>=pages-1-half){numbers=_range(pages-(buttons-2),pages);numbers.splice(0,0,"ellipsis");numbers.splice(0,0,0)}else{numbers=_range(page-half+2,page+half-1);numbers.push("ellipsis");numbers.push(pages-1);numbers.splice(0,0,"ellipsis");numbers.splice(0,0,0)}}}numbers.DT_el="span";return numbers}$.extend(extPagination,{simple:function(page,pages){return["previous","next"]},full:function(page,pages){return["first","previous","next","last"]},numbers:function(page,pages){return[_numbers(page,pages)]},simple_numbers:function(page,pages){return["previous",_numbers(page,pages),"next"]},full_numbers:function(page,pages){return["first","previous",_numbers(page,pages),"next","last"]},first_last_numbers:function(page,pages){return["first",_numbers(page,pages),"last"]},_numbers:_numbers,numbers_length:7});$.extend(true,DataTable.ext.renderer,{pageButton:{_:function(settings,host,idx,buttons,page,pages){var classes=settings.oClasses;var lang=settings.oLanguage.oPaginate;var aria=settings.oLanguage.oAria.paginate||{};var btnDisplay,btnClass,counter=0;var attach=function(container,buttons){var i,ien,node,button;var clickHandler=function(e){_fnPageChange(settings,e.data.action,true)};for(i=0,ien=buttons.length;i<ien;i++){button=buttons[i];if($.isArray(button)){var inner=$("<"+(button.DT_el||"div")+"/>").appendTo(container);attach(inner,button)}else{btnDisplay=null;btnClass="";switch(button){case"ellipsis":container.append('<span class="ellipsis">&#x2026;</span>');break;case"first":btnDisplay=lang.sFirst;btnClass=button+(page>0?"":" "+classes.sPageButtonDisabled);break;case"previous":btnDisplay=lang.sPrevious;btnClass=button+(page>0?"":" "+classes.sPageButtonDisabled);break;case"next":btnDisplay=lang.sNext;btnClass=button+(page<pages-1?"":" "+classes.sPageButtonDisabled);break;case"last":btnDisplay=lang.sLast;btnClass=button+(page<pages-1?"":" "+classes.sPageButtonDisabled);break;default:btnDisplay=button+1;btnClass=page===button?classes.sPageButtonActive:"";break}if(btnDisplay!==null){node=$("<a>",{"class":classes.sPageButton+" "+btnClass,"aria-controls":settings.sTableId,"aria-label":aria[button],"data-dt-idx":counter,tabindex:settings.iTabIndex,id:idx===0&&typeof button==="string"?settings.sTableId+"_"+button:null}).html(btnDisplay).appendTo(container);_fnBindAction(node,{action:button},clickHandler);counter++}}}};var activeEl;try{activeEl=$(host).find(document.activeElement).data("dt-idx")}catch(e){}attach($(host).empty(),buttons);if(activeEl!==undefined){$(host).find("[data-dt-idx="+activeEl+"]").focus()}}}});$.extend(DataTable.ext.type.detect,[function(d,settings){var decimal=settings.oLanguage.sDecimal;return _isNumber(d,decimal)?"num"+decimal:null},function(d,settings){if(d&&!(d instanceof Date)&&!_re_date.test(d)){return null}var parsed=Date.parse(d);return(parsed!==null&&!isNaN(parsed))||_empty(d)?"date":null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _isNumber(d,decimal,true)?"num-fmt"+decimal:null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _htmlNumeric(d,decimal)?"html-num"+decimal:null},function(d,settings){var decimal=settings.oLanguage.sDecimal;return _htmlNumeric(d,decimal,true)?"html-num-fmt"+decimal:null},function(d,settings){return _empty(d)||(typeof d==="string"&&d.indexOf("<")!==-1)?"html":null}]);$.extend(DataTable.ext.type.search,{html:function(data){return _empty(data)?data:typeof data==="string"?data.replace(_re_new_lines," ").replace(_re_html,""):""},string:function(data){return _empty(data)?data:typeof data==="string"?data.replace(_re_new_lines," "):data}});var __numericReplace=function(d,decimalPlace,re1,re2){if(d!==0&&(!d||d==="-")){return -Infinity}if(decimalPlace){d=_numToDecimal(d,decimalPlace)}if(d.replace){if(re1){d=d.replace(re1,"")}if(re2){d=d.replace(re2,"")}}return d*1};function _addNumericSort(decimalPlace){$.each({num:function(d){return __numericReplace(d,decimalPlace)},"num-fmt":function(d){return __numericReplace(d,decimalPlace,_re_formatted_numeric)},"html-num":function(d){return __numericReplace(d,decimalPlace,_re_html)},"html-num-fmt":function(d){return __numericReplace(d,decimalPlace,_re_html,_re_formatted_numeric)}},function(key,fn){_ext.type.order[key+decimalPlace+"-pre"]=fn;if(key.match(/^html\-/)){_ext.type.search[key+decimalPlace]=_ext.type.search.html}})}$.extend(_ext.type.order,{"date-pre":function(d){return Date.parse(d)||-Infinity},"html-pre":function(a){return _empty(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return _empty(a)?"":typeof a==="string"?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(x,y){return((x<y)?-1:((x>y)?1:0))},"string-desc":function(x,y){return((x<y)?1:((x>y)?-1:0))}});_addNumericSort("");$.extend(true,DataTable.ext.renderer,{header:{_:function(settings,cell,column,classes){$(settings.nTable).on("order.dt.DT",function(e,ctx,sorting,columns){if(settings!==ctx){return}var colIdx=column.idx;cell.removeClass(column.sSortingClass+" "+classes.sSortAsc+" "+classes.sSortDesc).addClass(columns[colIdx]=="asc"?classes.sSortAsc:columns[colIdx]=="desc"?classes.sSortDesc:column.sSortingClass)})},jqueryui:function(settings,cell,column,classes){$("<div/>").addClass(classes.sSortJUIWrapper).append(cell.contents()).append($("<span/>").addClass(classes.sSortIcon+" "+column.sSortingClassJUI)).appendTo(cell);$(settings.nTable).on("order.dt.DT",function(e,ctx,sorting,columns){if(settings!==ctx){return}var colIdx=column.idx;cell.removeClass(classes.sSortAsc+" "+classes.sSortDesc).addClass(columns[colIdx]=="asc"?classes.sSortAsc:columns[colIdx]=="desc"?classes.sSortDesc:column.sSortingClass);cell.find("span."+classes.sSortIcon).removeClass(classes.sSortJUIAsc+" "+classes.sSortJUIDesc+" "+classes.sSortJUI+" "+classes.sSortJUIAscAllowed+" "+classes.sSortJUIDescAllowed).addClass(columns[colIdx]=="asc"?classes.sSortJUIAsc:columns[colIdx]=="desc"?classes.sSortJUIDesc:column.sSortingClassJUI)})}}});var __htmlEscapeEntities=function(d){return typeof d==="string"?d.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):d};DataTable.render={number:function(thousands,decimal,precision,prefix,postfix){return{display:function(d){if(typeof d!=="number"&&typeof d!=="string"){return d}var negative=d<0?"-":"";var flo=parseFloat(d);if(isNaN(flo)){return __htmlEscapeEntities(d)}flo=flo.toFixed(precision);d=Math.abs(flo);var intPart=parseInt(d,10);var floatPart=precision?decimal+(d-intPart).toFixed(precision).substring(2):"";return negative+(prefix||"")+intPart.toString().replace(/\B(?=(\d{3})+(?!\d))/g,thousands)+floatPart+(postfix||"")}}},text:function(){return{display:__htmlEscapeEntities}}};function _fnExternApiFunc(fn){return function(){var args=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.internal[fn].apply(this,args)}}$.extend(DataTable.ext.internal,{_fnExternApiFunc:_fnExternApiFunc,_fnBuildAjax:_fnBuildAjax,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnAjaxDataSrc:_fnAjaxDataSrc,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnVisbleColumns:_fnVisbleColumns,_fnGetColumns:_fnGetColumns,_fnColumnTypes:_fnColumnTypes,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnHungarianMap:_fnHungarianMap,_fnCamelToHungarian:_fnCamelToHungarian,_fnLanguageCompat:_fnLanguageCompat,_fnBrowserDetect:_fnBrowserDetect,_fnAddData:_fnAddData,_fnAddTr:_fnAddTr,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnSplitObjNotation:_fnSplitObjNotation,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnGetDataMaster:_fnGetDataMaster,_fnClearTable:_fnClearTable,_fnDeleteIndex:_fnDeleteIndex,_fnInvalidate:_fnInvalidate,_fnGetRowElements:_fnGetRowElements,_fnCreateTr:_fnCreateTr,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnEscapeRegex:_fnEscapeRegex,_fnFilterData:_fnFilterData,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnInfoMacros:_fnInfoMacros,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLengthChange:_fnLengthChange,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnApplyToChildren:_fnApplyToChildren,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnThrottle:_fnThrottle,_fnConvertToWidth:_fnConvertToWidth,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnSortFlatten:_fnSortFlatten,_fnSort:_fnSort,_fnSortAria:_fnSortAria,_fnSortListener:_fnSortListener,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnSortData:_fnSortData,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnSettingsFromNode:_fnSettingsFromNode,_fnLog:_fnLog,_fnMap:_fnMap,_fnBindAction:_fnBindAction,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnLengthOverflow:_fnLengthOverflow,_fnRenderer:_fnRenderer,_fnDataSource:_fnDataSource,_fnRowAttributes:_fnRowAttributes,_fnCalculateEnd:function(){}});$.fn.dataTable=DataTable;DataTable.$=$;$.fn.dataTableSettings=DataTable.settings;$.fn.dataTableExt=DataTable.ext;$.fn.DataTable=function(opts){return $(this).dataTable(opts).api()};$.each(DataTable,function(prop,val){$.fn.DataTable[prop]=val});return $.fn.dataTable}));(function($){function calcDisableClasses(oSettings){var start=oSettings._iDisplayStart;var length=oSettings._iDisplayLength;var visibleRecords=oSettings.fnRecordsDisplay();var all=length===-1;var page=all?0:Math.ceil(start/length);var pages=all?1:Math.ceil(visibleRecords/length);var disableFirstPrevClass=(page>0?"":oSettings.oClasses.sPageButtonDisabled);var disableNextLastClass=(page<pages-1?"":oSettings.oClasses.sPageButtonDisabled);return{first:disableFirstPrevClass,previous:disableFirstPrevClass,next:disableNextLastClass,last:disableNextLastClass}}function calcCurrentPage(oSettings){return Math.ceil(oSettings._iDisplayStart/oSettings._iDisplayLength)+1}function calcPages(oSettings){return Math.ceil(oSettings.fnRecordsDisplay()/oSettings._iDisplayLength)}var firstClassName="first";var previousClassName="previous";var nextClassName="next";var lastClassName="last";var paginateClassName="paginate";var paginateOfClassName="paginate_of";var paginatePageClassName="paginate_page";var paginateInputClassName="paginate_input";$.fn.dataTableExt.oPagination.input={fnInit:function(oSettings,nPaging,fnCallbackDraw){var nFirst=document.createElement("span");var nPrevious=document.createElement("span");var nNext=document.createElement("span");var nLast=document.createElement("span");var nInput=document.createElement("input");var nPage=document.createElement("span");var nOf=document.createElement("span");var language=oSettings.oLanguage.oPaginate;var classes=oSettings.oClasses;nFirst.innerHTML=language.sFirst;nPrevious.innerHTML=language.sPrevious;nNext.innerHTML=language.sNext;nLast.innerHTML=language.sLast;nFirst.className=firstClassName+" "+classes.sPageButton;nPrevious.className=previousClassName+" "+classes.sPageButton;nNext.className=nextClassName+" "+classes.sPageButton;nLast.className=lastClassName+" "+classes.sPageButton;nOf.className=paginateOfClassName;nPage.className=paginatePageClassName;nInput.className=paginateInputClassName;if(oSettings.sTableId!==""){nPaging.setAttribute("id",oSettings.sTableId+"_"+paginateClassName);nFirst.setAttribute("id",oSettings.sTableId+"_"+firstClassName);nPrevious.setAttribute("id",oSettings.sTableId+"_"+previousClassName);nNext.setAttribute("id",oSettings.sTableId+"_"+nextClassName);nLast.setAttribute("id",oSettings.sTableId+"_"+lastClassName)}nInput.type="text";nPage.innerHTML="Page ";nPaging.appendChild(nFirst);nPaging.appendChild(nPrevious);nPaging.appendChild(nPage);nPaging.appendChild(nInput);nPaging.appendChild(nOf);nPaging.appendChild(nNext);nPaging.appendChild(nLast);$(nFirst).click(function(){var iCurrentPage=calcCurrentPage(oSettings);if(iCurrentPage!==1){oSettings.oApi._fnPageChange(oSettings,"first");fnCallbackDraw(oSettings)}});$(nPrevious).click(function(){var iCurrentPage=calcCurrentPage(oSettings);if(iCurrentPage!==1){oSettings.oApi._fnPageChange(oSettings,"previous");fnCallbackDraw(oSettings)}});$(nNext).click(function(){var iCurrentPage=calcCurrentPage(oSettings);if(iCurrentPage!==calcPages(oSettings)){oSettings.oApi._fnPageChange(oSettings,"next");fnCallbackDraw(oSettings)}});$(nLast).click(function(){var iCurrentPage=calcCurrentPage(oSettings);if(iCurrentPage!==calcPages(oSettings)){oSettings.oApi._fnPageChange(oSettings,"last");fnCallbackDraw(oSettings)}});$(nInput).keyup(function(e){if(e.which===38||e.which===39){this.value++}else{if((e.which===37||e.which===40)&&this.value>1){this.value--}}if(this.value===""||this.value.match(/[^0-9]/)){this.value=this.value.replace(/[^\d]/g,"");return}var iNewStart=oSettings._iDisplayLength*(this.value-1);if(iNewStart<0){iNewStart=0}if(iNewStart>=oSettings.fnRecordsDisplay()){iNewStart=(Math.ceil((oSettings.fnRecordsDisplay())/oSettings._iDisplayLength)-1)*oSettings._iDisplayLength}oSettings._iDisplayStart=iNewStart;fnCallbackDraw(oSettings)});$("span",nPaging).bind("mousedown",function(){return false});$("span",nPaging).bind("selectstart",function(){return false});var iPages=calcPages(oSettings);if(iPages<=1){$(nPaging).hide()}},fnUpdate:function(oSettings){if(!oSettings.aanFeatures.p){return}var iPages=calcPages(oSettings);var iCurrentPage=calcCurrentPage(oSettings);var an=oSettings.aanFeatures.p;if(iPages<=1){$(an).hide();return}var disableClasses=calcDisableClasses(oSettings);$(an).show();$(an).children("."+firstClassName).removeClass(oSettings.oClasses.sPageButtonDisabled).addClass(disableClasses[firstClassName]);$(an).children("."+previousClassName).removeClass(oSettings.oClasses.sPageButtonDisabled).addClass(disableClasses[previousClassName]);$(an).children("."+nextClassName).removeClass(oSettings.oClasses.sPageButtonDisabled).addClass(disableClasses[nextClassName]);$(an).children("."+lastClassName).removeClass(oSettings.oClasses.sPageButtonDisabled).addClass(disableClasses[lastClassName]);$(an).children("."+paginateOfClassName).html(" of "+iPages);$(an).children("."+paginateInputClassName).val(iCurrentPage)}}})(jQuery);
////Appending Script  == >dataTables.responsive.js
/*! Responsive 2.1.1
 * 2014-2016 SpryMedia Ltd - datatables.net/license
 */
(function(factory){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function($){return factory($,window,document)})}else{if(typeof exports==="object"){module.exports=function(root,$){if(!root){root=window}if(!$||!$.fn.dataTable){$=require("datatables.net")(root,$).$}return factory($,root,root.document)}}else{factory(jQuery,window,document)}}}(function($,window,document,undefined){var DataTable=$.fn.dataTable;var Responsive=function(settings,opts){if(!DataTable.versionCheck||!DataTable.versionCheck("1.10.3")){throw"DataTables Responsive requires DataTables 1.10.3 or newer"}this.s={dt:new DataTable.Api(settings),columns:[],current:[]};if(this.s.dt.settings()[0].responsive){return}if(opts&&typeof opts.details==="string"){opts.details={type:opts.details}}else{if(opts&&opts.details===false){opts.details={type:false}}else{if(opts&&opts.details===true){opts.details={type:"inline"}}}}this.c=$.extend(true,{},Responsive.defaults,DataTable.defaults.responsive,opts);settings.responsive=this;this._constructor()};$.extend(Responsive.prototype,{_constructor:function(){var that=this;var dt=this.s.dt;var dtPrivateSettings=dt.settings()[0];var oldWindowWidth=$(window).width();dt.settings()[0]._responsive=this;$(window).on("resize.dtr orientationchange.dtr",DataTable.util.throttle(function(){var width=$(window).width();if(width!==oldWindowWidth){that._resize();oldWindowWidth=width}}));dtPrivateSettings.oApi._fnCallbackReg(dtPrivateSettings,"aoRowCreatedCallback",function(tr,data,idx){if($.inArray(false,that.s.current)!==-1){$(">td, >th",tr).each(function(i){var idx=dt.column.index("toData",i);if(that.s.current[idx]===false){$(this).css("display","none")}})}});dt.on("destroy.dtr",function(){dt.off(".dtr");$(dt.table().body()).off(".dtr");$(window).off("resize.dtr orientationchange.dtr");$.each(that.s.current,function(i,val){if(val===false){that._setColumnVis(i,true)}})});this.c.breakpoints.sort(function(a,b){return a.width<b.width?1:a.width>b.width?-1:0});this._classLogic();this._resizeAuto();var details=this.c.details;if(details.type!==false){that._detailsInit();dt.on("column-visibility.dtr",function(e,ctx,col,vis){that._classLogic();that._resizeAuto();that._resize()});dt.on("draw.dtr",function(){that._redrawChildren()});$(dt.table().node()).addClass("dtr-"+details.type)}dt.on("column-reorder.dtr",function(e,settings,details){that._classLogic();that._resizeAuto();that._resize()});dt.on("column-sizing.dtr",function(){that._resizeAuto();that._resize()});dt.on("preXhr.dtr",function(){var rowIds=[];dt.rows().every(function(){if(this.child.isShown()){rowIds.push(this.id(true))}});dt.one("draw.dtr",function(){dt.rows(rowIds).every(function(){that._detailsDisplay(this,false)})})});dt.on("init.dtr",function(e,settings,details){that._resizeAuto();that._resize();if($.inArray(false,that.s.current)){dt.columns.adjust()}});this._resize()},_columnsVisiblity:function(breakpoint){var dt=this.s.dt;var columns=this.s.columns;var i,ien;var order=columns.map(function(col,idx){return{columnIdx:idx,priority:col.priority}}).sort(function(a,b){if(a.priority!==b.priority){return a.priority-b.priority}return a.columnIdx-b.columnIdx});var display=$.map(columns,function(col){return col.auto&&col.minWidth===null?false:col.auto===true?"-":$.inArray(breakpoint,col.includeIn)!==-1});var requiredWidth=0;for(i=0,ien=display.length;i<ien;i++){if(display[i]===true){requiredWidth+=columns[i].minWidth}}var scrolling=dt.settings()[0].oScroll;var bar=scrolling.sY||scrolling.sX?scrolling.iBarWidth:0;var widthAvailable=dt.table().container().offsetWidth-bar;var usedWidth=widthAvailable-requiredWidth;for(i=0,ien=display.length;i<ien;i++){if(columns[i].control){usedWidth-=columns[i].minWidth}}var empty=false;for(i=0,ien=order.length;i<ien;i++){var colIdx=order[i].columnIdx;if(display[colIdx]==="-"&&!columns[colIdx].control&&columns[colIdx].minWidth){if(empty||usedWidth-columns[colIdx].minWidth<0){empty=true;display[colIdx]=false}else{display[colIdx]=true}usedWidth-=columns[colIdx].minWidth}}var showControl=false;for(i=0,ien=columns.length;i<ien;i++){if(!columns[i].control&&!columns[i].never&&!display[i]){showControl=true;break}}for(i=0,ien=columns.length;i<ien;i++){if(columns[i].control){display[i]=showControl}}if($.inArray(true,display)===-1){display[0]=true}return display},_classLogic:function(){var that=this;var calc={};var breakpoints=this.c.breakpoints;var dt=this.s.dt;var columns=dt.columns().eq(0).map(function(i){var column=this.column(i);var className=column.header().className;var priority=dt.settings()[0].aoColumns[i].responsivePriority;if(priority===undefined){var dataPriority=$(column.header()).data("priority");priority=dataPriority!==undefined?dataPriority*1:10000}return{className:className,includeIn:[],auto:false,control:false,never:className.match(/\bnever\b/)?true:false,priority:priority}});var add=function(colIdx,name){var includeIn=columns[colIdx].includeIn;if($.inArray(name,includeIn)===-1){includeIn.push(name)}};var column=function(colIdx,name,operator,matched){var size,i,ien;if(!operator){columns[colIdx].includeIn.push(name)}else{if(operator==="max-"){size=that._find(name).width;for(i=0,ien=breakpoints.length;i<ien;i++){if(breakpoints[i].width<=size){add(colIdx,breakpoints[i].name)}}}else{if(operator==="min-"){size=that._find(name).width;for(i=0,ien=breakpoints.length;i<ien;i++){if(breakpoints[i].width>=size){add(colIdx,breakpoints[i].name)}}}else{if(operator==="not-"){for(i=0,ien=breakpoints.length;i<ien;i++){if(breakpoints[i].name.indexOf(matched)===-1){add(colIdx,breakpoints[i].name)}}}}}}};columns.each(function(col,i){var classNames=col.className.split(" ");var hasClass=false;for(var k=0,ken=classNames.length;k<ken;k++){var className=$.trim(classNames[k]);if(className==="all"){hasClass=true;col.includeIn=$.map(breakpoints,function(a){return a.name});return}else{if(className==="none"||col.never){hasClass=true;return}else{if(className==="control"){hasClass=true;col.control=true;return}}}$.each(breakpoints,function(j,breakpoint){var brokenPoint=breakpoint.name.split("-");var re=new RegExp("(min\\-|max\\-|not\\-)?("+brokenPoint[0]+")(\\-[_a-zA-Z0-9])?");var match=className.match(re);if(match){hasClass=true;if(match[2]===brokenPoint[0]&&match[3]==="-"+brokenPoint[1]){column(i,breakpoint.name,match[1],match[2]+match[3])}else{if(match[2]===brokenPoint[0]&&!match[3]){column(i,breakpoint.name,match[1],match[2])}}}})}if(!hasClass){col.auto=true}});this.s.columns=columns},_detailsDisplay:function(row,update,status){var that=this;var dt=this.s.dt;var details=this.c.details;if(details&&details.type!==false){var res=details.display(row,update,function(){return details.renderer(dt,row[0],that._detailsObj(row[0]))});if(res===true||res===false){$(dt.table().node()).triggerHandler("responsive-display.dt",[dt,row,res,update])}}},_detailsInit:function(){var that=this;var dt=this.s.dt;var details=this.c.details;if(details.type==="inline"){details.target="td.dticon, th.dticon"}dt.on("draw.dtr",function(){that._tabIndexes()});that._tabIndexes();$(dt.table().body()).on("keyup.dtr","td, th",function(e){if(e.keyCode===13&&$(this).data("dtr-keyboard")){$(this).click()}});var target=details.target;var selector=typeof target==="string"?target:"td, th";$(dt.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",selector,function(e){if(!$(dt.table().node()).hasClass("collapsed")){return}if($.inArray($(this).closest("tr").get(0),dt.rows().nodes().toArray())===-1){return}if(typeof target==="number"){var targetIdx=target<0?dt.columns().eq(0).length+target:target;if(dt.cell(this).index().column!==targetIdx){return}}var row=dt.row($(this).closest("tr"));if(e.type==="click"){that._detailsDisplay(row,false)}else{if(e.type==="mousedown"){$(this).css("outline","none")}else{if(e.type==="mouseup"){$(this).blur().css("outline","")}}}})},_detailsObj:function(rowIdx){var that=this;var dt=this.s.dt;return $.map(this.s.columns,function(col,i){if(col.never||col.control){return}return{title:dt.settings()[0].aoColumns[i].sTitle,data:dt.cell(rowIdx,i).render(that.c.orthogonal),hidden:dt.column(i).visible()&&!that.s.current[i],columnIndex:i,rowIndex:rowIdx}})},_find:function(name){var breakpoints=this.c.breakpoints;for(var i=0,ien=breakpoints.length;i<ien;i++){if(breakpoints[i].name===name){return breakpoints[i]}}},_redrawChildren:function(pstatus){var that=this;var dt=this.s.dt;dt.rows({page:"current"}).iterator("row",function(settings,idx){var row=dt.row(idx);that._detailsDisplay(dt.row(idx),true,pstatus)})},_resize:function(){var that=this;var dt=this.s.dt;var width=$(window).width();var breakpoints=this.c.breakpoints;var breakpoint=breakpoints[0].name;var columns=this.s.columns;var i,ien;var oldVis=this.s.current.slice();for(i=breakpoints.length-1;i>=0;i--){if(width<=breakpoints[i].width){breakpoint=breakpoints[i].name;break}}var columnsVis=this._columnsVisiblity(breakpoint);this.s.current=columnsVis;var collapsedClass=false;for(i=0,ien=columns.length;i<ien;i++){if(columnsVis[i]===false&&!columns[i].never&&!columns[i].control){collapsedClass=true;break}}$(dt.table().node()).toggleClass("collapsed",collapsedClass);var changed=false;dt.columns().eq(0).each(function(colIdx,i){if(columnsVis[i]!==oldVis[i]){changed=true;that._setColumnVis(colIdx,columnsVis[i])}});if(changed){this._redrawChildren();$(dt.table().node()).trigger("responsive-resize.dt",[dt,this.s.current])}},_resizeAuto:function(){var dt=this.s.dt;var columns=this.s.columns;if(!this.c.auto){return}if($.inArray(true,$.map(columns,function(c){return c.auto}))===-1){return}var tableWidth=dt.table().node().offsetWidth;var columnWidths=dt.columns;var clonedTable=dt.table().node().cloneNode(false);var clonedHeader=$(dt.table().header().cloneNode(false)).appendTo(clonedTable);var clonedBody=$(dt.table().body()).clone(false,false).empty().appendTo(clonedTable);var headerCells=dt.columns().header().filter(function(idx){return dt.column(idx).visible()}).to$().clone(false).css("display","table-cell");$(clonedBody).append($(dt.rows({page:"current"}).nodes()).clone(false)).find("th, td").css("display","");var footer=dt.table().footer();if(footer){var clonedFooter=$(footer.cloneNode(false)).appendTo(clonedTable);var footerCells=dt.columns().footer().filter(function(idx){return dt.column(idx).visible()}).to$().clone(false).css("display","table-cell");$("<tr/>").append(footerCells).appendTo(clonedFooter)}$("<tr/>").append(headerCells).appendTo(clonedHeader);if(this.c.details.type==="inline"){$(clonedTable).addClass("dtr-inline collapsed")}$(clonedTable).find("[name]").removeAttr("name");var inserted=$("<div/>").css({width:1,height:1,overflow:"hidden"}).append(clonedTable);inserted.insertBefore(dt.table().node());headerCells.each(function(i){var idx=dt.column.index("fromVisible",i);columns[idx].minWidth=this.offsetWidth||0});inserted.remove()},_setColumnVis:function(col,showHide){var dt=this.s.dt;var display=showHide?"":"none";$(dt.column(col).header()).css("display",display);$(dt.column(col).footer()).css("display",display);dt.column(col).nodes().to$().css("display",display)},_tabIndexes:function(){var dt=this.s.dt;var cells=dt.cells({page:"current"}).nodes().to$();var ctx=dt.settings()[0];var target=this.c.details.target;cells.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]");var selector=typeof target==="number"?":eq("+target+")":target;if(selector==="td:first-child, th:first-child"){selector=">td:first-child, >th:first-child"}$(selector,dt.rows({page:"current"}).nodes()).attr("tabIndex",ctx.iTabIndex).data("dtr-keyboard",1)}});Responsive.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];Responsive.display={childRow:function(row,update,render){if(update){if($(row.node()).hasClass("parent")){row.child(render(),"child").show();return true}}else{if(!row.child.isShown()){row.child(render(),"child").show();$(row.node()).addClass("parent");return true}else{row.child(false);$(row.node()).removeClass("parent");return false}}},childRowImmediate:function(row,update,render){if((!update&&row.child.isShown())||!row.responsive.hasHidden()){row.child(false);$(row.node()).removeClass("parent");return false}else{row.child(render(),"child").show();$(row.node()).addClass("parent");return true}},modal:function(options){return function(row,update,render){if(!update){var close=function(){modal.remove();$(document).off("keypress.dtr")};var modal=$('<div class="dtr-modal"/>').append($('<div class="dtr-modal-display"/>').append($('<div class="dtr-modal-content"/>').append(render())).append($('<div class="dtr-modal-close">&times;</div>').click(function(){close()}))).append($('<div class="dtr-modal-background"/>').click(function(){close()})).appendTo("body");$(document).on("keyup.dtr",function(e){if(e.keyCode===27){e.stopPropagation();close()}})}else{$("div.dtr-modal-content").empty().append(render())}if(options&&options.header){$("div.dtr-modal-content").prepend("<h2>"+options.header(row)+"</h2>")}}}};Responsive.renderer={listHidden:function(){return function(api,rowIdx,columns){var data=$.map(columns,function(col){return col.hidden?'<li data-dtr-index="'+col.columnIndex+'" data-dt-row="'+col.rowIndex+'" data-dt-column="'+col.columnIndex+'"><span class="dtr-title">'+col.title+'</span> <span class="dtr-data">'+col.data+"</span></li>":""}).join("");return data?$('<ul data-dtr-index="'+rowIdx+'" class="dtr-details"/>').append(data):false}},tableAll:function(options){options=$.extend({tableClass:""},options);return function(api,rowIdx,columns){var data=$.map(columns,function(col){return'<tr data-dt-row="'+col.rowIndex+'" data-dt-column="'+col.columnIndex+'"><td>'+col.title+":</td> <td>"+col.data+"</td></tr>"}).join("");return $('<table class="'+options.tableClass+' dtr-details" width="100%"/>').append(data)}}};Responsive.defaults={breakpoints:Responsive.breakpoints,auto:true,details:{display:Responsive.display.childRow,renderer:Responsive.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var Api=$.fn.dataTable.Api;Api.register("responsive()",function(){return this});Api.register("responsive.index()",function(li){li=$(li);return{column:li.data("dtr-index"),row:li.parent().data("dtr-index")}});Api.register("responsive.rebuild()",function(){return this.iterator("table",function(ctx){if(ctx._responsive){ctx._responsive._classLogic()}})});Api.register("responsive.recalc()",function(){return this.iterator("table",function(ctx){if(ctx._responsive){ctx._responsive._resizeAuto();ctx._responsive._resize()}})});Api.register("responsive.hasHidden()",function(){var ctx=this.context[0];return ctx._responsive?$.inArray(false,ctx._responsive.s.current)!==-1:false});Responsive.version="2.1.1";$.fn.dataTable.Responsive=Responsive;$.fn.DataTable.Responsive=Responsive;$(document).on("preInit.dt.dtr",function(e,settings,json){if(e.namespace!=="dt"){return}if($(settings.nTable).hasClass("responsive")||$(settings.nTable).hasClass("dt-responsive")||settings.oInit.responsive||DataTable.defaults.responsive){var init=settings.oInit.responsive;if(init!==false){new Responsive(settings,$.isPlainObject(init)?init:{})}}});return Responsive}));
////Appending Script  == >jquery.fixedheadertable.js
/*!
 * jquery.fixedHeaderTable. The jQuery fixedHeaderTable plugin
 *
 * Copyright (c) 2013 Mark Malek
 * http://fixedheadertable.com
 *
 * Licensed under MIT
 * http://www.opensource.org/licenses/mit-license.php
 *
 * http://docs.jquery.com/Plugins/Authoring
 * jQuery authoring guidelines
 *
 * Launch  : October 2009
 * Version : 1.3
 * Released: May 9th, 2011
 *
 *
 * all CSS sizing (width,height) is done in pixels (px)
 */
(function($){$.fn.fixedHeaderTable=function(method){var defaults={width:"100%",height:"100%",themeClass:"ftbl-def",borderCollapse:true,fixedColumns:0,fixedColumn:false,sortable:false,autoShow:true,footer:false,cloneHeadToFoot:false,autoResize:false,create:null};var settings={};var methods={init:function(options){settings=$.extend({},defaults,options);return this.each(function(){var $self=$(this);if(helpers._isTable($self)){methods.setup.apply(this,Array.prototype.slice.call(arguments,1));$.isFunction(settings.create)&&settings.create.call(this)}else{$.error("Invalid table mark-up")}})},setup:function(){var $self=$(this),self=this,$thead=$self.find("thead"),$tfoot=$self.find("tfoot"),tfootHeight=0,$wrapper,$divHead,$divBody,$fixedBody,widthMinusScrollbar;settings.originalTable=$(this).clone();settings.includePadding=helpers._isPaddingIncludedWithWidth();settings.scrollbarOffset=helpers._getScrollbarWidth();settings.themeClassName=settings.themeClass;if(settings.width.search&&settings.width.search("%")>-1){widthMinusScrollbar=$self.parent().width()-settings.scrollbarOffset}else{widthMinusScrollbar=settings.width-settings.scrollbarOffset}$self.css({width:widthMinusScrollbar});if(!$self.closest(".ftbl-wrp").length){$self.addClass("ftbl");$self.wrap('<div class="ftbl-wrp"></div>')}$wrapper=$self.closest(".ftbl-wrp");if(settings.fixedColumn==true&&settings.fixedColumns<=0){settings.fixedColumns=1}if(settings.fixedColumns>0&&$wrapper.find(".fht-fixed-column").length==0){$self.wrap('<div class="fht-fixed-body"></div>');$('<div class="fht-fixed-column"></div>').prependTo($wrapper);$fixedBody=$wrapper.find(".fht-fixed-body")}$wrapper.css({width:settings.width,height:settings.height}).addClass(settings.themeClassName);if(!$self.hasClass("ftbl-init")){$self.wrap('<div class="ftbl-bdy"></div>')}$divBody=$self.closest(".ftbl-bdy");var tableProps=helpers._getTableProps($self);helpers._setupClone($divBody,tableProps.thead);if(!$self.hasClass("ftbl-init")){if(settings.fixedColumns>0){$divHead=$('<div class="ftbl-thd"><table class="ftbl"></table></div>').prependTo($fixedBody)}else{$divHead=$('<div class="ftbl-thd"><table class="ftbl"></table></div>').prependTo($wrapper)}$divHead.find("table.ftbl").addClass(settings.originalTable.attr("class")).attr("style",settings.originalTable.attr("style"));$thead.clone().appendTo($divHead.find("table"))}else{$divHead=$wrapper.find("div.ftbl-thd")}helpers._setupClone($divHead,tableProps.thead);$self.css({"margin-top":-$divHead.outerHeight(true)});if(settings.footer==true){helpers._setupTableFooter($self,self,tableProps);if(!$tfoot.length){$tfoot=$wrapper.find("div.fht-tfoot table")}tfootHeight=$tfoot.outerHeight(true)}var tbodyHeight=$wrapper.height()-$thead.outerHeight(true)-tfootHeight-tableProps.border;$divBody.css({height:tbodyHeight});$self.addClass("ftbl-init");if(typeof(settings.altClass)!=="undefined"){methods.altRows.apply(self)}if(settings.fixedColumns>0){helpers._setupFixedColumn($self,self,tableProps)}if(!settings.autoShow){$wrapper.hide()}helpers._bindScroll($divBody,tableProps);return self},resize:function(){var self=this;return self},altRows:function(arg1){var $self=$(this),altClass=(typeof(arg1)!=="undefined")?arg1:settings.altClass;$self.closest(".ftbl-wrp").find("tbody tr:odd:not(:hidden)")},show:function(arg1,arg2,arg3){var $self=$(this),self=this,$wrapper=$self.closest(".ftbl-wrp");if(typeof(arg1)!=="undefined"&&typeof(arg1)==="number"){$wrapper.show(arg1,function(){$.isFunction(arg2)&&arg2.call(this)});return self}else{if(typeof(arg1)!=="undefined"&&typeof(arg1)==="string"&&typeof(arg2)!=="undefined"&&typeof(arg2)==="number"){$wrapper.show(arg1,arg2,function(){$.isFunction(arg3)&&arg3.call(this)});return self}}$self.closest(".ftbl-wrp").show();$.isFunction(arg1)&&arg1.call(this);return self},hide:function(arg1,arg2,arg3){var $self=$(this),self=this,$wrapper=$self.closest(".ftbl-wrp");if(typeof(arg1)!=="undefined"&&typeof(arg1)==="number"){$wrapper.hide(arg1,function(){$.isFunction(arg3)&&arg3.call(this)});return self}else{if(typeof(arg1)!=="undefined"&&typeof(arg1)==="string"&&typeof(arg2)!=="undefined"&&typeof(arg2)==="number"){$wrapper.hide(arg1,arg2,function(){$.isFunction(arg3)&&arg3.call(this)});return self}}$self.closest(".ftbl-wrp").hide();$.isFunction(arg3)&&arg3.call(this);return self},destroy:function(){var $self=$(this),self=this,$wrapper=$self.closest(".ftbl-wrp");$self.insertBefore($wrapper).removeAttr("style").append($wrapper.find("tfoot")).removeClass("ftbl ftbl-init").find(".fht-cell").remove();$wrapper.remove();return self}};var helpers={_isTable:function($obj){var $self=$obj,hasTable=$self.is("table"),hasThead=$self.find("thead").length>0,hasTbody=$self.find("tbody").length>0;if(hasTable&&hasThead&&hasTbody){return true}return false},_bindScroll:function($obj){var $self=$obj,$wrapper=$self.closest(".ftbl-wrp"),$thead=$self.siblings(".ftbl-thd"),$tfoot=$self.siblings(".fht-tfoot");$self.bind("scroll",function(){if(settings.fixedColumns>0){var $fixedColumns=$wrapper.find(".fht-fixed-column");$fixedColumns.find(".ftbl-bdy table").css({"margin-top":-$self.scrollTop()})}$thead.find("table").css({"margin-left":-this.scrollLeft})})},_fixHeightWithCss:function($obj,tableProps){if(settings.includePadding){$obj.css({height:$obj.height()+tableProps.border})}else{$obj.css({height:$obj.parent().height()+tableProps.border})}},_fixWidthWithCss:function($obj,tableProps,width){if(settings.includePadding){$obj.each(function(){$(this).css({width:width==undefined?$(this).width()+tableProps.border:width+tableProps.border})})}else{$obj.each(function(){$(this).css({width:width==undefined?$(this).parent().width()+tableProps.border:width+tableProps.border})})}},_setupFixedColumn:function($obj,obj,tableProps){var $self=$obj,$wrapper=$self.closest(".ftbl-wrp"),$fixedBody=$wrapper.find(".fht-fixed-body"),$fixedColumn=$wrapper.find(".fht-fixed-column"),$thead=$('<div class="ftbl-thd"><table class="ftbl"><thead><tr></tr></thead></table></div>'),$tbody=$('<div class="ftbl-bdy"><table class="ftbl"><tbody></tbody></table></div>'),$tfoot=$('<div class="fht-tfoot"><table class="ftbl"><tfoot><tr></tr></tfoot></table></div>'),fixedBodyWidth=$wrapper.width(),fixedBodyHeight=$fixedBody.find(".ftbl-bdy").height()-settings.scrollbarOffset,$firstThChildren,$firstTdChildren,fixedColumnWidth,$newRow,firstTdChildrenSelector;$thead.find("table.ftbl").addClass(settings.originalTable.attr("class"));$tbody.find("table.ftbl").addClass(settings.originalTable.attr("class"));$tfoot.find("table.ftbl").addClass(settings.originalTable.attr("class"));$firstThChildren=$fixedBody.find(".ftbl-thd thead tr > *:lt("+settings.fixedColumns+")");fixedColumnWidth=settings.fixedColumns*tableProps.border;$firstThChildren.each(function(){fixedColumnWidth+=$(this).outerWidth(true)});helpers._fixHeightWithCss($firstThChildren,tableProps);helpers._fixWidthWithCss($firstThChildren,tableProps);var tdWidths=[];$firstThChildren.each(function(){tdWidths.push($(this).width())});firstTdChildrenSelector="tbody tr > *:not(:nth-child(n+"+(settings.fixedColumns+1)+"))";$firstTdChildren=$fixedBody.find(firstTdChildrenSelector).each(function(index){helpers._fixHeightWithCss($(this),tableProps);helpers._fixWidthWithCss($(this),tableProps,tdWidths[index%settings.fixedColumns])});$thead.appendTo($fixedColumn).find("tr").append($firstThChildren.clone());$tbody.appendTo($fixedColumn).css({"margin-top":-1,height:fixedBodyHeight+tableProps.border});$firstTdChildren.each(function(index){if(index%settings.fixedColumns==0){$newRow=$("<tr></tr>").appendTo($tbody.find("tbody"));if(settings.altClass&&$(this).parent().hasClass(settings.altClass)){$newRow.addClass(settings.altClass)}}$(this).clone().appendTo($newRow)});$fixedColumn.css({height:0,width:fixedColumnWidth});var maxTop=$fixedColumn.find(".ftbl-bdy .ftbl").height()-$fixedColumn.find(".ftbl-bdy").height();$fixedColumn.find(".ftbl-bdy .ftbl").bind("mousewheel",function(event,delta,deltaX,deltaY){if(deltaY==0){return}var top=parseInt($(this).css("marginTop"),10)+(deltaY>0?120:-120);if(top>0){top=0}if(top<-maxTop){top=-maxTop}$(this).css("marginTop",top);$fixedBody.find(".ftbl-bdy").scrollTop(-top).scroll();return false});$fixedBody.css({width:fixedBodyWidth});if(settings.footer==true||settings.cloneHeadToFoot==true){var $firstTdFootChild=$fixedBody.find(".fht-tfoot tr > *:lt("+settings.fixedColumns+")"),footwidth;helpers._fixHeightWithCss($firstTdFootChild,tableProps);$tfoot.appendTo($fixedColumn).find("tr").append($firstTdFootChild.clone());footwidth=$tfoot.find("table").innerWidth();$tfoot.css({top:settings.scrollbarOffset,width:footwidth})}},_setupTableFooter:function($obj,obj,tableProps){var $self=$obj,$wrapper=$self.closest(".ftbl-wrp"),$tfoot=$self.find("tfoot"),$divFoot=$wrapper.find("div.fht-tfoot");if(!$divFoot.length){if(settings.fixedColumns>0){$divFoot=$('<div class="fht-tfoot"><table class="ftbl"></table></div>').appendTo($wrapper.find(".fht-fixed-body"))}else{$divFoot=$('<div class="fht-tfoot"><table class="ftbl"></table></div>').appendTo($wrapper)}}$divFoot.find("table.ftbl").addClass(settings.originalTable.attr("class"));switch(true){case !$tfoot.length&&settings.cloneHeadToFoot==true&&settings.footer==true:var $divHead=$wrapper.find("div.ftbl-thd");$divFoot.empty();$divHead.find("table").clone().appendTo($divFoot);break;case $tfoot.length&&settings.cloneHeadToFoot==false&&settings.footer==true:$divFoot.find("table").append($tfoot).css({"margin-top":-tableProps.border});helpers._setupClone($divFoot,tableProps.tfoot);break}},_getTableProps:function($obj){var tableProp={thead:{},tbody:{},tfoot:{},border:0},borderCollapse=1;if(settings.borderCollapse==true){borderCollapse=2}tableProp.border=($obj.find("th:first-child").outerWidth()-$obj.find("th:first-child").innerWidth())/borderCollapse;$obj.find("thead tr:first-child > *").each(function(index){tableProp.thead[index]=$(this).width()+tableProp.border});$obj.find("tfoot tr:first-child > *").each(function(index){tableProp.tfoot[index]=$(this).width()+tableProp.border});$obj.find("tbody tr:first-child > *").each(function(index){tableProp.tbody[index]=$(this).width()+tableProp.border});return tableProp},_setupClone:function($obj,cellArray){var $self=$obj,selector=($self.find("thead").length)?"thead tr:first-child > *":($self.find("tfoot").length)?"tfoot tr:first-child > *":"tbody tr:first-child > *",$cell;$self.find(selector).each(function(index){$cell=($(this).find("div.fht-cell").length)?$(this).find("div.fht-cell"):$('<div class="fht-cell"></div>').appendTo($(this));$cell.css({width:parseInt(cellArray[index],10)});if(!$(this).closest(".ftbl-bdy").length&&$(this).is(":last-child")&&!$(this).closest(".fht-fixed-column").length){var padding=Math.max((($(this).innerWidth()-$(this).width())/2),settings.scrollbarOffset);if(!$(this).data("padRht")){var oldPadding=$(this).css("padding-right");$(this).data("padRht",oldPadding);$(this).css({"padding-right":parseInt(oldPadding)+padding+"px"})}}})},_isPaddingIncludedWithWidth:function(){var $obj=$('<table class="ftbl"><tr><td style="padding: 10px; font-size: 10px;">test</td></tr></table>'),defaultHeight,newHeight;$obj.addClass(settings.originalTable.attr("class"));$obj.appendTo("body");defaultHeight=$obj.find("td").height();$obj.find("td").css("height",$obj.find("tr").height());newHeight=$obj.find("td").height();$obj.remove();if(defaultHeight!=newHeight){return true}else{return false}},_getScrollbarWidth:function(){var scrollbarWidth=0;if(!scrollbarWidth){if(/msie/.test(navigator.userAgent.toLowerCase())){var $textarea1=$('<textarea cols="10" rows="2"></textarea>').css({position:"absolute",top:-1000,left:-1000}).appendTo("body"),$textarea2=$('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:"absolute",top:-1000,left:-1000}).appendTo("body");scrollbarWidth=$textarea1.width()-$textarea2.width()+2;$textarea1.add($textarea2).remove()}else{var $div=$("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1000,left:-1000}).prependTo("body").append("<div />").find("div").css({width:"100%",height:200});scrollbarWidth=100-$div.width();$div.parent().remove()}}return scrollbarWidth}};if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{$.error('Method "'+method+'" does not exist in fixedHeaderTable plugin!')}}}})(jQuery);
////Appending Script  == >popover.js
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under the MIT license
 */
;if(typeof jQuery==="undefined"){throw new Error("Bootstrap's JavaScript requires jQuery")}+function($){var version=$.fn.jquery.split(" ")[0].split(".");if((version[0]<2&&version[1]<9)||(version[0]==1&&version[1]==9&&version[2]<1)||(version[0]>3)){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}}(jQuery);+function($){var Tooltip=function(element,options){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",element,options)};Tooltip.VERSION="3.3.7";Tooltip.TRANSITION_DURATION=150;Tooltip.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};Tooltip.prototype.init=function(type,element,options){this.enabled=true;this.type=type;this.$element=$(element);this.options=this.getOptions(options);this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):(this.options.viewport.selector||this.options.viewport));this.inState={click:false,hover:false,focus:false};if(this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click"){this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this))}else{if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focusin";var eventOut=trigger=="hover"?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}}this.options.selector?(this._options=$.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS};Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options);if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options};Tooltip.prototype.getDelegateOptions=function(){var options={};var defaults=this.getDefaults();this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value){options[key]=value}});return options};Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions());$(obj.currentTarget).data("bs."+this.type,self)}if(obj instanceof $.Event){self.inState[obj.type=="focusin"?"focus":"hover"]=true}if(self.tip().hasClass("in")||self.hoverState=="in"){self.hoverState="in";return}clearTimeout(self.timeout);self.hoverState="in";if(!self.options.delay||!self.options.delay.show){return self.show()}self.timeout=setTimeout(function(){if(self.hoverState=="in"){self.show()}},self.options.delay.show)};Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState){if(this.inState[key]){return true}}return false};Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions());$(obj.currentTarget).data("bs."+this.type,self)}if(obj instanceof $.Event){self.inState[obj.type=="focusout"?"focus":"hover"]=false}if(self.isInStateTrue()){return}clearTimeout(self.timeout);self.hoverState="out";if(!self.options.delay||!self.options.delay.hide){return self.hide()}self.timeout=setTimeout(function(){if(self.hoverState=="out"){self.hide()}},self.options.delay.hide)};Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom){return}var that=this;var $tip=this.tip();var tipId=this.getUID(this.type);this.setContent();$tip.attr("id",tipId);this.$element.attr("aria-describedby",tipId);if(this.options.animation){$tip.addClass("fade")}var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace){placement=placement.replace(autoToken,"")||"top"}$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this);this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var pos=this.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement;var viewportDim=this.getPosition(this.$viewport);placement=placement=="bottom"&&pos.bottom+actualHeight>viewportDim.bottom?"top":placement=="top"&&pos.top-actualHeight<viewportDim.top?"bottom":placement=="right"&&pos.right+actualWidth>viewportDim.width?"left":placement=="left"&&pos.left-actualWidth<viewportDim.left?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type);that.hoverState=null;if(prevHoverState=="out"){that.leave(that)}};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}};Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip();var width=$tip[0].offsetWidth;var height=$tip[0].offsetHeight;var marginTop=parseInt($tip.css("margin-top"),10);var marginLeft=parseInt($tip.css("margin-left"),10);if(isNaN(marginTop)){marginTop=0}if(isNaN(marginLeft)){marginLeft=0}offset.top+=marginTop;offset.left+=marginLeft;$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0);$tip.addClass("in");var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){offset.top=offset.top+height-actualHeight}var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);if(delta.left){offset.left+=delta.left}else{offset.top+=delta.top}var isVertical=/top|bottom/.test(placement);var arrowDelta=isVertical?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight;var arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset);this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)};Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?"left":"top",50*(1-delta/dimension)+"%").css(isVertical?"top":"left","")};Tooltip.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")};Tooltip.prototype.hide=function(callback){var that=this;var $tip=$(this.$tip);var e=$.Event("hide.bs."+this.type);function complete(){if(that.hoverState!="in"){$tip.detach()}if(that.$element){that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type)}callback&&callback()}this.$element.trigger(e);if(e.isDefaultPrevented()){return}$tip.removeClass("in");$.support.transition&&$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete();this.hoverState=null;return this};Tooltip.prototype.fixTitle=function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").attr("title","")}};Tooltip.prototype.hasContent=function(){return this.getTitle()};Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0];var isBody=el.tagName=="BODY";var elRect=el.getBoundingClientRect();if(elRect.width==null){elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top})}var isSvg=window.SVGElement&&el instanceof window.SVGElement;var elOffset=isBody?{top:0,left:0}:(isSvg?null:$element.offset());var scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()};var outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)};Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}};Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport){return delta}var viewportPadding=this.options.viewport&&this.options.viewport.padding||0;var viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll;var bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;if(topEdgeOffset<viewportDimensions.top){delta.top=viewportDimensions.top-topEdgeOffset}else{if(bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height){delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset}}}else{var leftEdgeOffset=pos.left-viewportPadding;var rightEdgeOffset=pos.left+viewportPadding+actualWidth;if(leftEdgeOffset<viewportDimensions.left){delta.left=viewportDimensions.left-leftEdgeOffset}else{if(rightEdgeOffset>viewportDimensions.right){delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset}}}return delta};Tooltip.prototype.getTitle=function(){var title;var $e=this.$element;var o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title};Tooltip.prototype.getUID=function(prefix){do{prefix+=~~(Math.random()*1000000)}while(document.getElementById(prefix));return prefix};Tooltip.prototype.tip=function(){if(!this.$tip){this.$tip=$(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};Tooltip.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow"))};Tooltip.prototype.enable=function(){this.enabled=true};Tooltip.prototype.disable=function(){this.enabled=false};Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled};Tooltip.prototype.toggle=function(e){var self=this;if(e){self=$(e.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(e.currentTarget,this.getDelegateOptions());$(e.currentTarget).data("bs."+this.type,self)}}if(e){self.inState.click=!self.inState.click;if(self.isInStateTrue()){self.enter(self)}else{self.leave(self)}}else{self.tip().hasClass("in")?self.leave(self):self.enter(self)}};Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout);this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type);if(that.$tip){that.$tip.detach()}that.$tip=null;that.$arrow=null;that.$viewport=null;that.$element=null})};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tooltip");var options=typeof option=="object"&&option;if(!data&&/destroy|hide/.test(option)){return}if(!data){$this.data("bs.tooltip",(data=new Tooltip(this,options)))}if(typeof option=="string"){data[option]()}})}var old=$.fn.tooltip;$.fn.tooltip=Plugin;$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(jQuery);+function($){var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip){throw new Error("Popover requires tooltip.js")}Popover.VERSION="3.3.7";Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype);Popover.prototype.constructor=Popover;Popover.prototype.getDefaults=function(){return Popover.DEFAULTS};Popover.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();var content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content").children().detach().end()[this.options.html?(typeof content=="string"?"html":"append"):"text"](content);$tip.removeClass("fade top bottom left right in");if(!$tip.find(".popover-title").html()){$tip.find(".popover-title").hide()}};Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()};Popover.prototype.getContent=function(){var $e=this.$element;var o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)};Popover.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".arrow"))};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.popover");var options=typeof option=="object"&&option;if(!data&&/destroy|hide/.test(option)){return}if(!data){$this.data("bs.popover",(data=new Popover(this,options)))}if(typeof option=="string"){data[option]()}})}var old=$.fn.popover;$.fn.popover=Plugin;$.fn.popover.Constructor=Popover;$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(jQuery);
////Appending Script  == >ddlevelsmenu.js
if(typeof dd_domreadycheck=="undefined"){var dd_domreadycheck=false}var ddlevelsmenu={mql:(window.matchMedia)?window.matchMedia("screen and (max-width: 700px)"):{matches:false,addListener:function(){}},enableshim:true,arrowpointers:{downarrow:[" ",],rightarrow:[" ",],backarrow:[" ",],showarrow:{toplevel:true,sublevel:true}},hideinterval:200,effects:{enableswipe:true,enableslide:true,enablefade:true,duration:200},httpsdivsrc:"blank.htm",topmenuids:[],menuclone:{},topitems:{},subuls:{},lastactivesubul:{},topitemsindex:-1,ulindex:-1,hidetimers:{},shimadded:false,nonFF:!/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent),ismobile:navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i)!=null,mobilezindex:1000,getoffset:function(what,offsettype){return(what.offsetParent)?what[offsettype]+this.getoffset(what.offsetParent,offsettype):what[offsettype]},getoffsetof:function(el){el._offsets={left:this.getoffset(el,"offsetLeft"),top:this.getoffset(el,"offsetTop")}},getwindowsize:function(){this.docwidth=window.innerWidth?window.innerWidth-10:this.standardbody.clientWidth-10;this.docheight=window.innerHeight?window.innerHeight-15:this.standardbody.clientHeight-18},gettopitemsdimensions:function(){for(var m=0;m<this.topmenuids.length;m++){var topmenuid=this.topmenuids[m];for(var i=0;i<this.topitems[topmenuid].length;i++){var header=this.topitems[topmenuid][i];var submenu=document.getElementById(header.getAttribute("rel"));header._dimensions={w:header.offsetWidth,h:header.offsetHeight,submenuw:submenu.offsetWidth,submenuh:submenu.offsetHeight}}}},isContained:function(m,e){var e=window.event||e;var c=e.relatedTarget||((e.type=="mouseover")?e.fromElement:e.toElement);while(c&&c!=m){try{c=c.parentNode}catch(e){c=m}}if(c==m){return true}else{return false}},addpointer:function(target,iclass,imginfo,BeforeorAfter){var pointer=document.createElement("i");pointer.src=imginfo[0];pointer.style.width=imginfo[1]+"px";pointer.style.height=imginfo[2]+"px";if(iclass=="rightarrowpointer"){pointer.style.left=target.offsetWidth-imginfo[2]-2+"px"}pointer.className=iclass;var target_firstEl=target.childNodes[target.firstChild.nodeType!=1?1:0];if(target_firstEl&&target_firstEl.tagName=="SPAN"){target=target_firstEl}if(BeforeorAfter=="before"){target.insertBefore(pointer,target.firstChild)}else{target.appendChild(pointer)}},css:function(el,targetclass,action){var needle=new RegExp("(^|\\s+)"+targetclass+"($|\\s+)","ig");if(action=="check"){return needle.test(el.className)}else{if(action=="remove"){el.className=el.className.replace(needle,"")}else{if(action=="add"&&!needle.test(el.className)){el.className+=" "+targetclass}}}},addshimmy:function(target){var shim=(!window.opera)?document.createElement("div"):document.createElement("div");shim.className="dddivshim";shim.setAttribute("src",location.protocol=="https:"?this.httpsdivsrc:"about:blank");shim.setAttribute("frameborder","0");target.appendChild(shim);try{shim.style.filter="progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}catch(e){}return shim},positionshim:function(header,submenu,dir,scrollX,scrollY){if(header._istoplevel){var scrollY=window.pageYOffset?window.pageYOffset:this.standardbody.scrollTop;var topgap=header._offsets.top-scrollY;var bottomgap=scrollY+this.docheight-header._offsets.top-header._dimensions.h;if(topgap>0){this.shimmy.topshim.style.left=scrollX+"px";this.shimmy.topshim.style.top=scrollY+"px";this.shimmy.topshim.style.width="99%";this.shimmy.topshim.style.height=topgap+"px"}if(bottomgap>0){this.shimmy.bottomshim.style.left=scrollX+"px";this.shimmy.bottomshim.style.top=header._offsets.top+header._dimensions.h+"px";this.shimmy.bottomshim.style.width="99%";this.shimmy.bottomshim.style.height=bottomgap+"px"}}},hideshim:function(){this.shimmy.topshim.style.width=this.shimmy.bottomshim.style.width=0;this.shimmy.topshim.style.height=this.shimmy.bottomshim.style.height=0},getoffset:function(what,offsettype){return(what.offsetParent)?what[offsettype]+this.getoffset(what.offsetParent,offsettype):what[offsettype]},buildmenu:function(mainmenuid,header,submenu,submenupos,istoplevel,dir){header._master=mainmenuid;header._pos=submenupos;header._istoplevel=istoplevel;if(istoplevel){this.addEvent(header,function(e){ddlevelsmenu.hidemenu(ddlevelsmenu.subuls[this._master][parseInt(this._pos)].parentNode)},"click")}this.subuls[mainmenuid][submenupos]=submenu;header._dimensions={w:header.offsetWidth,h:header.offsetHeight,submenuw:submenu.offsetWidth,submenuh:submenu.offsetHeight};this.getoffsetof(header);submenu.parentNode.style.left=0;submenu.parentNode.style.top=0;submenu.parentNode.style.visibility="hidden";submenu.style.visibility="hidden";this.addEvent(header,function(e){if(ddlevelsmenu.ismobile||!ddlevelsmenu.isContained(this,e)){var submenu=ddlevelsmenu.subuls[this._master][parseInt(this._pos)];if(this._istoplevel){ddlevelsmenu.css(this,"selected","add");clearTimeout(ddlevelsmenu.hidetimers[this._master][this._pos])}ddlevelsmenu.getoffsetof(header);var scrollX=window.pageXOffset?window.pageXOffset:ddlevelsmenu.standardbody.scrollLeft;var scrollY=window.pageYOffset?window.pageYOffset:ddlevelsmenu.standardbody.scrollTop;var submenurightedge=this._offsets.left+this._dimensions.submenuw+(this._istoplevel&&dir=="topbar"?0:this._dimensions.w);var submenubottomedge=this._offsets.top+this._dimensions.submenuh;var menuleft=(this._istoplevel?this._offsets.left+(dir=="sidebar"?this._dimensions.w:0):this._dimensions.w);if(submenurightedge-scrollX>ddlevelsmenu.docwidth){menuleft+=-this._dimensions.submenuw+(this._istoplevel&&dir=="topbar"?this._dimensions.w:-this._dimensions.w);if(!(this._istoplevel&&dir=="topbar")&&(this._offsets.left-this._dimensions.submenuw)<scrollX){menuleft=0}}submenu.parentNode.style.left=menuleft+"px";var menutop=(this._istoplevel?this._offsets.top+(dir=="sidebar"?0:this._dimensions.h):this.offsetTop);if(submenubottomedge-scrollY>ddlevelsmenu.docheight){if(this._dimensions.submenuh<this._offsets.top+(dir=="sidebar"?this._dimensions.h:0)-scrollY){menutop+=-this._dimensions.submenuh+(this._istoplevel&&dir=="topbar"?-this._dimensions.h:this._dimensions.h)}else{menutop+=-(this._offsets.top-scrollY)+(this._istoplevel&&dir=="topbar"?-this._dimensions.h:0)}}submenu.parentNode.style.top=menutop+"px";if(ddlevelsmenu.enableshim&&(ddlevelsmenu.effects.enableswipe==false||ddlevelsmenu.nonFF)){ddlevelsmenu.positionshim(header,submenu,dir,scrollX,scrollY)}else{submenu.FFscrollInfo={x:scrollX,y:scrollY}}ddlevelsmenu.showmenu(header,submenu,dir);if(!ddlevelsmenu.ismobile){if(e.preventDefault){e.preventDefault()}if(e.stopPropagation){e.stopPropagation()}}else{if(header._istoplevel||e.target.parentNode.getElementsByTagName("ul").length>0){e.preventDefault();e.stopPropagation()}}}ddlevelsmenu.gettopitemsdimensions()},(this.ismobile)?"click":"mouseover");this.addEvent(header,function(e){var submenu=ddlevelsmenu.subuls[this._master][parseInt(this._pos)];if(this._istoplevel){if(!ddlevelsmenu.isContained(this,e)&&!ddlevelsmenu.isContained(submenu.parentNode,e)){ddlevelsmenu.hidemenu(submenu.parentNode)}}else{if(!this._istoplevel&&!ddlevelsmenu.isContained(this,e)){ddlevelsmenu.hidemenu(submenu.parentNode)}}},"mouseout")},buildmobilemenu:function(menuid,ul,dir){function flattenul(ul,cloneulBol,callback,finalcall){var callback=callback||function(){};var finalcall=finalcall||function(){};var docfrag=document.createDocumentFragment();var targetul=cloneulBol?ul.cloneNode(true):ul;var subuls=targetul.getElementsByTagName("ul");var subulscount=subuls.length;for(var i=subulscount-1;i>=0;i--){var subul=subuls[i];var header=subuls[i].parentNode;docfrag.appendChild(subuls[i]);callback(i,header,subul)}docfrag.appendChild(targetul);finalcall(targetul);return docfrag}if(!document.getElementById(menuid+"-mobile")){var mobilecontainer=document.createElement("nav");mobilecontainer.setAttribute("id",menuid+"-mobile");mobilecontainer.className="mobilelevelsmenu";document.body.appendChild(mobilecontainer);var mobiletoggle=document.getElementById(menuid+"-mobiletoggle");if(mobiletoggle){this.addEvent(mobiletoggle,function(e){ddlevelsmenu.togglemobilemenu(menuid);e.stopPropagation();e.preventDefault()},"click")}}else{var mobilecontainer=document.getElementById(menuid+"-mobile")}var flattened=flattenul(ul,false,function(i,header,subul){var rightarrow=document.createElement("i");rightarrow.src=ddlevelsmenu.arrowpointers.rightarrow[0];rightarrow.className="rightarrowpointer";header.getElementsByTagName("a")[0].appendChild(rightarrow);header._submenuref=subul;subul.className="submenu";var breadcrumb=document.createElement("li");breadcrumb.className="breadcrumb";breadcrumb.innerHTML="<i "+ddlevelsmenu.arrowpointers.backarrow[0]+' class="backarrowpointer" /> '+header.getElementsByTagName("p")[0].firstChild.nodeValue;breadcrumb._headerref=header;subul.insertBefore(breadcrumb,subul.getElementsByTagName("li")[0]);ddlevelsmenu.addEvent(header,function(e){var headermenu=this.parentNode;var submenu=this._submenuref;ddlevelsmenu.animatemobilesubmenu(submenu,"100%",0);e.stopPropagation();e.preventDefault()},"click");ddlevelsmenu.addEvent(breadcrumb,function(e){var parentmenu=this._headerref.parentNode;ddlevelsmenu.animatemobilesubmenu(parentmenu,"-100%",0);e.stopPropagation();e.preventDefault()},"click")},function(topul){topul.style.zIndex=ddlevelsmenu.mobilezindex++});mobilecontainer.appendChild(flattened)},setopacity:function(el,value){el.style.opacity=value;if(typeof el.style.opacity!="string"){el.style.MozOpacity=value;try{if(el.filters){el.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+value*100+")"}}catch(e){}}},animatemobilesubmenu:function(targetul,beforeleft,afterleft){this.css(targetul,"notransition","add");targetul.style.zIndex=ddlevelsmenu.mobilezindex++;targetul.style.left=beforeleft;window.getComputedStyle(targetul).left;this.css(targetul,"notransition","remove");targetul.style.left=afterleft},togglemobilemenu:function(mainmenuid,xoffset,yoffset){var toggler=document.getElementById(mainmenuid+"-mobiletoggle");var mobilemenu=document.getElementById(mainmenuid+"-mobile");if(mobilemenu){if(!ddlevelsmenu.css(mobilemenu,"open","check")){ddlevelsmenu.css(mobilemenu,"open","add");if(toggler){ddlevelsmenu.css(toggler,"open","add")}}else{ddlevelsmenu.css(mobilemenu,"open","remove");if(toggler){ddlevelsmenu.css(toggler,"open","remove")}}}return false},showmenu:function(header,submenu,dir){if(this.effects.enableswipe||this.effects.enablefade){if(this.effects.enableswipe){var endpoint=(header._istoplevel&&dir=="topbar")?header._dimensions.submenuh:header._dimensions.submenuw;submenu.parentNode.style.width=submenu.parentNode.style.height=0;submenu.parentNode.style.overflow="hidden"}if(this.effects.enablefade){submenu.parentNode.style.width=submenu.offsetWidth+"px";submenu.parentNode.style.height=submenu.offsetHeight+"px";this.setopacity(submenu.parentNode,0)}submenu._curanimatedegree=0;submenu.parentNode.style.visibility="visible";submenu.style.visibility="visible";clearInterval(submenu._animatetimer);submenu._starttime=new Date().getTime();submenu._animatetimer=setInterval(function(){ddlevelsmenu.revealmenu(header,submenu,endpoint,dir)},10)}else{submenu.parentNode.style.visibility="visible";submenu.style.visibility="visible"}},revealmenu:function(header,submenu,endpoint,dir){var elapsed=new Date().getTime()-submenu._starttime;if(elapsed<this.effects.duration){if(this.effects.enableswipe){if(submenu._curanimatedegree==0){submenu.parentNode.style[header._istoplevel&&dir=="topbar"?"width":"height"]=(header._istoplevel&&dir=="topbar"?submenu.offsetWidth:submenu.offsetHeight)+"px"}submenu.parentNode.style[header._istoplevel&&dir=="topbar"?"height":"width"]=(submenu._curanimatedegree*endpoint)+"px";if(this.effects.enableslide){submenu.style[header._istoplevel&&dir=="topbar"?"top":"left"]=Math.floor((submenu._curanimatedegree-1)*endpoint)+"px"}}if(this.effects.enablefade){this.setopacity(submenu.parentNode,submenu._curanimatedegree)}}else{clearInterval(submenu._animatetimer);if(this.effects.enableswipe){submenu.parentNode.style.width=submenu.offsetWidth+"px";submenu.parentNode.style.height=submenu.offsetHeight+"px";submenu.parentNode.style.overflow="visible";if(this.effects.enableslide){submenu.style.top=0;submenu.style.left=0}}if(this.effects.enablefade){this.setopacity(submenu.parentNode,1);submenu.parentNode.style.filter=""}if(this.enableshim&&submenu.FFscrollInfo){this.positionshim(header,submenu,dir,submenu.FFscrollInfo.x,submenu.FFscrollInfo.y)}}submenu._curanimatedegree=(1-Math.cos((elapsed/this.effects.duration)*Math.PI))/2},hidemenu:function(submenu){if(typeof submenu._pos!="undefined"){this.css(this.topitems[submenu._master][parseInt(submenu._pos)],"selected","remove");if(this.enableshim){this.hideshim()}}clearInterval(submenu.firstChild._animatetimer);submenu.style.left=0;submenu.style.top="-1000px";submenu.style.visibility="hidden";submenu.firstChild.style.visibility="hidden"},addEvent:function(target,functionref,tasktype){if(target.addEventListener){target.addEventListener(tasktype,functionref,false)}else{if(target.attachEvent){target.attachEvent("on"+tasktype,function(){return functionref.call(target,window.event)})}}},domready:function(functionref){if(dd_domreadycheck){functionref();return}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);functionref();dd_domreadycheck=true},false)}else{if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){(function(){if(dd_domreadycheck){functionref();return}try{document.documentElement.doScroll("left")}catch(error){setTimeout(arguments.callee,0);return}functionref();dd_domreadycheck=true})()}}}if(document.attachEvent&&parent.length>0){this.addEvent(window,function(){functionref()},"load")}},init:function(mainmenuid,dir,mobile){var desktopmenu=document.getElementById(mainmenuid);var mobilemenu=document.getElementById(mainmenuid+"-mobile");var toggler=document.getElementById(mainmenuid+"-mobiletoggle");if(typeof this.menuclone[mainmenuid]!="object"){this.menuclone[mainmenuid]=desktopmenu.getElementsByTagName("ul")[0].cloneNode(true);var menuclone=this.menuclone[mainmenuid];var alllinks=menuclone.getElementsByTagName("a");for(var i=0;i<alllinks.length;i++){if(alllinks[i].getAttribute("rel")){var dropul=document.getElementById(alllinks[i].getAttribute("rel"));var dropulClone=dropul.cloneNode(true);dropulClone.removeAttribute("id");dropulClone.removeAttribute("class");alllinks[i].parentNode.appendChild(dropulClone)}}this.addEvent(document,function(e){var mobilemenu=document.getElementById(mainmenuid+"-mobile");var toggler=document.getElementById(mainmenuid+"-mobiletoggle");if(mobilemenu){ddlevelsmenu.css(mobilemenu,"open","remove")}if(toggler){toggler.className=toggler.className.replace(/\s*open/g,"")}},"click")}if(mobile){if(!mobilemenu){this.buildmobilemenu(mainmenuid,this.menuclone[mainmenuid],dir)}if(desktopmenu.style.display!="none"){desktopmenu.style.display="none"}if(toggler){toggler.style.display="inline-block"}return}else{desktopmenu.style.display="block";if(mobilemenu){ddlevelsmenu.css(mobilemenu,"open","remove")}if(toggler){toggler.className=toggler.className.replace(/\s*open/g,"");toggler.style.display="none"}if(typeof this.topitems[mainmenuid]=="object"){return}}this.standardbody=(document.compatMode=="CSS1Compat")?document.documentElement:document.body;this.topitemsindex=-1;this.ulindex=-1;this.topmenuids.push(mainmenuid);this.topitems[mainmenuid]=[];this.subuls[mainmenuid]=[];this.hidetimers[mainmenuid]=[];this.enableshim=(this.ismobile)?false:this.enableshim;if(this.enableshim&&!this.shimadded){this.shimmy={};this.shimmy.topshim=this.addshimmy(document.body);this.shimmy.bottomshim=this.addshimmy(document.body);this.shimadded=true}var menubar=document.getElementById(mainmenuid);var alllinks=menubar.getElementsByTagName("a");var shelldivs=[];this.getwindowsize();for(var i=0;i<alllinks.length;i++){if(alllinks[i].getAttribute("rel")){this.topitemsindex++;this.ulindex++;var menuitem=alllinks[i];this.topitems[mainmenuid][this.topitemsindex]=menuitem;var dropul=document.getElementById(menuitem.getAttribute("rel"));var shelldiv=document.createElement("div");shelldiv.className="smnu";dropul.removeAttribute("class");shelldiv.appendChild(dropul);document.body.appendChild(shelldiv);shelldivs.push(shelldiv);shelldiv.style.zIndex=2000;shelldiv._master=mainmenuid;shelldiv._pos=this.topitemsindex;this.addEvent(shelldiv,function(e){e.stopPropagation();e.cancelBubble=true},"touchstart");this.addEvent(shelldiv,function(e){ddlevelsmenu.hidemenu(this)},"click");var arrowclass=(dir=="sidebar")?"rightarrowpointer":"downarrowpointer";var arrowpointer=(dir=="sidebar")?this.arrowpointers.rightarrow:this.arrowpointers.downarrow;if(this.arrowpointers.showarrow.toplevel){this.addpointer(menuitem,arrowclass,arrowpointer,"after")}this.buildmenu(mainmenuid,menuitem,dropul,this.ulindex,true,dir);shelldiv.onmouseover=function(){clearTimeout(ddlevelsmenu.hidetimers[this._master][this._pos])};this.addEvent(shelldiv,function(e){if(!ddlevelsmenu.isContained(this,e)&&!ddlevelsmenu.isContained(ddlevelsmenu.topitems[this._master][parseInt(this._pos)],e)){var dropul=this;if(ddlevelsmenu.enableshim){ddlevelsmenu.hideshim()}ddlevelsmenu.hidetimers[this._master][this._pos]=setTimeout(function(){ddlevelsmenu.hidemenu(dropul)},ddlevelsmenu.hideinterval)}},"mouseout");var subuls=dropul.getElementsByTagName("ul");for(var c=0;c<subuls.length;c++){this.ulindex++;var parentli=subuls[c].parentNode;var subshell=document.createElement("div");subshell.appendChild(subuls[c]);parentli.appendChild(subshell);if(this.arrowpointers.showarrow.sublevel){this.addpointer(parentli.getElementsByTagName("a")[0],"rightarrowpointer",this.arrowpointers.rightarrow,"after")}this.buildmenu(mainmenuid,parentli,subuls[c],this.ulindex,false,dir)}}}this.addEvent(window,function(){ddlevelsmenu.getwindowsize();ddlevelsmenu.gettopitemsdimensions()},"resize");if(this.ismobile){this.addEvent(document,function(e){for(var i=0;i<shelldivs.length;i++){ddlevelsmenu.hidemenu(shelldivs[i])}},"touchstart")}},setup:function(mainmenuid,dir){this.domready(function(){ddlevelsmenu.init(mainmenuid,dir,ddlevelsmenu.mql.matches)});this.mql.addListener(function(){ddlevelsmenu.domready(function(){ddlevelsmenu.init(mainmenuid,dir,ddlevelsmenu.mql.matches)})})}};
////Appending Script  == >jquery.tooltip.js
/*!
 * jquery.tooltip.js 0.0.1 - https://github.com/yckart/jquery.tooltip.js
 * The tooltip to use, ready for mobile!
 *
 * Copyright (c) 2013 Yannick Albert (http://yckart.com)
 * Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php).
 * 2013/02/09
*/
(function($,window,document){var pluginName="tooltip",defaults={fade:false,fallback:"",align:"autoTop",html:false,attr:"title",trigger:{show:"ontouchend" in document?"touchstart":"mouseenter",hide:"ontouchend" in document?"touchend":"mouseleave"},delay:{show:0,hide:0}};function Plugin(el,options){options=$.extend({},defaults,options);var elem=$(el),timeout;elem.on("tooltip:show "+options.trigger.show,function(){$.data(this,"cancel.tooltip",true);var tip=$.data(this,"active.tooltip");if(!tip){tip=$('<div class="tooltip"><div class="tooltip-inner"/></div>').css({position:"absolute",zIndex:100000});$.data(this,"active.tooltip",tip)}if(elem.attr("title")||typeof(elem.attr("original-title"))!=="string"){elem.attr("original-title",elem.attr("title")||"").removeAttr("title")}var title;if(typeof options.attr==="string"){title=elem.attr(options.attr==="title"?"original-title":options.attr)}else{if(typeof options.attr=="function"){title=options.attr.call(this)}}tip.find(".tooltip-inner")[options.html?"html":"text"](title||options.fallback);var pos=$.extend({},elem.offset(),{width:this.offsetWidth,height:this.offsetHeight});if(this.offsetWidth==undefined){pos.width=this.getClientRects()[0].width;pos.height=this.getClientRects()[0].height}tip[0].className="tooltip";tip.remove().css({top:0,left:0,opacity:0}).appendTo(document.body);var actualWidth=tip[0].offsetWidth,actualHeight=tip[0].offsetHeight,dir=options.align==="autoTop"?pos.top>($(document).scrollTop()+$(window).height()/2)?"t":"b":pos.left>($(document).scrollLeft()+$(window).width()/2)?"l":"r";switch(options.align.charAt(0)==="a"?dir:options.align.charAt(0)){case"b":tip.css({top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}).addClass("tooltip-bottom");break;case"t":tip.css({top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}).addClass("tooltip-top");break;case"l":tip.css({top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}).addClass("tooltip-left");break;case"r":tip.css({top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}).addClass("tooltip-right");break}clearTimeout(timeout);tip.stop().delay(options.delay.show).fadeTo(options.fade?options.fade.duration:0,options.fade.opacity||0.8,options.fade.complete)});elem.on("tooltip:hide "+options.trigger.hide,function(){$.data(this,"cancel.tooltip",false);var self=this;timeout=setTimeout(function(){if($.data(self,"cancel.tooltip")){return}var tip=$.data(self,"active.tooltip");if(options.fade){tip.stop().fadeTo(options.fade.duration,0,function(){tip.remove();if(options.fade.complete){options.fade.complete(true)}})}else{tip.remove()}},options.delay.hide)})}$.fn[pluginName]=function(options){return this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new Plugin(this,options))}})}}(jQuery,window,document));
////Appending Script  == >select2.min.js
/*!
 * Select2 4.0.12
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */
;(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{if(typeof module==="object"&&module.exports){module.exports=function(root,jQuery){if(jQuery===undefined){if(typeof window!=="undefined"){jQuery=require("jquery")}else{jQuery=require("jquery")(root)}}factory(jQuery);return jQuery}}else{factory(jQuery)}}}(function(jQuery){var S2=(function(){if(jQuery&&jQuery.fn&&jQuery.fn.select2&&jQuery.fn.select2.amd){var S2=jQuery.fn.select2.amd}var S2;(function(){if(!S2||!S2.requirejs){if(!S2){S2={}}else{require=S2}var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,normalizedBaseParts,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=(map&&map["*"])||{};if(name){name=name.split("/");lastIndex=name.length-1;if(config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])){name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")}if(name[0].charAt(0)==="."&&baseParts){normalizedBaseParts=baseParts.slice(0,baseParts.length-1);name=normalizedBaseParts.concat(name)}for(i=0;i<name.length;i++){part=name[i];if(part==="."){name.splice(i,1);i-=1}else{if(part===".."){if(i===0||(i===1&&name[2]==="..")||name[i-1]===".."){continue}else{if(i>0){name.splice(i-1,2);i-=2}}}}}name=name.join("/")}if((baseParts||starMap)&&map){nameParts=name.split("/");for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join("/")];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break}}}}if(foundMap){break}if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}return name}function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);if(typeof args[0]!=="string"&&args.length===1){args.push(null)}return req.apply(undef,args.concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error("No "+name)}return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}function makeRelParts(relName){return relName?splitPrefix(relName):[]}makeMap=function(name,relParts){var plugin,parts=splitPrefix(name),prefix=parts[0],relResourceName=relParts[1];name=parts[1];if(prefix){prefix=normalize(prefix,relResourceName);plugin=callDep(prefix)}if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relResourceName))}else{name=normalize(name,relResourceName)}}else{name=normalize(name,relResourceName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix)}}return{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}};function makeConfig(name){return function(){return(config&&config.config&&config.config[name])||{}}}handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];if(typeof e!=="undefined"){return e}else{return(defined[name]={})}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,relParts,args=[],callbackType=typeof callback,usingExports;relName=relName||name;relParts=makeRelParts(relName);if(callbackType==="undefined"||callbackType==="function"){deps=!deps.length&&callback.length?["require","exports","module"]:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relParts);depName=map.f;if(depName==="require"){args[i]=handlers.require(name)}else{if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true}else{if(depName==="module"){cjsModule=args[i]=handlers.module(name)}else{if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName)}else{if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName]}else{throw new Error(name+" missing "+depName)}}}}}}ret=callback?callback.apply(defined[name],args):undefined;if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports}else{if(ret!==undef||!usingExports){defined[name]=ret}}}}else{if(name){defined[name]=callback}}};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback)}return callDep(makeMap(deps,makeRelParts(callback)).f)}else{if(!deps.splice){config=deps;if(config.deps){req(config.deps,config.callback)}if(!callback){return}if(callback.splice){deps=callback;callback=relName;relName=null}else{deps=undef}}}callback=callback||function(){};if(typeof relName==="function"){relName=forceSync;forceSync=alt}if(forceSync){main(undef,deps,callback,relName)}else{setTimeout(function(){main(undef,deps,callback,relName)},4)}return req};req.config=function(cfg){return req(cfg)};requirejs._defined=defined;define=function(name,deps,callback){if(typeof name!=="string"){throw new Error("See almond README: incorrect module build, no module name")}if(!deps.splice){callback=deps;deps=[]}if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback]}};define.amd={jQuery:true}}());S2.requirejs=requirejs;S2.require=require;S2.define=define}}());S2.define("almond",function(){});S2.define("jquery",[],function(){var _$=jQuery||$;if(_$==null&&console&&console.error){console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page.")}return _$});S2.define("select2/utils",["jquery"],function($){var Utils={};Utils.Extend=function(ChildClass,SuperClass){var __hasProp={}.hasOwnProperty;function BaseConstructor(){this.constructor=ChildClass}for(var key in SuperClass){if(__hasProp.call(SuperClass,key)){ChildClass[key]=SuperClass[key]}}BaseConstructor.prototype=SuperClass.prototype;ChildClass.prototype=new BaseConstructor();ChildClass.__super__=SuperClass.prototype;return ChildClass};function getMethods(theClass){var proto=theClass.prototype;var methods=[];for(var methodName in proto){var m=proto[methodName];if(typeof m!=="function"){continue}if(methodName==="constructor"){continue}methods.push(methodName)}return methods}Utils.Decorate=function(SuperClass,DecoratorClass){var decoratedMethods=getMethods(DecoratorClass);var superMethods=getMethods(SuperClass);function DecoratedClass(){var unshift=Array.prototype.unshift;var argCount=DecoratorClass.prototype.constructor.length;var calledConstructor=SuperClass.prototype.constructor;if(argCount>0){unshift.call(arguments,SuperClass.prototype.constructor);calledConstructor=DecoratorClass.prototype.constructor}calledConstructor.apply(this,arguments)}DecoratorClass.displayName=SuperClass.displayName;function ctr(){this.constructor=DecoratedClass}DecoratedClass.prototype=new ctr();for(var m=0;m<superMethods.length;m++){var superMethod=superMethods[m];DecoratedClass.prototype[superMethod]=SuperClass.prototype[superMethod]}var calledMethod=function(methodName){var originalMethod=function(){};if(methodName in DecoratedClass.prototype){originalMethod=DecoratedClass.prototype[methodName]}var decoratedMethod=DecoratorClass.prototype[methodName];return function(){var unshift=Array.prototype.unshift;unshift.call(arguments,originalMethod);return decoratedMethod.apply(this,arguments)}};for(var d=0;d<decoratedMethods.length;d++){var decoratedMethod=decoratedMethods[d];DecoratedClass.prototype[decoratedMethod]=calledMethod(decoratedMethod)}return DecoratedClass};var Observable=function(){this.listeners={}};Observable.prototype.on=function(event,callback){this.listeners=this.listeners||{};if(event in this.listeners){this.listeners[event].push(callback)}else{this.listeners[event]=[callback]}};Observable.prototype.trigger=function(event){var slice=Array.prototype.slice;var params=slice.call(arguments,1);this.listeners=this.listeners||{};if(params==null){params=[]}if(params.length===0){params.push({})}params[0]._type=event;if(event in this.listeners){this.invoke(this.listeners[event],slice.call(arguments,1))}if("*" in this.listeners){this.invoke(this.listeners["*"],arguments)}};Observable.prototype.invoke=function(listeners,params){for(var i=0,len=listeners.length;i<len;i++){listeners[i].apply(this,params)}};Utils.Observable=Observable;Utils.generateChars=function(length){var chars="";for(var i=0;i<length;i++){var randomChar=Math.floor(Math.random()*36);chars+=randomChar.toString(36)}return chars};Utils.bind=function(func,context){return function(){func.apply(context,arguments)}};Utils._convertData=function(data){for(var originalKey in data){var keys=originalKey.split("-");var dataLevel=data;if(keys.length===1){continue}for(var k=0;k<keys.length;k++){var key=keys[k];key=key.substring(0,1).toLowerCase()+key.substring(1);if(!(key in dataLevel)){dataLevel[key]={}}if(k==keys.length-1){dataLevel[key]=data[originalKey]}dataLevel=dataLevel[key]}delete data[originalKey]}return data};Utils.hasScroll=function(index,el){var $el=$(el);var overflowX=el.style.overflowX;var overflowY=el.style.overflowY;if(overflowX===overflowY&&(overflowY==="hidden"||overflowY==="visible")){return false}if(overflowX==="scroll"||overflowY==="scroll"){return true}return($el.innerHeight()<el.scrollHeight||$el.innerWidth()<el.scrollWidth)};Utils.escapeMarkup=function(markup){var replaceMap={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};if(typeof markup!=="string"){return markup}return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replaceMap[match]})};Utils.appendMany=function($element,$nodes){if($.fn.jquery.substr(0,3)==="1.7"){var $jqNodes=$();$.map($nodes,function(node){$jqNodes=$jqNodes.add(node)});$nodes=$jqNodes}$element.append($nodes)};Utils.__cache={};var id=0;Utils.GetUniqueElementId=function(element){var select2Id=element.getAttribute("data-select2-id");if(select2Id==null){if(element.id){select2Id=element.id;element.setAttribute("data-select2-id",select2Id)}else{element.setAttribute("data-select2-id",++id);select2Id=id.toString()}}return select2Id};Utils.StoreData=function(element,name,value){var id=Utils.GetUniqueElementId(element);if(!Utils.__cache[id]){Utils.__cache[id]={}}Utils.__cache[id][name]=value};Utils.GetData=function(element,name){var id=Utils.GetUniqueElementId(element);if(name){if(Utils.__cache[id]){if(Utils.__cache[id][name]!=null){return Utils.__cache[id][name]}return $(element).data(name)}return $(element).data(name)}else{return Utils.__cache[id]}};Utils.RemoveData=function(element){var id=Utils.GetUniqueElementId(element);if(Utils.__cache[id]!=null){delete Utils.__cache[id]}element.removeAttribute("data-select2-id")};return Utils});S2.define("select2/results",["jquery","./utils"],function($,Utils){function Results($element,options,dataAdapter){this.$element=$element;this.data=dataAdapter;this.options=options;Results.__super__.constructor.call(this)}Utils.Extend(Results,Utils.Observable);Results.prototype.render=function(){var $results=$('<ul class="select2-results__options" role="listbox"></ul>');if(this.options.get("multiple")){$results.attr("aria-multiselectable","true")}this.$results=$results;return $results};Results.prototype.clear=function(){this.$results.empty()};Results.prototype.displayMessage=function(params){var escapeMarkup=this.options.get("escapeMarkup");this.clear();this.hideLoading();var $message=$('<li role="alert" aria-live="assertive" class="select2-results__option"></li>');var message=this.options.get("translations").get(params.message);$message.append(escapeMarkup(message(params.args)));$message[0].className+=" select2-results__message";this.$results.append($message)};Results.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()};Results.prototype.append=function(data){this.hideLoading();var $options=[];if(data.results==null||data.results.length===0){if(this.$results.children().length===0){this.trigger("results:message",{message:"noResults"})}return}data.results=this.sort(data.results);for(var d=0;d<data.results.length;d++){var item=data.results[d];var $option=this.option(item);$options.push($option)}this.$results.append($options)};Results.prototype.position=function($results,$dropdown){var $resultsContainer=$dropdown.find(".select2-results");$resultsContainer.append($results)};Results.prototype.sort=function(data){var sorter=this.options.get("sorter");return sorter(data)};Results.prototype.highlightFirstItem=function(){var $options=this.$results.find(".select2-results__option[aria-selected]");var $selected=$options.filter("[aria-selected=true]");if($selected.length>0){$selected.first().trigger("mouseenter")}else{$options.first().trigger("mouseenter")}this.ensureHighlightVisible()};Results.prototype.setClasses=function(){var self=this;this.data.current(function(selected){var selectedIds=$.map(selected,function(s){return s.id.toString()});var $options=self.$results.find(".select2-results__option[aria-selected]");$options.each(function(){var $option=$(this);var item=Utils.GetData(this,"data");var id=""+item.id;if((item.element!=null&&item.element.selected)||(item.element==null&&$.inArray(id,selectedIds)>-1)){$option.attr("aria-selected","true")}else{$option.attr("aria-selected","false")}})})};Results.prototype.showLoading=function(params){this.hideLoading();var loadingMore=this.options.get("translations").get("searching");var loading={disabled:true,loading:true,text:loadingMore(params)};var $loading=this.option(loading);$loading.className+=" loading-results";this.$results.prepend($loading)};Results.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()};Results.prototype.option=function(data){var option=document.createElement("li");option.className="select2-results__option";var attrs={role:"option","aria-selected":"false"};var matches=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;if((data.element!=null&&matches.call(data.element,":disabled"))||(data.element==null&&data.disabled)){delete attrs["aria-selected"];attrs["aria-disabled"]="true"}if(data.id==null){delete attrs["aria-selected"]}if(data._resultId!=null){option.id=data._resultId}if(data.title){option.title=data.title}if(data.children){attrs.role="group";attrs["aria-label"]=data.text;delete attrs["aria-selected"]}for(var attr in attrs){var val=attrs[attr];option.setAttribute(attr,val)}if(data.children){var $option=$(option);var label=document.createElement("strong");label.className="select2-results__group";var $label=$(label);this.template(data,label);var $children=[];for(var c=0;c<data.children.length;c++){var child=data.children[c];var $child=this.option(child);$children.push($child)}var $childrenContainer=$("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});$childrenContainer.append($children);$option.append(label);$option.append($childrenContainer)}else{this.template(data,option)}Utils.StoreData(option,"data",data);return option};Results.prototype.bind=function(container,$container){var self=this;var id=container.id+"-results";this.$results.attr("id",id);container.on("results:all",function(params){self.clear();self.append(params.data);if(container.isOpen()){self.setClasses();self.highlightFirstItem()}});container.on("results:append",function(params){self.append(params.data);if(container.isOpen()){self.setClasses()}});container.on("query",function(params){self.hideMessages();self.showLoading(params)});container.on("select",function(){if(!container.isOpen()){return}self.setClasses();if(self.options.get("scrollAfterSelect")){self.highlightFirstItem()}});container.on("unselect",function(){if(!container.isOpen()){return}self.setClasses();if(self.options.get("scrollAfterSelect")){self.highlightFirstItem()}});container.on("open",function(){self.$results.attr("aria-expanded","true");self.$results.attr("aria-hidden","false");self.setClasses();self.ensureHighlightVisible()});container.on("close",function(){self.$results.attr("aria-expanded","false");self.$results.attr("aria-hidden","true");self.$results.removeAttr("aria-activedescendant")});container.on("results:toggle",function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return}$highlighted.trigger("mouseup")});container.on("results:select",function(){var $highlighted=self.getHighlightedResults();if($highlighted.length===0){return}var data=Utils.GetData($highlighted[0],"data");if($highlighted.attr("aria-selected")=="true"){self.trigger("close",{})}else{self.trigger("select",{data:data})}});container.on("results:previous",function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);if(currentIndex<=0){return}var nextIndex=currentIndex-1;if($highlighted.length===0){nextIndex=0}var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top;var nextTop=$next.offset().top;var nextOffset=self.$results.scrollTop()+(nextTop-currentOffset);if(nextIndex===0){self.$results.scrollTop(0)}else{if(nextTop-currentOffset<0){self.$results.scrollTop(nextOffset)}}});container.on("results:next",function(){var $highlighted=self.getHighlightedResults();var $options=self.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);var nextIndex=currentIndex+1;if(nextIndex>=$options.length){return}var $next=$options.eq(nextIndex);$next.trigger("mouseenter");var currentOffset=self.$results.offset().top+self.$results.outerHeight(false);var nextBottom=$next.offset().top+$next.outerHeight(false);var nextOffset=self.$results.scrollTop()+nextBottom-currentOffset;if(nextIndex===0){self.$results.scrollTop(0)}else{if(nextBottom>currentOffset){self.$results.scrollTop(nextOffset)}}});container.on("results:focus",function(params){params.element.addClass("select2-results__option--highlighted")});container.on("results:message",function(params){self.displayMessage(params)});if($.fn.mousewheel){this.$results.on("mousewheel",function(e){var top=self.$results.scrollTop();var bottom=self.$results.get(0).scrollHeight-top+e.deltaY;var isAtTop=e.deltaY>0&&top-e.deltaY<=0;var isAtBottom=e.deltaY<0&&bottom<=self.$results.height();if(isAtTop){self.$results.scrollTop(0);e.preventDefault();e.stopPropagation()}else{if(isAtBottom){self.$results.scrollTop(self.$results.get(0).scrollHeight-self.$results.height());e.preventDefault();e.stopPropagation()}}})}this.$results.on("mouseup",".select2-results__option[aria-selected]",function(evt){var $this=$(this);var data=Utils.GetData(this,"data");if($this.attr("aria-selected")==="true"){if(self.options.get("multiple")){self.trigger("unselect",{originalEvent:evt,data:data})}else{self.trigger("close",{})}return}self.trigger("select",{originalEvent:evt,data:data})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(evt){var data=Utils.GetData(this,"data");self.getHighlightedResults().removeClass("select2-results__option--highlighted");self.trigger("results:focus",{data:data,element:$(this)})})};Results.prototype.getHighlightedResults=function(){var $highlighted=this.$results.find(".select2-results__option--highlighted");return $highlighted};Results.prototype.destroy=function(){this.$results.remove()};Results.prototype.ensureHighlightVisible=function(){var $highlighted=this.getHighlightedResults();if($highlighted.length===0){return}var $options=this.$results.find("[aria-selected]");var currentIndex=$options.index($highlighted);var currentOffset=this.$results.offset().top;var nextTop=$highlighted.offset().top;var nextOffset=this.$results.scrollTop()+(nextTop-currentOffset);var offsetDelta=nextTop-currentOffset;nextOffset-=$highlighted.outerHeight(false)*2;if(currentIndex<=2){this.$results.scrollTop(0)}else{if(offsetDelta>this.$results.outerHeight()||offsetDelta<0){this.$results.scrollTop(nextOffset)}}};Results.prototype.template=function(result,container){var template=this.options.get("templateResult");var escapeMarkup=this.options.get("escapeMarkup");var content=template(result,container);if(content==null){container.style.display="none"}else{if(typeof content==="string"){container.innerHTML=escapeMarkup(content)}else{$(container).append(content)}}};return Results});S2.define("select2/keys",[],function(){var KEYS={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return KEYS});S2.define("select2/selection/base",["jquery","../utils","../keys"],function($,Utils,KEYS){function BaseSelection($element,options){this.$element=$element;this.options=options;BaseSelection.__super__.constructor.call(this)}Utils.Extend(BaseSelection,Utils.Observable);BaseSelection.prototype.render=function(){var $selection=$('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');this._tabindex=0;if(Utils.GetData(this.$element[0],"old-tabindex")!=null){this._tabindex=Utils.GetData(this.$element[0],"old-tabindex")}else{if(this.$element.attr("tabindex")!=null){this._tabindex=this.$element.attr("tabindex")}}$selection.attr("title",this.$element.attr("title"));$selection.attr("tabindex",this._tabindex);$selection.attr("aria-disabled","false");this.$selection=$selection;return $selection};BaseSelection.prototype.bind=function(container,$container){var self=this;var resultsId=container.id+"-results";this.container=container;this.$selection.on("focus",function(evt){self.trigger("focus",evt)});this.$selection.on("blur",function(evt){self._handleBlur(evt)});this.$selection.on("keydown",function(evt){self.trigger("keypress",evt);if(evt.which===KEYS.SPACE){evt.preventDefault()}});container.on("results:focus",function(params){self.$selection.attr("aria-activedescendant",params.data._resultId)});container.on("selection:update",function(params){self.update(params.data)});container.on("open",function(){self.$selection.attr("aria-expanded","true");self.$selection.attr("aria-owns",resultsId);self._attachCloseHandler(container)});container.on("close",function(){self.$selection.attr("aria-expanded","false");self.$selection.removeAttr("aria-activedescendant");self.$selection.removeAttr("aria-owns");self.$selection.trigger("focus");self._detachCloseHandler(container)});container.on("enable",function(){self.$selection.attr("tabindex",self._tabindex);self.$selection.attr("aria-disabled","false")});container.on("disable",function(){self.$selection.attr("tabindex","-1");self.$selection.attr("aria-disabled","true")})};BaseSelection.prototype._handleBlur=function(evt){var self=this;window.setTimeout(function(){if((document.activeElement==self.$selection[0])||($.contains(self.$selection[0],document.activeElement))){return}self.trigger("blur",evt)},1)};BaseSelection.prototype._attachCloseHandler=function(container){$(document.body).on("mousedown.select2."+container.id,function(e){var $target=$(e.target);var $select=$target.closest(".select2");var $all=$(".select2.select2-container--open");$all.each(function(){if(this==$select[0]){return}var $element=Utils.GetData(this,"element");$element.select2("close")})})};BaseSelection.prototype._detachCloseHandler=function(container){$(document.body).off("mousedown.select2."+container.id)};BaseSelection.prototype.position=function($selection,$container){var $selectionContainer=$container.find(".selection");$selectionContainer.append($selection)};BaseSelection.prototype.destroy=function(){this._detachCloseHandler(this.container)};BaseSelection.prototype.update=function(data){throw new Error("The `update` method must be defined in child classes.")};return BaseSelection});S2.define("select2/selection/single",["jquery","./base","../utils","../keys"],function($,BaseSelection,Utils,KEYS){function SingleSelection(){SingleSelection.__super__.constructor.apply(this,arguments)}Utils.Extend(SingleSelection,BaseSelection);SingleSelection.prototype.render=function(){var $selection=SingleSelection.__super__.render.call(this);$selection.addClass("select2-selection--single");$selection.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>');return $selection};SingleSelection.prototype.bind=function(container,$container){var self=this;SingleSelection.__super__.bind.apply(this,arguments);var id=container.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",id).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",id);this.$selection.on("mousedown",function(evt){if(evt.which!==1){return}self.trigger("toggle",{originalEvent:evt})});this.$selection.on("focus",function(evt){});this.$selection.on("blur",function(evt){});container.on("focus",function(evt){if(!container.isOpen()){self.$selection.trigger("focus")}})};SingleSelection.prototype.clear=function(){var $rendered=this.$selection.find(".select2-selection__rendered");$rendered.empty();$rendered.removeAttr("title")};SingleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");var escapeMarkup=this.options.get("escapeMarkup");return escapeMarkup(template(data,container))};SingleSelection.prototype.selectionContainer=function(){return $("<span></span>")};SingleSelection.prototype.update=function(data){if(data.length===0){this.clear();return}var selection=data[0];var $rendered=this.$selection.find(".select2-selection__rendered");var formatted=this.display(selection,$rendered);$rendered.empty().append(formatted);var title=selection.title||selection.text;if(title){$rendered.attr("title",title)}else{$rendered.removeAttr("title")}};return SingleSelection});S2.define("select2/selection/multiple",["jquery","./base","../utils"],function($,BaseSelection,Utils){function MultipleSelection($element,options){MultipleSelection.__super__.constructor.apply(this,arguments)}Utils.Extend(MultipleSelection,BaseSelection);MultipleSelection.prototype.render=function(){var $selection=MultipleSelection.__super__.render.call(this);$selection.addClass("select2-selection--multiple");$selection.html('<ul class="select2-selection__rendered"></ul>');return $selection};MultipleSelection.prototype.bind=function(container,$container){var self=this;MultipleSelection.__super__.bind.apply(this,arguments);this.$selection.on("click",function(evt){self.trigger("toggle",{originalEvent:evt})});this.$selection.on("click",".select2-selection__choice__remove",function(evt){if(self.options.get("disabled")){return}var $remove=$(this);var $selection=$remove.parent();var data=Utils.GetData($selection[0],"data");self.trigger("unselect",{originalEvent:evt,data:data})})};MultipleSelection.prototype.clear=function(){var $rendered=this.$selection.find(".select2-selection__rendered");$rendered.empty();$rendered.removeAttr("title")};MultipleSelection.prototype.display=function(data,container){var template=this.options.get("templateSelection");var escapeMarkup=this.options.get("escapeMarkup");return escapeMarkup(template(data,container))};MultipleSelection.prototype.selectionContainer=function(){var $container=$('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return $container};MultipleSelection.prototype.update=function(data){this.clear();if(data.length===0){return}var $selections=[];for(var d=0;d<data.length;d++){var selection=data[d];var $selection=this.selectionContainer();var formatted=this.display(selection,$selection);$selection.append(formatted);var title=selection.title||selection.text;if(title){$selection.attr("title",title)}Utils.StoreData($selection[0],"data",selection);$selections.push($selection)}var $rendered=this.$selection.find(".select2-selection__rendered");Utils.appendMany($rendered,$selections)};return MultipleSelection});S2.define("select2/selection/placeholder",["../utils"],function(Utils){function Placeholder(decorated,$element,options){this.placeholder=this.normalizePlaceholder(options.get("placeholder"));decorated.call(this,$element,options)}Placeholder.prototype.normalizePlaceholder=function(_,placeholder){if(typeof placeholder==="string"){placeholder={id:"",text:placeholder}}return placeholder};Placeholder.prototype.createPlaceholder=function(decorated,placeholder){var $placeholder=this.selectionContainer();$placeholder.html(this.display(placeholder));$placeholder.addClass("select2-selection__placeholder").removeClass("select2-selection__choice");return $placeholder};Placeholder.prototype.update=function(decorated,data){var singlePlaceholder=(data.length==1&&data[0].id!=this.placeholder.id);var multipleSelections=data.length>1;if(multipleSelections||singlePlaceholder){return decorated.call(this,data)}this.clear();var $placeholder=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append($placeholder)};return Placeholder});S2.define("select2/selection/allowClear",["jquery","../keys","../utils"],function($,KEYS,Utils){function AllowClear(){}AllowClear.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);if(this.placeholder==null){if(this.options.get("debug")&&window.console&&console.error){console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.")}}this.$selection.on("mousedown",".select2-selection__clear",function(evt){self._handleClear(evt)});container.on("keypress",function(evt){self._handleKeyboardClear(evt,container)})};AllowClear.prototype._handleClear=function(_,evt){if(this.options.get("disabled")){return}var $clear=this.$selection.find(".select2-selection__clear");if($clear.length===0){return}evt.stopPropagation();var data=Utils.GetData($clear[0],"data");var previousVal=this.$element.val();this.$element.val(this.placeholder.id);var unselectData={data:data};this.trigger("clear",unselectData);if(unselectData.prevented){this.$element.val(previousVal);return}for(var d=0;d<data.length;d++){unselectData={data:data[d]};this.trigger("unselect",unselectData);if(unselectData.prevented){this.$element.val(previousVal);return}}this.$element.trigger("change");this.trigger("toggle",{})};AllowClear.prototype._handleKeyboardClear=function(_,evt,container){if(container.isOpen()){return}if(evt.which==KEYS.DELETE||evt.which==KEYS.BACKSPACE){this._handleClear(evt)}};AllowClear.prototype.update=function(decorated,data){decorated.call(this,data);if(this.$selection.find(".select2-selection__placeholder").length>0||data.length===0){return}var removeAll=this.options.get("translations").get("removeAllItems");var $remove=$('<span class="select2-selection__clear" title="'+removeAll()+'">&times;</span>');Utils.StoreData($remove[0],"data",data);this.$selection.find(".select2-selection__rendered").prepend($remove)};return AllowClear});S2.define("select2/selection/search",["jquery","../utils","../keys"],function($,Utils,KEYS){function Search(decorated,$element,options){decorated.call(this,$element,options)}Search.prototype.render=function(decorated){var $search=$('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=$search;this.$search=$search.find("input");var $rendered=decorated.call(this);this._transferTabIndex();return $rendered};Search.prototype.bind=function(decorated,container,$container){var self=this;var resultsId=container.id+"-results";decorated.call(this,container,$container);container.on("open",function(){self.$search.attr("aria-controls",resultsId);self.$search.trigger("focus")});container.on("close",function(){self.$search.val("");self.$search.removeAttr("aria-controls");self.$search.removeAttr("aria-activedescendant");self.$search.trigger("focus")});container.on("enable",function(){self.$search.prop("disabled",false);self._transferTabIndex()});container.on("disable",function(){self.$search.prop("disabled",true)});container.on("focus",function(evt){self.$search.trigger("focus")});container.on("results:focus",function(params){if(params.data._resultId){self.$search.attr("aria-activedescendant",params.data._resultId)}else{self.$search.removeAttr("aria-activedescendant")}});this.$selection.on("focusin",".select2-search--inline",function(evt){self.trigger("focus",evt)});this.$selection.on("focusout",".select2-search--inline",function(evt){self._handleBlur(evt)});this.$selection.on("keydown",".select2-search--inline",function(evt){evt.stopPropagation();self.trigger("keypress",evt);self._keyUpPrevented=evt.isDefaultPrevented();var key=evt.which;if(key===KEYS.BACKSPACE&&self.$search.val()===""){var $previousChoice=self.$searchContainer.prev(".select2-selection__choice");if($previousChoice.length>0){var item=Utils.GetData($previousChoice[0],"data");self.searchRemoveChoice(item);evt.preventDefault()}}});this.$selection.on("click",".select2-search--inline",function(evt){if(self.$search.val()){evt.stopPropagation()}});var msie=document.documentMode;var disableInputEvents=msie&&msie<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(evt){if(disableInputEvents){self.$selection.off("input.search input.searchcheck");return}self.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(evt){if(disableInputEvents&&evt.type==="input"){self.$selection.off("input.search input.searchcheck");return}var key=evt.which;if(key==KEYS.SHIFT||key==KEYS.CTRL||key==KEYS.ALT){return}if(key==KEYS.TAB){return}self.handleSearch(evt)})};Search.prototype._transferTabIndex=function(decorated){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")};Search.prototype.createPlaceholder=function(decorated,placeholder){this.$search.attr("placeholder",placeholder.text)};Search.prototype.update=function(decorated,data){var searchHadFocus=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");decorated.call(this,data);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();if(searchHadFocus){this.$search.trigger("focus")}};Search.prototype.handleSearch=function(){this.resizeSearch();if(!this._keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this._keyUpPrevented=false};Search.prototype.searchRemoveChoice=function(decorated,item){this.trigger("unselect",{data:item});this.handleSearch()};Search.prototype.resizeSearch=function(){this.$search.css("width","25px");var width="";if(this.$search.attr("placeholder")!==""){width=this.$selection.find(".select2-selection__rendered").width()}else{var minimumWidth=this.$search.val().length+1;width=(minimumWidth*0.75)+"em"}this.$search.css("width",width)};return Search});S2.define("select2/selection/eventRelay",["jquery"],function($){function EventRelay(){}EventRelay.prototype.bind=function(decorated,container,$container){var self=this;var relayEvents=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"];var preventableEvents=["opening","closing","selecting","unselecting","clearing"];decorated.call(this,container,$container);container.on("*",function(name,params){if($.inArray(name,relayEvents)===-1){return}params=params||{};var evt=$.Event("select2:"+name,{params:params});self.$element.trigger(evt);if($.inArray(name,preventableEvents)===-1){return}params.prevented=evt.isDefaultPrevented()})};return EventRelay});S2.define("select2/translation",["jquery","require"],function($,require){function Translation(dict){this.dict=dict||{}}Translation.prototype.all=function(){return this.dict};Translation.prototype.get=function(key){return this.dict[key]};Translation.prototype.extend=function(translation){this.dict=$.extend({},translation.all(),this.dict)};Translation._cache={};Translation.loadPath=function(path){if(!(path in Translation._cache)){var translations=require(path);Translation._cache[path]=translations}return new Translation(Translation._cache[path])};return Translation});S2.define("select2/diacritics",[],function(){var diacritics={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u0152":"OE","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u0153":"oe","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038A":"\u0399","\u03AA":"\u0399","\u038C":"\u039F","\u038E":"\u03A5","\u03AB":"\u03A5","\u038F":"\u03A9","\u03AC":"\u03B1","\u03AD":"\u03B5","\u03AE":"\u03B7","\u03AF":"\u03B9","\u03CA":"\u03B9","\u0390":"\u03B9","\u03CC":"\u03BF","\u03CD":"\u03C5","\u03CB":"\u03C5","\u03B0":"\u03C5","\u03CE":"\u03C9","\u03C2":"\u03C3","\u2019":"'"};return diacritics});S2.define("select2/data/base",["../utils"],function(Utils){function BaseAdapter($element,options){BaseAdapter.__super__.constructor.call(this)}Utils.Extend(BaseAdapter,Utils.Observable);BaseAdapter.prototype.current=function(callback){throw new Error("The `current` method must be defined in child classes.")};BaseAdapter.prototype.query=function(params,callback){throw new Error("The `query` method must be defined in child classes.")};BaseAdapter.prototype.bind=function(container,$container){};BaseAdapter.prototype.destroy=function(){};BaseAdapter.prototype.generateResultId=function(container,data){var id=container.id+"-result-";id+=Utils.generateChars(4);if(data.id!=null){id+="-"+data.id.toString()}else{id+="-"+Utils.generateChars(4)}return id};return BaseAdapter});S2.define("select2/data/select",["./base","../utils","jquery"],function(BaseAdapter,Utils,$){function SelectAdapter($element,options){this.$element=$element;this.options=options;SelectAdapter.__super__.constructor.call(this)}Utils.Extend(SelectAdapter,BaseAdapter);SelectAdapter.prototype.current=function(callback){var data=[];var self=this;this.$element.find(":selected").each(function(){var $option=$(this);var option=self.item($option);data.push(option)});callback(data)};SelectAdapter.prototype.select=function(data){var self=this;data.selected=true;if($(data.element).is("option")){data.element.selected=true;this.$element.trigger("change");return}if(this.$element.prop("multiple")){this.current(function(currentData){var val=[];data=[data];data.push.apply(data,currentData);for(var d=0;d<data.length;d++){var id=data[d].id;if($.inArray(id,val)===-1){val.push(id)}}self.$element.val(val);self.$element.trigger("change")})}else{var val=data.id;this.$element.val(val);this.$element.trigger("change")}};SelectAdapter.prototype.unselect=function(data){var self=this;if(!this.$element.prop("multiple")){return}data.selected=false;if($(data.element).is("option")){data.element.selected=false;this.$element.trigger("change");return}this.current(function(currentData){var val=[];for(var d=0;d<currentData.length;d++){var id=currentData[d].id;if(id!==data.id&&$.inArray(id,val)===-1){val.push(id)}}self.$element.val(val);self.$element.trigger("change")})};SelectAdapter.prototype.bind=function(container,$container){var self=this;this.container=container;container.on("select",function(params){self.select(params.data)});container.on("unselect",function(params){self.unselect(params.data)})};SelectAdapter.prototype.destroy=function(){this.$element.find("*").each(function(){Utils.RemoveData(this)})};SelectAdapter.prototype.query=function(params,callback){var data=[];var self=this;var $options=this.$element.children();$options.each(function(){var $option=$(this);if(!$option.is("option")&&!$option.is("optgroup")){return}var option=self.item($option);var matches=self.matches(params,option);if(matches!==null){data.push(matches)}});callback({results:data})};SelectAdapter.prototype.addOptions=function($options){Utils.appendMany(this.$element,$options)};SelectAdapter.prototype.option=function(data){var option;if(data.children){option=document.createElement("optgroup");option.label=data.text}else{option=document.createElement("option");if(option.textContent!==undefined){option.textContent=data.text}else{option.innerText=data.text}}if(data.id!==undefined){option.value=data.id}if(data.disabled){option.disabled=true}if(data.selected){option.selected=true}if(data.title){option.title=data.title}var $option=$(option);var normalizedData=this._normalizeItem(data);normalizedData.element=option;Utils.StoreData(option,"data",normalizedData);return $option};SelectAdapter.prototype.item=function($option){var data={};data=Utils.GetData($option[0],"data");if(data!=null){return data}if($option.is("option")){data={id:$option.val(),text:$option.text(),disabled:$option.prop("disabled"),selected:$option.prop("selected"),title:$option.prop("title")}}else{if($option.is("optgroup")){data={text:$option.prop("label"),children:[],title:$option.prop("title")};var $children=$option.children("option");var children=[];for(var c=0;c<$children.length;c++){var $child=$($children[c]);var child=this.item($child);children.push(child)}data.children=children}}data=this._normalizeItem(data);data.element=$option[0];Utils.StoreData($option[0],"data",data);return data};SelectAdapter.prototype._normalizeItem=function(item){if(item!==Object(item)){item={id:item,text:item}}item=$.extend({},{text:""},item);var defaults={selected:false,disabled:false};if(item.id!=null){item.id=item.id.toString()}if(item.text!=null){item.text=item.text.toString()}if(item._resultId==null&&item.id&&this.container!=null){item._resultId=this.generateResultId(this.container,item)}return $.extend({},defaults,item)};SelectAdapter.prototype.matches=function(params,data){var matcher=this.options.get("matcher");return matcher(params,data)};return SelectAdapter});S2.define("select2/data/array",["./select","../utils","jquery"],function(SelectAdapter,Utils,$){function ArrayAdapter($element,options){this._dataToConvert=options.get("data")||[];ArrayAdapter.__super__.constructor.call(this,$element,options)}Utils.Extend(ArrayAdapter,SelectAdapter);ArrayAdapter.prototype.bind=function(container,$container){ArrayAdapter.__super__.bind.call(this,container,$container);this.addOptions(this.convertToOptions(this._dataToConvert))};ArrayAdapter.prototype.select=function(data){var $option=this.$element.find("option").filter(function(i,elm){return elm.value==data.id.toString()});if($option.length===0){$option=this.option(data);this.addOptions($option)}ArrayAdapter.__super__.select.call(this,data)};ArrayAdapter.prototype.convertToOptions=function(data){var self=this;var $existing=this.$element.find("option");var existingIds=$existing.map(function(){return self.item($(this)).id}).get();var $options=[];function onlyItem(item){return function(){return $(this).val()==item.id}}for(var d=0;d<data.length;d++){var item=this._normalizeItem(data[d]);if($.inArray(item.id,existingIds)>=0){var $existingOption=$existing.filter(onlyItem(item));var existingData=this.item($existingOption);var newData=$.extend(true,{},item,existingData);var $newOption=this.option(newData);$existingOption.replaceWith($newOption);continue}var $option=this.option(item);if(item.children){var $children=this.convertToOptions(item.children);Utils.appendMany($option,$children)}$options.push($option)}return $options};return ArrayAdapter});S2.define("select2/data/ajax",["./array","../utils","jquery"],function(ArrayAdapter,Utils,$){function AjaxAdapter($element,options){this.ajaxOptions=this._applyDefaults(options.get("ajax"));if(this.ajaxOptions.processResults!=null){this.processResults=this.ajaxOptions.processResults}AjaxAdapter.__super__.constructor.call(this,$element,options)}Utils.Extend(AjaxAdapter,ArrayAdapter);AjaxAdapter.prototype._applyDefaults=function(options){var defaults={data:function(params){return $.extend({},params,{q:params.term})},transport:function(params,success,failure){var $request=$.ajax(params);$request.then(success);$request.fail(failure);return $request}};return $.extend({},defaults,options,true)};AjaxAdapter.prototype.processResults=function(results){return results};AjaxAdapter.prototype.query=function(params,callback){var matches=[];var self=this;if(this._request!=null){if($.isFunction(this._request.abort)){this._request.abort()}this._request=null}var options=$.extend({type:"GET"},this.ajaxOptions);if(typeof options.url==="function"){options.url=options.url.call(this.$element,params)}if(typeof options.data==="function"){options.data=options.data.call(this.$element,params)}function request(){var $request=options.transport(options,function(data){var results=self.processResults(data,params);if(self.options.get("debug")&&window.console&&console.error){if(!results||!results.results||!$.isArray(results.results)){console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")}}callback(results)},function(){if("status" in $request&&($request.status===0||$request.status==="0")){return}self.trigger("results:message",{message:"errorLoading"})});self._request=$request}if(this.ajaxOptions.delay&&params.term!=null){if(this._queryTimeout){window.clearTimeout(this._queryTimeout)}this._queryTimeout=window.setTimeout(request,this.ajaxOptions.delay)}else{request()}};return AjaxAdapter});S2.define("select2/data/tags",["jquery"],function($){function Tags(decorated,$element,options){var tags=options.get("tags");var createTag=options.get("createTag");if(createTag!==undefined){this.createTag=createTag}var insertTag=options.get("insertTag");if(insertTag!==undefined){this.insertTag=insertTag}decorated.call(this,$element,options);if($.isArray(tags)){for(var t=0;t<tags.length;t++){var tag=tags[t];var item=this._normalizeItem(tag);var $option=this.option(item);this.$element.append($option)}}}Tags.prototype.query=function(decorated,params,callback){var self=this;this._removeOldTags();if(params.term==null||params.page!=null){decorated.call(this,params,callback);return}function wrapper(obj,child){var data=obj.results;for(var i=0;i<data.length;i++){var option=data[i];var checkChildren=(option.children!=null&&!wrapper({results:option.children},true));var optionText=(option.text||"").toUpperCase();var paramsTerm=(params.term||"").toUpperCase();var checkText=optionText===paramsTerm;if(checkText||checkChildren){if(child){return false}obj.data=data;callback(obj);return}}if(child){return true}var tag=self.createTag(params);if(tag!=null){var $option=self.option(tag);$option.attr("data-select2-tag",true);self.addOptions([$option]);self.insertTag(data,tag)}obj.results=data;callback(obj)}decorated.call(this,params,wrapper)};Tags.prototype.createTag=function(decorated,params){var term=$.trim(params.term);if(term===""){return null}return{id:term,text:term}};Tags.prototype.insertTag=function(_,data,tag){data.unshift(tag)};Tags.prototype._removeOldTags=function(_){var $options=this.$element.find("option[data-select2-tag]");$options.each(function(){if(this.selected){return}$(this).remove()})};return Tags});S2.define("select2/data/tokenizer",["jquery"],function($){function Tokenizer(decorated,$element,options){var tokenizer=options.get("tokenizer");if(tokenizer!==undefined){this.tokenizer=tokenizer}decorated.call(this,$element,options)}Tokenizer.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);this.$search=container.dropdown.$search||container.selection.$search||$container.find(".select2-search__field")};Tokenizer.prototype.query=function(decorated,params,callback){var self=this;function createAndSelect(data){var item=self._normalizeItem(data);var $existingOptions=self.$element.find("option").filter(function(){return $(this).val()===item.id});if(!$existingOptions.length){var $option=self.option(item);$option.attr("data-select2-tag",true);self._removeOldTags();self.addOptions([$option])}select(item)}function select(data){self.trigger("select",{data:data})}params.term=params.term||"";var tokenData=this.tokenizer(params,this.options,createAndSelect);if(tokenData.term!==params.term){if(this.$search.length){this.$search.val(tokenData.term);this.$search.trigger("focus")}params.term=tokenData.term}decorated.call(this,params,callback)};Tokenizer.prototype.tokenizer=function(_,params,options,callback){var separators=options.get("tokenSeparators")||[];var term=params.term;var i=0;var createTag=this.createTag||function(params){return{id:params.term,text:params.term}};while(i<term.length){var termChar=term[i];if($.inArray(termChar,separators)===-1){i++;continue}var part=term.substr(0,i);var partParams=$.extend({},params,{term:part});var data=createTag(partParams);if(data==null){i++;continue}callback(data);term=term.substr(i+1)||"";i=0}return{term:term}};return Tokenizer});S2.define("select2/data/minimumInputLength",[],function(){function MinimumInputLength(decorated,$e,options){this.minimumInputLength=options.get("minimumInputLength");decorated.call(this,$e,options)}MinimumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"";if(params.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:params.term,params:params}});return}decorated.call(this,params,callback)};return MinimumInputLength});S2.define("select2/data/maximumInputLength",[],function(){function MaximumInputLength(decorated,$e,options){this.maximumInputLength=options.get("maximumInputLength");decorated.call(this,$e,options)}MaximumInputLength.prototype.query=function(decorated,params,callback){params.term=params.term||"";if(this.maximumInputLength>0&&params.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:params.term,params:params}});return}decorated.call(this,params,callback)};return MaximumInputLength});S2.define("select2/data/maximumSelectionLength",[],function(){function MaximumSelectionLength(decorated,$e,options){this.maximumSelectionLength=options.get("maximumSelectionLength");decorated.call(this,$e,options)}MaximumSelectionLength.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("select",function(){self._checkIfMaximumSelected()})};MaximumSelectionLength.prototype.query=function(decorated,params,callback){var self=this;this._checkIfMaximumSelected(function(){decorated.call(self,params,callback)})};MaximumSelectionLength.prototype._checkIfMaximumSelected=function(_,successCallback){var self=this;this.current(function(currentData){var count=currentData!=null?currentData.length:0;if(self.maximumSelectionLength>0&&count>=self.maximumSelectionLength){self.trigger("results:message",{message:"maximumSelected",args:{maximum:self.maximumSelectionLength}});return}if(successCallback){successCallback()}})};return MaximumSelectionLength});S2.define("select2/dropdown",["jquery","./utils"],function($,Utils){function Dropdown($element,options){this.$element=$element;this.options=options;Dropdown.__super__.constructor.call(this)}Utils.Extend(Dropdown,Utils.Observable);Dropdown.prototype.render=function(){var $dropdown=$('<span class="select2-dropdown"><span class="select2-results"></span></span>');$dropdown.attr("dir",this.options.get("dir"));this.$dropdown=$dropdown;return $dropdown};Dropdown.prototype.bind=function(){};Dropdown.prototype.position=function($dropdown,$container){};Dropdown.prototype.destroy=function(){this.$dropdown.remove()};return Dropdown});S2.define("select2/dropdown/search",["jquery","../utils"],function($,Utils){function Search(){}Search.prototype.render=function(decorated){var $rendered=decorated.call(this);var $search=$('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');this.$searchContainer=$search;this.$search=$search.find("input");$rendered.prepend($search);return $rendered};Search.prototype.bind=function(decorated,container,$container){var self=this;var resultsId=container.id+"-results";decorated.call(this,container,$container);this.$search.on("keydown",function(evt){self.trigger("keypress",evt);self._keyUpPrevented=evt.isDefaultPrevented()});this.$search.on("input",function(evt){$(this).off("keyup")});this.$search.on("keyup input",function(evt){self.handleSearch(evt)});container.on("open",function(){self.$search.attr("tabindex",0);self.$search.attr("aria-controls",resultsId);self.$search.trigger("focus");window.setTimeout(function(){self.$search.trigger("focus")},0)});container.on("close",function(){self.$search.attr("tabindex",-1);self.$search.removeAttr("aria-controls");self.$search.removeAttr("aria-activedescendant");self.$search.val("");self.$search.trigger("blur")});container.on("focus",function(){if(!container.isOpen()){self.$search.trigger("focus")}});container.on("results:all",function(params){if(params.query.term==null||params.query.term===""){var showSearch=self.showSearch(params);if(showSearch){self.$searchContainer.removeClass("select2-search--hide")}else{self.$searchContainer.addClass("select2-search--hide")}}});container.on("results:focus",function(params){if(params.data._resultId){self.$search.attr("aria-activedescendant",params.data._resultId)}else{self.$search.removeAttr("aria-activedescendant")}})};Search.prototype.handleSearch=function(evt){if(!this._keyUpPrevented){var input=this.$search.val();this.trigger("query",{term:input})}this._keyUpPrevented=false};Search.prototype.showSearch=function(_,params){return true};return Search});S2.define("select2/dropdown/hidePlaceholder",[],function(){function HidePlaceholder(decorated,$element,options,dataAdapter){this.placeholder=this.normalizePlaceholder(options.get("placeholder"));decorated.call(this,$element,options,dataAdapter)}HidePlaceholder.prototype.append=function(decorated,data){data.results=this.removePlaceholder(data.results);decorated.call(this,data)};HidePlaceholder.prototype.normalizePlaceholder=function(_,placeholder){if(typeof placeholder==="string"){placeholder={id:"",text:placeholder}}return placeholder};HidePlaceholder.prototype.removePlaceholder=function(_,data){var modifiedData=data.slice(0);for(var d=data.length-1;d>=0;d--){var item=data[d];if(this.placeholder.id===item.id){modifiedData.splice(d,1)}}return modifiedData};return HidePlaceholder});S2.define("select2/dropdown/infiniteScroll",["jquery"],function($){function InfiniteScroll(decorated,$element,options,dataAdapter){this.lastParams={};decorated.call(this,$element,options,dataAdapter);this.$loadingMore=this.createLoadingMore();this.loading=false}InfiniteScroll.prototype.append=function(decorated,data){this.$loadingMore.remove();this.loading=false;decorated.call(this,data);if(this.showLoadingMore(data)){this.$results.append(this.$loadingMore);this.loadMoreIfNeeded()}};InfiniteScroll.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("query",function(params){self.lastParams=params;self.loading=true});container.on("query:append",function(params){self.lastParams=params;self.loading=true});this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))};InfiniteScroll.prototype.loadMoreIfNeeded=function(){var isLoadMoreVisible=$.contains(document.documentElement,this.$loadingMore[0]);if(this.loading||!isLoadMoreVisible){return}var currentOffset=this.$results.offset().top+this.$results.outerHeight(false);var loadingMoreOffset=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(false);if(currentOffset+50>=loadingMoreOffset){this.loadMore()}};InfiniteScroll.prototype.loadMore=function(){this.loading=true;var params=$.extend({},{page:1},this.lastParams);params.page++;this.trigger("query:append",params)};InfiniteScroll.prototype.showLoadingMore=function(_,data){return data.pagination&&data.pagination.more};InfiniteScroll.prototype.createLoadingMore=function(){var $option=$('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>');var message=this.options.get("translations").get("loadingMore");$option.html(message(this.lastParams));return $option};return InfiniteScroll});S2.define("select2/dropdown/attachBody",["jquery","../utils"],function($,Utils){function AttachBody(decorated,$element,options){this.$dropdownParent=$(options.get("dropdownParent")||document.body);decorated.call(this,$element,options)}AttachBody.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("open",function(){self._showDropdown();self._attachPositioningHandler(container);self._bindContainerResultHandlers(container)});container.on("close",function(){self._hideDropdown();self._detachPositioningHandler(container)});this.$dropdownContainer.on("mousedown",function(evt){evt.stopPropagation()})};AttachBody.prototype.destroy=function(decorated){decorated.call(this);this.$dropdownContainer.remove()};AttachBody.prototype.position=function(decorated,$dropdown,$container){$dropdown.attr("class",$container.attr("class"));$dropdown.removeClass("select2");$dropdown.addClass("select2-container--open");$dropdown.css({position:"absolute",top:-999999});this.$container=$container};AttachBody.prototype.render=function(decorated){var $container=$("<span></span>");var $dropdown=decorated.call(this);$container.append($dropdown);this.$dropdownContainer=$container;return $container};AttachBody.prototype._hideDropdown=function(decorated){this.$dropdownContainer.detach()};AttachBody.prototype._bindContainerResultHandlers=function(decorated,container){if(this._containerResultsHandlersBound){return}var self=this;container.on("results:all",function(){self._positionDropdown();self._resizeDropdown()});container.on("results:append",function(){self._positionDropdown();self._resizeDropdown()});container.on("results:message",function(){self._positionDropdown();self._resizeDropdown()});container.on("select",function(){self._positionDropdown();self._resizeDropdown()});container.on("unselect",function(){self._positionDropdown();self._resizeDropdown()});this._containerResultsHandlersBound=true};AttachBody.prototype._attachPositioningHandler=function(decorated,container){var self=this;var scrollEvent="scroll.select2."+container.id;var resizeEvent="resize.select2."+container.id;var orientationEvent="orientationchange.select2."+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.each(function(){Utils.StoreData(this,"select2-scroll-position",{x:$(this).scrollLeft(),y:$(this).scrollTop()})});$watchers.on(scrollEvent,function(ev){var position=Utils.GetData(this,"select2-scroll-position");$(this).scrollTop(position.y)});$(window).on(scrollEvent+" "+resizeEvent+" "+orientationEvent,function(e){self._positionDropdown();self._resizeDropdown()})};AttachBody.prototype._detachPositioningHandler=function(decorated,container){var scrollEvent="scroll.select2."+container.id;var resizeEvent="resize.select2."+container.id;var orientationEvent="orientationchange.select2."+container.id;var $watchers=this.$container.parents().filter(Utils.hasScroll);$watchers.off(scrollEvent);$(window).off(scrollEvent+" "+resizeEvent+" "+orientationEvent)};AttachBody.prototype._positionDropdown=function(){var $window=$(window);var isCurrentlyAbove=this.$dropdown.hasClass("select2-dropdown--above");var isCurrentlyBelow=this.$dropdown.hasClass("select2-dropdown--below");var newDirection=null;var offset=this.$container.offset();offset.bottom=offset.top+this.$container.outerHeight(false);var container={height:this.$container.outerHeight(false)};container.top=offset.top;container.bottom=offset.top+container.height;var dropdown={height:this.$dropdown.outerHeight(false)};var viewport={top:$window.scrollTop(),bottom:$window.scrollTop()+$window.height()};var enoughRoomAbove=viewport.top<(offset.top-dropdown.height);var enoughRoomBelow=viewport.bottom>(offset.bottom+dropdown.height);var css={left:offset.left,top:container.bottom};var $offsetParent=this.$dropdownParent;if($offsetParent.css("position")==="static"){$offsetParent=$offsetParent.offsetParent()}var parentOffset={top:0,left:0};if($.contains(document.body,$offsetParent[0])||$offsetParent[0].isConnected){parentOffset=$offsetParent.offset()}css.top-=parentOffset.top;css.left-=parentOffset.left;if(!isCurrentlyAbove&&!isCurrentlyBelow){newDirection="below"}if(!enoughRoomBelow&&enoughRoomAbove&&!isCurrentlyAbove){newDirection="above"}else{if(!enoughRoomAbove&&enoughRoomBelow&&isCurrentlyAbove){newDirection="below"}}if(newDirection=="above"||(isCurrentlyAbove&&newDirection!=="below")){css.top=container.top-parentOffset.top-dropdown.height}if(newDirection!=null){this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+newDirection);this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+newDirection)}this.$dropdownContainer.css(css)};AttachBody.prototype._resizeDropdown=function(){var css={width:this.$container.outerWidth(false)+"px"};if(this.options.get("dropdownAutoWidth")){css.minWidth=css.width;css.position="relative";css.width="auto"}this.$dropdown.css(css)};AttachBody.prototype._showDropdown=function(decorated){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()};return AttachBody});S2.define("select2/dropdown/minimumResultsForSearch",[],function(){function countResults(data){var count=0;for(var d=0;d<data.length;d++){var item=data[d];if(item.children){count+=countResults(item.children)}else{count++}}return count}function MinimumResultsForSearch(decorated,$element,options,dataAdapter){this.minimumResultsForSearch=options.get("minimumResultsForSearch");if(this.minimumResultsForSearch<0){this.minimumResultsForSearch=Infinity}decorated.call(this,$element,options,dataAdapter)}MinimumResultsForSearch.prototype.showSearch=function(decorated,params){if(countResults(params.data.results)<this.minimumResultsForSearch){return false}return decorated.call(this,params)};return MinimumResultsForSearch});S2.define("select2/dropdown/selectOnClose",["../utils"],function(Utils){function SelectOnClose(){}SelectOnClose.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("close",function(params){self._handleSelectOnClose(params)})};SelectOnClose.prototype._handleSelectOnClose=function(_,params){if(params&&params.originalSelect2Event!=null){var event=params.originalSelect2Event;if(event._type==="select"||event._type==="unselect"){return}}var $highlightedResults=this.getHighlightedResults();if($highlightedResults.length<1){return}var data=Utils.GetData($highlightedResults[0],"data");if((data.element!=null&&data.element.selected)||(data.element==null&&data.selected)){return}this.trigger("select",{data:data})};return SelectOnClose});S2.define("select2/dropdown/closeOnSelect",[],function(){function CloseOnSelect(){}CloseOnSelect.prototype.bind=function(decorated,container,$container){var self=this;decorated.call(this,container,$container);container.on("select",function(evt){self._selectTriggered(evt)});container.on("unselect",function(evt){self._selectTriggered(evt)})};CloseOnSelect.prototype._selectTriggered=function(_,evt){var originalEvent=evt.originalEvent;if(originalEvent&&(originalEvent.ctrlKey||originalEvent.metaKey)){return}this.trigger("close",{originalEvent:originalEvent,originalSelect2Event:evt})};return CloseOnSelect});S2.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(args){var overChars=args.input.length-args.maximum;var message="Please delete "+overChars+" character";if(overChars!=1){message+="s"}return message},inputTooShort:function(args){var remainingChars=args.minimum-args.input.length;var message="Please enter "+remainingChars+" or more characters";return message},loadingMore:function(){return"Loading more resultsâ¦"},maximumSelected:function(args){var message="You can only select "+args.maximum+" item";if(args.maximum!=1){message+="s"}return message},noResults:function(){return"No results found"},searching:function(){return"Searchingâ¦"},removeAllItems:function(){return"Remove all items"}}});S2.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function($,require,ResultsList,SingleSelection,MultipleSelection,Placeholder,AllowClear,SelectionSearch,EventRelay,Utils,Translation,DIACRITICS,SelectData,ArrayData,AjaxData,Tags,Tokenizer,MinimumInputLength,MaximumInputLength,MaximumSelectionLength,Dropdown,DropdownSearch,HidePlaceholder,InfiniteScroll,AttachBody,MinimumResultsForSearch,SelectOnClose,CloseOnSelect,EnglishTranslation){function Defaults(){this.reset()}Defaults.prototype.apply=function(options){options=$.extend(true,{},this.defaults,options);if(options.dataAdapter==null){if(options.ajax!=null){options.dataAdapter=AjaxData}else{if(options.data!=null){options.dataAdapter=ArrayData}else{options.dataAdapter=SelectData}}if(options.minimumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MinimumInputLength)}if(options.maximumInputLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumInputLength)}if(options.maximumSelectionLength>0){options.dataAdapter=Utils.Decorate(options.dataAdapter,MaximumSelectionLength)}if(options.tags){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tags)}if(options.tokenSeparators!=null||options.tokenizer!=null){options.dataAdapter=Utils.Decorate(options.dataAdapter,Tokenizer)}if(options.query!=null){var Query=require(options.amdBase+"compat/query");options.dataAdapter=Utils.Decorate(options.dataAdapter,Query)}if(options.initSelection!=null){var InitSelection=require(options.amdBase+"compat/initSelection");options.dataAdapter=Utils.Decorate(options.dataAdapter,InitSelection)}}if(options.resultsAdapter==null){options.resultsAdapter=ResultsList;if(options.ajax!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,InfiniteScroll)}if(options.placeholder!=null){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,HidePlaceholder)}if(options.selectOnClose){options.resultsAdapter=Utils.Decorate(options.resultsAdapter,SelectOnClose)}}if(options.dropdownAdapter==null){if(options.multiple){options.dropdownAdapter=Dropdown}else{var SearchableDropdown=Utils.Decorate(Dropdown,DropdownSearch);options.dropdownAdapter=SearchableDropdown}if(options.minimumResultsForSearch!==0){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,MinimumResultsForSearch)}if(options.closeOnSelect){options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,CloseOnSelect)}if(options.dropdownCssClass!=null||options.dropdownCss!=null||options.adaptDropdownCssClass!=null){var DropdownCSS=require(options.amdBase+"compat/dropdownCss");options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,DropdownCSS)}options.dropdownAdapter=Utils.Decorate(options.dropdownAdapter,AttachBody)}if(options.selectionAdapter==null){if(options.multiple){options.selectionAdapter=MultipleSelection}else{options.selectionAdapter=SingleSelection}if(options.placeholder!=null){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,Placeholder)}if(options.allowClear){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,AllowClear)}if(options.multiple){options.selectionAdapter=Utils.Decorate(options.selectionAdapter,SelectionSearch)}if(options.containerCssClass!=null||options.containerCss!=null||options.adaptContainerCssClass!=null){var ContainerCSS=require(options.amdBase+"compat/containerCss");options.selectionAdapter=Utils.Decorate(options.selectionAdapter,ContainerCSS)}options.selectionAdapter=Utils.Decorate(options.selectionAdapter,EventRelay)}options.language=this._resolveLanguage(options.language);options.language.push("en");var uniqueLanguages=[];for(var l=0;l<options.language.length;l++){var language=options.language[l];if(uniqueLanguages.indexOf(language)===-1){uniqueLanguages.push(language)}}options.language=uniqueLanguages;options.translations=this._processTranslations(options.language,options.debug);return options};Defaults.prototype.reset=function(){function stripDiacritics(text){function match(a){return DIACRITICS[a]||a}return text.replace(/[^\u0000-\u007E]/g,match)}function matcher(params,data){if($.trim(params.term)===""){return data}if(data.children&&data.children.length>0){var match=$.extend(true,{},data);for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var matches=matcher(params,child);if(matches==null){match.children.splice(c,1)}}if(match.children.length>0){return match}return matcher(params,match)}var original=stripDiacritics(data.text).toUpperCase();var term=stripDiacritics(params.term).toUpperCase();if(original.indexOf(term)>-1){return data}return null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:true,debug:false,dropdownAutoWidth:false,escapeMarkup:Utils.escapeMarkup,language:{},matcher:matcher,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:false,scrollAfterSelect:false,sorter:function(data){return data},templateResult:function(result){return result.text},templateSelection:function(selection){return selection.text},theme:"default",width:"resolve"}};Defaults.prototype.applyFromElement=function(options,$element){var optionLanguage=options.language;var defaultLanguage=this.defaults.language;var elementLanguage=$element.prop("lang");var parentLanguage=$element.closest("[lang]").prop("lang");var languages=Array.prototype.concat.call(this._resolveLanguage(elementLanguage),this._resolveLanguage(optionLanguage),this._resolveLanguage(defaultLanguage),this._resolveLanguage(parentLanguage));options.language=languages;return options};Defaults.prototype._resolveLanguage=function(language){if(!language){return[]}if($.isEmptyObject(language)){return[]}if($.isPlainObject(language)){return[language]}var languages;if(!$.isArray(language)){languages=[language]}else{languages=language}var resolvedLanguages=[];for(var l=0;l<languages.length;l++){resolvedLanguages.push(languages[l]);if(typeof languages[l]==="string"&&languages[l].indexOf("-")>0){var languageParts=languages[l].split("-");var baseLanguage=languageParts[0];resolvedLanguages.push(baseLanguage)}}return resolvedLanguages};Defaults.prototype._processTranslations=function(languages,debug){var translations=new Translation();for(var l=0;l<languages.length;l++){var languageData=new Translation();var language=languages[l];if(typeof language==="string"){try{languageData=Translation.loadPath(language)}catch(e){try{language=this.defaults.amdLanguageBase+language;languageData=Translation.loadPath(language)}catch(ex){if(debug&&window.console&&console.warn){console.warn('Select2: The language file for "'+language+'" could not be automatically loaded. A fallback will be used instead.')}}}}else{if($.isPlainObject(language)){languageData=new Translation(language)}else{languageData=language}}translations.extend(languageData)}return translations};Defaults.prototype.set=function(key,value){var camelKey=$.camelCase(key);var data={};data[camelKey]=value;var convertedData=Utils._convertData(data);$.extend(true,this.defaults,convertedData)};var defaults=new Defaults();return defaults});S2.define("select2/options",["require","jquery","./defaults","./utils"],function(require,$,Defaults,Utils){function Options(options,$element){this.options=options;if($element!=null){this.fromElement($element)}if($element!=null){this.options=Defaults.applyFromElement(this.options,$element)}this.options=Defaults.apply(this.options);if($element&&$element.is("input")){var InputCompat=require(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=Utils.Decorate(this.options.dataAdapter,InputCompat)}}Options.prototype.fromElement=function($e){var excludedData=["select2"];if(this.options.multiple==null){this.options.multiple=$e.prop("multiple")}if(this.options.disabled==null){this.options.disabled=$e.prop("disabled")}if(this.options.dir==null){if($e.prop("dir")){this.options.dir=$e.prop("dir")}else{if($e.closest("[dir]").prop("dir")){this.options.dir=$e.closest("[dir]").prop("dir")}else{this.options.dir="ltr"}}}$e.prop("disabled",this.options.disabled);$e.prop("multiple",this.options.multiple);if(Utils.GetData($e[0],"select2Tags")){if(this.options.debug&&window.console&&console.warn){console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.')}Utils.StoreData($e[0],"data",Utils.GetData($e[0],"select2Tags"));Utils.StoreData($e[0],"tags",true)}if(Utils.GetData($e[0],"ajaxUrl")){if(this.options.debug&&window.console&&console.warn){console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2.")}$e.attr("ajax--url",Utils.GetData($e[0],"ajaxUrl"));Utils.StoreData($e[0],"ajax-Url",Utils.GetData($e[0],"ajaxUrl"))}var dataset={};function upperCaseLetter(_,letter){return letter.toUpperCase()}for(var attr=0;attr<$e[0].attributes.length;attr++){var attributeName=$e[0].attributes[attr].name;var prefix="data-";if(attributeName.substr(0,prefix.length)==prefix){var dataName=attributeName.substring(prefix.length);var dataValue=Utils.GetData($e[0],dataName);var camelDataName=dataName.replace(/-([a-z])/g,upperCaseLetter);dataset[camelDataName]=dataValue}}if($.fn.jquery&&$.fn.jquery.substr(0,2)=="1."&&$e[0].dataset){dataset=$.extend(true,{},$e[0].dataset,dataset)}var data=$.extend(true,{},Utils.GetData($e[0]),dataset);data=Utils._convertData(data);for(var key in data){if($.inArray(key,excludedData)>-1){continue}if($.isPlainObject(this.options[key])){$.extend(this.options[key],data[key])}else{this.options[key]=data[key]}}return this};Options.prototype.get=function(key){return this.options[key]};Options.prototype.set=function(key,val){this.options[key]=val};return Options});S2.define("select2/core",["jquery","./options","./utils","./keys"],function($,Options,Utils,KEYS){var Select2=function($element,options){if(Utils.GetData($element[0],"select2")!=null){Utils.GetData($element[0],"select2").destroy()}this.$element=$element;this.id=this._generateId($element);options=options||{};this.options=new Options(options,$element);Select2.__super__.constructor.call(this);var tabindex=$element.attr("tabindex")||0;Utils.StoreData($element[0],"old-tabindex",tabindex);$element.attr("tabindex","-1");var DataAdapter=this.options.get("dataAdapter");this.dataAdapter=new DataAdapter($element,this.options);var $container=this.render();this._placeContainer($container);var SelectionAdapter=this.options.get("selectionAdapter");this.selection=new SelectionAdapter($element,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,$container);var DropdownAdapter=this.options.get("dropdownAdapter");this.dropdown=new DropdownAdapter($element,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,$container);var ResultsAdapter=this.options.get("resultsAdapter");this.results=new ResultsAdapter($element,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);var self=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(initialData){self.trigger("selection:update",{data:initialData})});$element.addClass("select2-hidden-accessible");$element.attr("aria-hidden","true");this._syncAttributes();Utils.StoreData($element[0],"select2",this);$element.data("select2",this)};Utils.Extend(Select2,Utils.Observable);Select2.prototype._generateId=function($element){var id="";if($element.attr("id")!=null){id=$element.attr("id")}else{if($element.attr("name")!=null){id=$element.attr("name")+"-"+Utils.generateChars(2)}else{id=Utils.generateChars(4)}}id=id.replace(/(:|\.|\[|\]|,)/g,"");id="select2-"+id;return id};Select2.prototype._placeContainer=function($container){$container.insertAfter(this.$element);var width=this._resolveWidth(this.$element,this.options.get("width"));if(width!=null){$container.css("width",width)}};Select2.prototype._resolveWidth=function($element,method){var WIDTH=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if(method=="resolve"){var styleWidth=this._resolveWidth($element,"style");if(styleWidth!=null){return styleWidth}return this._resolveWidth($element,"element")}if(method=="element"){var elementWidth=$element.outerWidth(false);if(elementWidth<=0){return"auto"}return elementWidth+"px"}if(method=="style"){var style=$element.attr("style");if(typeof(style)!=="string"){return null}var attrs=style.split(";");for(var i=0,l=attrs.length;i<l;i=i+1){var attr=attrs[i].replace(/\s/g,"");var matches=attr.match(WIDTH);if(matches!==null&&matches.length>=1){return matches[1]}}return null}if(method=="computedstyle"){var computedStyle=window.getComputedStyle($element[0]);return computedStyle.width}return method};Select2.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)};Select2.prototype._registerDomEvents=function(){var self=this;this.$element.on("change.select2",function(){self.dataAdapter.current(function(data){self.trigger("selection:update",{data:data})})});this.$element.on("focus.select2",function(evt){self.trigger("focus",evt)});this._syncA=Utils.bind(this._syncAttributes,this);this._syncS=Utils.bind(this._syncSubtree,this);if(this.$element[0].attachEvent){this.$element[0].attachEvent("onpropertychange",this._syncA)}var observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(observer!=null){this._observer=new observer(function(mutations){$.each(mutations,self._syncA);$.each(mutations,self._syncS)});this._observer.observe(this.$element[0],{attributes:true,childList:true,subtree:false})}else{if(this.$element[0].addEventListener){this.$element[0].addEventListener("DOMAttrModified",self._syncA,false);this.$element[0].addEventListener("DOMNodeInserted",self._syncS,false);this.$element[0].addEventListener("DOMNodeRemoved",self._syncS,false)}}};Select2.prototype._registerDataEvents=function(){var self=this;this.dataAdapter.on("*",function(name,params){self.trigger(name,params)})};Select2.prototype._registerSelectionEvents=function(){var self=this;var nonRelayEvents=["toggle","focus"];this.selection.on("toggle",function(){self.toggleDropdown()});this.selection.on("focus",function(params){self.focus(params)});this.selection.on("*",function(name,params){if($.inArray(name,nonRelayEvents)!==-1){return}self.trigger(name,params)})};Select2.prototype._registerDropdownEvents=function(){var self=this;this.dropdown.on("*",function(name,params){self.trigger(name,params)})};Select2.prototype._registerResultsEvents=function(){var self=this;this.results.on("*",function(name,params){self.trigger(name,params)})};Select2.prototype._registerEvents=function(){var self=this;this.on("open",function(){self.$container.addClass("select2-container--open")});this.on("close",function(){self.$container.removeClass("select2-container--open")});this.on("enable",function(){self.$container.removeClass("select2-container--disabled")});this.on("disable",function(){self.$container.addClass("select2-container--disabled")});this.on("blur",function(){self.$container.removeClass("select2-container--focus")});this.on("query",function(params){if(!self.isOpen()){self.trigger("open",{})}this.dataAdapter.query(params,function(data){self.trigger("results:all",{data:data,query:params})})});this.on("query:append",function(params){this.dataAdapter.query(params,function(data){self.trigger("results:append",{data:data,query:params})})});this.on("keypress",function(evt){var key=evt.which;if(self.isOpen()){if(key===KEYS.ESC||key===KEYS.TAB||(key===KEYS.UP&&evt.altKey)){self.close();evt.preventDefault()}else{if(key===KEYS.ENTER){self.trigger("results:select",{});evt.preventDefault()}else{if((key===KEYS.SPACE&&evt.ctrlKey)){self.trigger("results:toggle",{});evt.preventDefault()}else{if(key===KEYS.UP){self.trigger("results:previous",{});evt.preventDefault()}else{if(key===KEYS.DOWN){self.trigger("results:next",{});evt.preventDefault()}}}}}}else{if(key===KEYS.ENTER||key===KEYS.SPACE||(key===KEYS.DOWN&&evt.altKey)){self.open();evt.preventDefault()}}})};Select2.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));if(this.options.get("disabled")){if(this.isOpen()){this.close()}this.trigger("disable",{})}else{this.trigger("enable",{})}};Select2.prototype._syncSubtree=function(evt,mutations){var changed=false;var self=this;if(evt&&evt.target&&(evt.target.nodeName!=="OPTION"&&evt.target.nodeName!=="OPTGROUP")){return}if(!mutations){changed=true}else{if(mutations.addedNodes&&mutations.addedNodes.length>0){for(var n=0;n<mutations.addedNodes.length;n++){var node=mutations.addedNodes[n];if(node.selected){changed=true}}}else{if(mutations.removedNodes&&mutations.removedNodes.length>0){changed=true}}}if(changed){this.dataAdapter.current(function(currentData){self.trigger("selection:update",{data:currentData})})}};Select2.prototype.trigger=function(name,args){var actualTrigger=Select2.__super__.trigger;var preTriggerMap={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(args===undefined){args={}}if(name in preTriggerMap){var preTriggerName=preTriggerMap[name];var preTriggerArgs={prevented:false,name:name,args:args};actualTrigger.call(this,preTriggerName,preTriggerArgs);if(preTriggerArgs.prevented){args.prevented=true;return}}actualTrigger.call(this,name,args)};Select2.prototype.toggleDropdown=function(){if(this.options.get("disabled")){return}if(this.isOpen()){this.close()}else{this.open()}};Select2.prototype.open=function(){if(this.isOpen()){return}this.trigger("query",{})};Select2.prototype.close=function(){if(!this.isOpen()){return}this.trigger("close",{})};Select2.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")};Select2.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")};Select2.prototype.focus=function(data){if(this.hasFocus()){return}this.$container.addClass("select2-container--focus");this.trigger("focus",{})};Select2.prototype.enable=function(args){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.')}if(args==null||args.length===0){args=[true]}var disabled=!args[0];this.$element.prop("disabled",disabled)};Select2.prototype.data=function(){if(this.options.get("debug")&&arguments.length>0&&window.console&&console.warn){console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.')}var data=[];this.dataAdapter.current(function(currentData){data=currentData});return data};Select2.prototype.val=function(args){if(this.options.get("debug")&&window.console&&console.warn){console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.')}if(args==null||args.length===0){return this.$element.val()}var newVal=args[0];if($.isArray(newVal)){newVal=$.map(newVal,function(obj){return obj.toString()})}this.$element.val(newVal).trigger("change")};Select2.prototype.destroy=function(){this.$container.remove();if(this.$element[0].detachEvent){this.$element[0].detachEvent("onpropertychange",this._syncA)}if(this._observer!=null){this._observer.disconnect();this._observer=null}else{if(this.$element[0].removeEventListener){this.$element[0].removeEventListener("DOMAttrModified",this._syncA,false);this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,false);this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,false)}}this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",Utils.GetData(this.$element[0],"old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");Utils.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null};Select2.prototype.render=function(){var $container=$('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');$container.attr("dir",this.options.get("dir"));this.$container=$container;this.$container.addClass("select2-container--"+this.options.get("theme"));Utils.StoreData($container[0],"element",this.$element);return $container};return Select2});S2.define("select2/compat/utils",["jquery"],function($){function syncCssClasses($dest,$src,adapter){var classes,replacements=[],adapted;classes=$.trim($dest.attr("class"));if(classes){classes=""+classes;$(classes.split(/\s+/)).each(function(){if(this.indexOf("select2-")===0){replacements.push(this)}})}classes=$.trim($src.attr("class"));if(classes){classes=""+classes;$(classes.split(/\s+/)).each(function(){if(this.indexOf("select2-")!==0){adapted=adapter(this);if(adapted!=null){replacements.push(adapted)}}})}$dest.attr("class",replacements.join(" "))}return{syncCssClasses:syncCssClasses}});S2.define("select2/compat/containerCss",["jquery","./utils"],function($,CompatUtils){function _containerAdapter(clazz){return null}function ContainerCSS(){}ContainerCSS.prototype.render=function(decorated){var $container=decorated.call(this);var containerCssClass=this.options.get("containerCssClass")||"";if($.isFunction(containerCssClass)){containerCssClass=containerCssClass(this.$element)}var containerCssAdapter=this.options.get("adaptContainerCssClass");containerCssAdapter=containerCssAdapter||_containerAdapter;if(containerCssClass.indexOf(":all:")!==-1){containerCssClass=containerCssClass.replace(":all:","");var _cssAdapter=containerCssAdapter;containerCssAdapter=function(clazz){var adapted=_cssAdapter(clazz);if(adapted!=null){return adapted+" "+clazz}return clazz}}var containerCss=this.options.get("containerCss")||{};if($.isFunction(containerCss)){containerCss=containerCss(this.$element)}CompatUtils.syncCssClasses($container,this.$element,containerCssAdapter);$container.css(containerCss);$container.addClass(containerCssClass);return $container};return ContainerCSS});S2.define("select2/compat/dropdownCss",["jquery","./utils"],function($,CompatUtils){function _dropdownAdapter(clazz){return null}function DropdownCSS(){}DropdownCSS.prototype.render=function(decorated){var $dropdown=decorated.call(this);var dropdownCssClass=this.options.get("dropdownCssClass")||"";if($.isFunction(dropdownCssClass)){dropdownCssClass=dropdownCssClass(this.$element)}var dropdownCssAdapter=this.options.get("adaptDropdownCssClass");dropdownCssAdapter=dropdownCssAdapter||_dropdownAdapter;if(dropdownCssClass.indexOf(":all:")!==-1){dropdownCssClass=dropdownCssClass.replace(":all:","");var _cssAdapter=dropdownCssAdapter;dropdownCssAdapter=function(clazz){var adapted=_cssAdapter(clazz);if(adapted!=null){return adapted+" "+clazz}return clazz}}var dropdownCss=this.options.get("dropdownCss")||{};if($.isFunction(dropdownCss)){dropdownCss=dropdownCss(this.$element)}CompatUtils.syncCssClasses($dropdown,this.$element,dropdownCssAdapter);$dropdown.css(dropdownCss);$dropdown.addClass(dropdownCssClass);return $dropdown};return DropdownCSS});S2.define("select2/compat/initSelection",["jquery"],function($){function InitSelection(decorated,$element,options){if(options.get("debug")&&window.console&&console.warn){console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2")}this.initSelection=options.get("initSelection");this._isInitialized=false;decorated.call(this,$element,options)}InitSelection.prototype.current=function(decorated,callback){var self=this;if(this._isInitialized){decorated.call(this,callback);return}this.initSelection.call(null,this.$element,function(data){self._isInitialized=true;if(!$.isArray(data)){data=[data]}callback(data)})};return InitSelection});S2.define("select2/compat/inputData",["jquery","../utils"],function($,Utils){function InputData(decorated,$element,options){this._currentData=[];this._valueSeparator=options.get("valueSeparator")||",";if($element.prop("type")==="hidden"){if(options.get("debug")&&console&&console.warn){console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.")}}decorated.call(this,$element,options)}InputData.prototype.current=function(_,callback){function getSelected(data,selectedIds){var selected=[];if(data.selected||$.inArray(data.id,selectedIds)!==-1){data.selected=true;selected.push(data)}else{data.selected=false}if(data.children){selected.push.apply(selected,getSelected(data.children,selectedIds))}return selected}var selected=[];for(var d=0;d<this._currentData.length;d++){var data=this._currentData[d];selected.push.apply(selected,getSelected(data,this.$element.val().split(this._valueSeparator)))}callback(selected)};InputData.prototype.select=function(_,data){if(!this.options.get("multiple")){this.current(function(allData){$.map(allData,function(data){data.selected=false})});this.$element.val(data.id);this.$element.trigger("change")}else{var value=this.$element.val();value+=this._valueSeparator+data.id;this.$element.val(value);this.$element.trigger("change")}};InputData.prototype.unselect=function(_,data){var self=this;data.selected=false;this.current(function(allData){var values=[];for(var d=0;d<allData.length;d++){var item=allData[d];if(data.id==item.id){continue}values.push(item.id)}self.$element.val(values.join(self._valueSeparator));self.$element.trigger("change")})};InputData.prototype.query=function(_,params,callback){var results=[];for(var d=0;d<this._currentData.length;d++){var data=this._currentData[d];var matches=this.matches(params,data);if(matches!==null){results.push(matches)}}callback({results:results})};InputData.prototype.addOptions=function(_,$options){var options=$.map($options,function($option){return Utils.GetData($option[0],"data")});this._currentData.push.apply(this._currentData,options)};return InputData});S2.define("select2/compat/matcher",["jquery"],function($){function oldMatcher(matcher){function wrappedMatcher(params,data){var match=$.extend(true,{},data);if(params.term==null||$.trim(params.term)===""){return match}if(data.children){for(var c=data.children.length-1;c>=0;c--){var child=data.children[c];var doesMatch=matcher(params.term,child.text,child);if(!doesMatch){match.children.splice(c,1)}}if(match.children.length>0){return match}}if(matcher(params.term,data.text,data)){return match}return null}return wrappedMatcher}return oldMatcher});S2.define("select2/compat/query",[],function(){function Query(decorated,$element,options){if(options.get("debug")&&window.console&&console.warn){console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.")}decorated.call(this,$element,options)}Query.prototype.query=function(_,params,callback){params.callback=callback;var query=this.options.get("query");query.call(null,params)};return Query});S2.define("select2/dropdown/attachContainer",[],function(){function AttachContainer(decorated,$element,options){decorated.call(this,$element,options)}AttachContainer.prototype.position=function(decorated,$dropdown,$container){var $dropdownContainer=$container.find(".dropdown-wrapper");$dropdownContainer.append($dropdown);$dropdown.addClass("select2-dropdown--below");$container.addClass("select2-container--below")};return AttachContainer});S2.define("select2/dropdown/stopPropagation",[],function(){function StopPropagation(){}StopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(stoppedEvents.join(" "),function(evt){evt.stopPropagation()})};return StopPropagation});S2.define("select2/selection/stopPropagation",[],function(){function StopPropagation(){}StopPropagation.prototype.bind=function(decorated,container,$container){decorated.call(this,container,$container);var stoppedEvents=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(stoppedEvents.join(" "),function(evt){evt.stopPropagation()})};return StopPropagation});
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
(function(factory){if(typeof S2.define==="function"&&S2.define.amd){S2.define("jquery-mousewheel",["jquery"],factory)}else{if(typeof exports==="object"){module.exports=factory}else{factory(jQuery)}}}(function($){var toFix=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],toBind=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],slice=Array.prototype.slice,nullLowestDeltaTimeout,lowestDelta;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks}}var special=$.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=handler}$.data(this,"mousewheel-line-height",special.getLineHeight(this));$.data(this,"mousewheel-page-height",special.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false)}}else{this.onmousewheel=null}$.removeData(this,"mousewheel-line-height");$.removeData(this,"mousewheel-page-height")},getLineHeight:function(elem){var $elem=$(elem),$parent=$elem["offsetParent" in $.fn?"offsetParent":"parent"]();if(!$parent.length){$parent=$("body")}return parseInt($parent.css("fontSize"),10)||parseInt($elem.css("fontSize"),10)||16},getPageHeight:function(elem){return $(elem).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}});function handler(event){var orgEvent=event||window.event,args=slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,offsetX=0,offsetY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if("detail" in orgEvent){deltaY=orgEvent.detail*-1}if("wheelDelta" in orgEvent){deltaY=orgEvent.wheelDelta}if("wheelDeltaY" in orgEvent){deltaY=orgEvent.wheelDeltaY}if("wheelDeltaX" in orgEvent){deltaX=orgEvent.wheelDeltaX*-1}if("axis" in orgEvent&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaX=deltaY*-1;deltaY=0}delta=deltaY===0?deltaX:deltaY;if("deltaY" in orgEvent){deltaY=orgEvent.deltaY*-1;delta=deltaY}if("deltaX" in orgEvent){deltaX=orgEvent.deltaX;if(deltaY===0){delta=deltaX*-1}}if(deltaY===0&&deltaX===0){return}if(orgEvent.deltaMode===1){var lineHeight=$.data(this,"mousewheel-line-height");delta*=lineHeight;deltaY*=lineHeight;deltaX*=lineHeight}else{if(orgEvent.deltaMode===2){var pageHeight=$.data(this,"mousewheel-page-height");delta*=pageHeight;deltaY*=pageHeight;deltaX*=pageHeight}}absDelta=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;if(shouldAdjustOldDeltas(orgEvent,absDelta)){lowestDelta/=40}}if(shouldAdjustOldDeltas(orgEvent,absDelta)){delta/=40;deltaX/=40;deltaY/=40}delta=Math[delta>=1?"floor":"ceil"](delta/lowestDelta);deltaX=Math[deltaX>=1?"floor":"ceil"](deltaX/lowestDelta);deltaY=Math[deltaY>=1?"floor":"ceil"](deltaY/lowestDelta);if(special.settings.normalizeOffset&&this.getBoundingClientRect){var boundingRect=this.getBoundingClientRect();offsetX=event.clientX-boundingRect.left;offsetY=event.clientY-boundingRect.top}event.deltaX=deltaX;event.deltaY=deltaY;event.deltaFactor=lowestDelta;event.offsetX=offsetX;event.offsetY=offsetY;event.deltaMode=0;args.unshift(event,delta,deltaX,deltaY);if(nullLowestDeltaTimeout){clearTimeout(nullLowestDeltaTimeout)}nullLowestDeltaTimeout=setTimeout(nullLowestDelta,200);return($.event.dispatch||$.event.handle).apply(this,args)}function nullLowestDelta(){lowestDelta=null}function shouldAdjustOldDeltas(orgEvent,absDelta){return special.settings.adjustOldDeltas&&orgEvent.type==="mousewheel"&&absDelta%120===0}}));S2.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function($,_,Select2,Defaults,Utils){if($.fn.select2==null){var thisMethods=["open","close","destroy"];$.fn.select2=function(options){options=options||{};if(typeof options==="object"){this.each(function(){var instanceOptions=$.extend(true,{},options);var instance=new Select2($(this),instanceOptions)});return this}else{if(typeof options==="string"){var ret;var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=Utils.GetData(this,"select2");if(instance==null&&window.console&&console.error){console.error("The select2('"+options+"') method was called on an element that is not using Select2.")}ret=instance[options].apply(instance,args)});if($.inArray(options,thisMethods)>-1){return this}return ret}else{throw new Error("Invalid arguments for Select2: "+options)}}}}if($.fn.select2.defaults==null){$.fn.select2.defaults=Defaults}return Select2});return{define:S2.define,require:S2.require}}());var select2=S2.require("jquery.select2");jQuery.fn.select2.amd=S2;return select2}));
////Appending Script  == >swiper.min.js
!function(){function e(e){e.fn.swiper=function(a){var s;return e(this).each(function(){var e=new t(this,a);s||(s=e)}),s}}var a,t=function(e,i){function n(e){return Math.floor(e)}function o(){var e=S.params.autoplay,a=S.slides.eq(S.activeIndex);a.attr("data-swiper-autoplay")&&(e=a.attr("data-swiper-autoplay")||S.params.autoplay),S.autoplayTimeoutId=setTimeout(function(){S.params.loop?(S.fixLoop(),S._slideNext(),S.emit("onAutoplay",S)):S.isEnd?i.autoplayStopOnLast?S.stopAutoplay():(S._slideTo(0),S.emit("onAutoplay",S)):(S._slideNext(),S.emit("onAutoplay",S))},e)}function l(e,t){var s=a(e.target);if(!s.is(t)){if("string"==typeof t){s=s.parents(t)}else{if(t.nodeType){var i;return s.parents().each(function(e,a){a===t&&(i=t)}),i?t:void 0}}}if(0!==s.length){return s[0]}}function p(e,a){a=a||{};var t=window.MutationObserver||window.WebkitMutationObserver,s=new t(function(e){e.forEach(function(e){S.onResize(!0),S.emit("onObserverUpdate",S,e)})});s.observe(e,{attributes:"undefined"==typeof a.attributes||a.attributes,childList:"undefined"==typeof a.childList||a.childList,characterData:"undefined"==typeof a.characterData||a.characterData}),S.observers.push(s)}function d(e){e.originalEvent&&(e=e.originalEvent);var a=e.keyCode||e.charCode;if(!S.params.allowSwipeToNext&&(S.isHorizontal()&&39===a||!S.isHorizontal()&&40===a)){return !1}if(!S.params.allowSwipeToPrev&&(S.isHorizontal()&&37===a||!S.isHorizontal()&&38===a)){return !1}if(!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||document.activeElement&&document.activeElement.nodeName&&("input"===document.activeElement.nodeName.toLowerCase()||"textarea"===document.activeElement.nodeName.toLowerCase()))){if(37===a||39===a||38===a||40===a){var t=!1;if(S.container.parents("."+S.params.slideClass).length>0&&0===S.container.parents("."+S.params.slideActiveClass).length){return}var s={left:window.pageXOffset,top:window.pageYOffset},i=window.innerWidth,r=window.innerHeight,n=S.container.offset();S.rtl&&(n.left=n.left-S.container[0].scrollLeft);for(var o=[[n.left,n.top],[n.left+S.width,n.top],[n.left,n.top+S.height],[n.left+S.width,n.top+S.height]],l=0;l<o.length;l++){var p=o[l];p[0]>=s.left&&p[0]<=s.left+i&&p[1]>=s.top&&p[1]<=s.top+r&&(t=!0)}if(!t){return}}S.isHorizontal()?(37!==a&&39!==a||(e.preventDefault?e.preventDefault():e.returnValue=!1),(39===a&&!S.rtl||37===a&&S.rtl)&&S.slideNext(),(37===a&&!S.rtl||39===a&&S.rtl)&&S.slidePrev()):(38!==a&&40!==a||(e.preventDefault?e.preventDefault():e.returnValue=!1),40===a&&S.slideNext(),38===a&&S.slidePrev())}}function u(){var e="onwheel",a=e in document;if(!a){var t=document.createElement("div");t.setAttribute(e,"return;"),a="function"==typeof t[e]}return !a&&document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}function c(e){e.originalEvent&&(e=e.originalEvent);var a=0,t=S.rtl?-1:1,s=m(e);if(S.params.mousewheelForceToAxis){if(S.isHorizontal()){if(!(Math.abs(s.pixelX)>Math.abs(s.pixelY))){return}a=s.pixelX*t}else{if(!(Math.abs(s.pixelY)>Math.abs(s.pixelX))){return}a=s.pixelY}}else{a=Math.abs(s.pixelX)>Math.abs(s.pixelY)?-s.pixelX*t:-s.pixelY}if(0!==a){if(S.params.mousewheelInvert&&(a=-a),S.params.freeMode){var i=S.getWrapperTranslate()+a*S.params.mousewheelSensitivity,r=S.isBeginning,n=S.isEnd;if(i>=S.minTranslate()&&(i=S.minTranslate()),i<=S.maxTranslate()&&(i=S.maxTranslate()),S.setWrapperTransition(0),S.setWrapperTranslate(i),S.updateProgress(),S.updateActiveIndex(),(!r&&S.isBeginning||!n&&S.isEnd)&&S.updateClasses(),S.params.freeModeSticky?(clearTimeout(S.mousewheel.timeout),S.mousewheel.timeout=setTimeout(function(){S.slideReset()},300)):S.params.lazyLoading&&S.lazy&&S.lazy.load(),S.emit("onScroll",S,e),S.params.autoplay&&S.params.autoplayDisableOnInteraction&&S.stopAutoplay(),0===i||i===S.maxTranslate()){return}}else{if((new window.Date).getTime()-S.mousewheel.lastScrollTime>60){if(a<0){if(S.isEnd&&!S.params.loop||S.animating){if(S.params.mousewheelReleaseOnEdges){return !0}}else{S.slideNext(),S.emit("onScroll",S,e)}}else{if(S.isBeginning&&!S.params.loop||S.animating){if(S.params.mousewheelReleaseOnEdges){return !0}}else{S.slidePrev(),S.emit("onScroll",S,e)}}}S.mousewheel.lastScrollTime=(new window.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}}function m(e){var a=10,t=40,s=800,i=0,r=0,n=0,o=0;return"detail" in e&&(r=e.detail),"wheelDelta" in e&&(r=-e.wheelDelta/120),"wheelDeltaY" in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX" in e&&(i=-e.wheelDeltaX/120),"axis" in e&&e.axis===e.HORIZONTAL_AXIS&&(i=r,r=0),n=i*a,o=r*a,"deltaY" in e&&(o=e.deltaY),"deltaX" in e&&(n=e.deltaX),(n||o)&&e.deltaMode&&(1===e.deltaMode?(n*=t,o*=t):(n*=s,o*=s)),n&&!i&&(i=n<1?-1:1),o&&!r&&(r=o<1?-1:1),{spinX:i,spinY:r,pixelX:n,pixelY:o}}function h(e,t){e=a(e);var s,i,r,n=S.rtl?-1:1;s=e.attr("data-swiper-parallax")||"0",i=e.attr("data-swiper-parallax-x"),r=e.attr("data-swiper-parallax-y"),i||r?(i=i||"0",r=r||"0"):S.isHorizontal()?(i=s,r="0"):(r=s,i="0"),i=i.indexOf("%")>=0?parseInt(i,10)*t*n+"%":i*t*n+"px",r=r.indexOf("%")>=0?parseInt(r,10)*t+"%":r*t+"px",e.transform("translate3d("+i+", "+r+",0px)")}function g(e){return 0!==e.indexOf("on")&&(e=e[0]!==e[0].toUpperCase()?"on"+e[0].toUpperCase()+e.substring(1):"on"+e),e}if(!(this instanceof t)){return new t(e,i)}var f={direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,autoplay:!1,autoplayDisableOnInteraction:!0,autoplayStopOnLast:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:0.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",coverflow:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0},flip:{slideShadows:!0,limitRotation:!0},cube:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:0.94},fade:{crossFade:!1},parallax:!1,zoom:!1,zoomMax:3,zoomMin:1,zoomToggle:!0,scrollbar:null,scrollbarHide:!0,scrollbarDraggable:!1,scrollbarSnapOnRelease:!1,keyboardControl:!1,mousewheelControl:!1,mousewheelReleaseOnEdges:!1,mousewheelInvert:!1,mousewheelForceToAxis:!1,mousewheelSensitivity:1,mousewheelEventsTarged:"container",hashnav:!1,hashnavWatchState:!1,history:!1,replaceState:!1,breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:0.5,longSwipesMs:300,followFinger:!0,onlyExternal:!1,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,pagination:null,paginationElement:"span",paginationClickable:!1,paginationHide:!1,paginationBulletRender:null,paginationProgressRender:null,paginationFractionRender:null,paginationCustomRender:null,paginationType:"bullets",resistance:!0,resistanceRatio:0.85,nextButton:null,prevButton:null,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingInPrevNextAmount:1,lazyLoadingOnTransitionStart:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,control:void 0,controlInverse:!1,controlBy:"slide",normalizeSlideIndex:!0,allowSwipeToPrev:!0,allowSwipeToNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",buttonDisabledClass:"swiper-button-disabled",paginationCurrentClass:"swiper-pagination-current",paginationTotalClass:"swiper-pagination-total",paginationHiddenClass:"swiper-pagination-hidden",paginationProgressbarClass:"swiper-pagination-progressbar",paginationClickableClass:"swiper-pagination-clickable",paginationModifierClass:"swiper-pagination-",lazyLoadingClass:"swiper-lazy",lazyStatusLoadingClass:"swiper-lazy-loading",lazyStatusLoadedClass:"swiper-lazy-loaded",lazyPreloaderClass:"swiper-lazy-preloader",notificationClass:"swiper-notification",preloaderClass:"preloader",zoomContainerClass:"swiper-zoom-container",observer:!1,observeParents:!1,a11y:!1,prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",runCallbacksOnInit:!0},v=i&&i.virtualTranslate;i=i||{};var w={};for(var y in i){if("object"!=typeof i[y]||null===i[y]||(i[y].nodeType||i[y]===window||i[y]===document||"undefined"!=typeof s&&i[y] instanceof s||"undefined"!=typeof jQuery&&i[y] instanceof jQuery)){w[y]=i[y]}else{w[y]={};for(var x in i[y]){w[y][x]=i[y][x]}}}for(var T in f){if("undefined"==typeof i[T]){i[T]=f[T]}else{if("object"==typeof i[T]){for(var b in f[T]){"undefined"==typeof i[T][b]&&(i[T][b]=f[T][b])}}}}var S=this;if(S.params=i,S.originalParams=w,S.classNames=[],"undefined"!=typeof a&&"undefined"!=typeof s&&(a=s),("undefined"!=typeof a||(a="undefined"==typeof s?window.Dom7||window.Zepto||window.jQuery:s))&&(S.$=a,S.currentBreakpoint=void 0,S.getActiveBreakpoint=function(){if(!S.params.breakpoints){return !1}var e,a=!1,t=[];for(e in S.params.breakpoints){S.params.breakpoints.hasOwnProperty(e)&&t.push(e)}t.sort(function(e,a){return parseInt(e,10)>parseInt(a,10)});for(var s=0;s<t.length;s++){e=t[s],e>=window.innerWidth&&!a&&(a=e)}return a||"max"},S.setBreakpoint=function(){var e=S.getActiveBreakpoint();if(e&&S.currentBreakpoint!==e){var a=e in S.params.breakpoints?S.params.breakpoints[e]:S.originalParams,t=S.params.loop&&a.slidesPerView!==S.params.slidesPerView;for(var s in a){S.params[s]=a[s]}S.currentBreakpoint=e,t&&S.destroyLoop&&S.reLoop(!0)}},S.params.breakpoints&&S.setBreakpoint(),S.container=a(e),0!==S.container.length)){if(S.container.length>1){var C=[];return S.container.each(function(){C.push(new t(this,i))}),C}S.container[0].swiper=S,S.container.data("swiper",S),S.classNames.push(S.params.containerModifierClass+S.params.direction),S.params.freeMode&&S.classNames.push(S.params.containerModifierClass+"free-mode"),S.support.flexbox||(S.classNames.push(S.params.containerModifierClass+"no-flexbox"),S.params.slidesPerColumn=1),S.params.autoHeight&&S.classNames.push(S.params.containerModifierClass+"autoheight"),(S.params.parallax||S.params.watchSlidesVisibility)&&(S.params.watchSlidesProgress=!0),S.params.touchReleaseOnEdges&&(S.params.resistanceRatio=0),["cube","coverflow","flip"].indexOf(S.params.effect)>=0&&(S.support.transforms3d?(S.params.watchSlidesProgress=!0,S.classNames.push(S.params.containerModifierClass+"3d")):S.params.effect="slide"),"slide"!==S.params.effect&&S.classNames.push(S.params.containerModifierClass+S.params.effect),"cube"===S.params.effect&&(S.params.resistanceRatio=0,S.params.slidesPerView=1,S.params.slidesPerColumn=1,S.params.slidesPerGroup=1,S.params.centeredSlides=!1,S.params.spaceBetween=0,S.params.virtualTranslate=!0,S.params.setWrapperSize=!1),"fade"!==S.params.effect&&"flip"!==S.params.effect||(S.params.slidesPerView=1,S.params.slidesPerColumn=1,S.params.slidesPerGroup=1,S.params.watchSlidesProgress=!0,S.params.spaceBetween=0,S.params.setWrapperSize=!1,"undefined"==typeof v&&(S.params.virtualTranslate=!0)),S.params.grabCursor&&S.support.touch&&(S.params.grabCursor=!1),S.wrapper=S.container.children("."+S.params.wrapperClass),S.params.pagination&&(S.paginationContainer=a(S.params.pagination),S.params.uniqueNavElements&&"string"==typeof S.params.pagination&&S.paginationContainer.length>1&&1===S.container.find(S.params.pagination).length&&(S.paginationContainer=S.container.find(S.params.pagination)),"bullets"===S.params.paginationType&&S.params.paginationClickable?S.paginationContainer.addClass(S.params.paginationModifierClass+"clickable"):S.params.paginationClickable=!1,S.paginationContainer.addClass(S.params.paginationModifierClass+S.params.paginationType)),(S.params.nextButton||S.params.prevButton)&&(S.params.nextButton&&(S.nextButton=a(S.params.nextButton),S.params.uniqueNavElements&&"string"==typeof S.params.nextButton&&S.nextButton.length>1&&1===S.container.find(S.params.nextButton).length&&(S.nextButton=S.container.find(S.params.nextButton))),S.params.prevButton&&(S.prevButton=a(S.params.prevButton),S.params.uniqueNavElements&&"string"==typeof S.params.prevButton&&S.prevButton.length>1&&1===S.container.find(S.params.prevButton).length&&(S.prevButton=S.container.find(S.params.prevButton)))),S.isHorizontal=function(){return"horizontal"===S.params.direction},S.rtl=S.isHorizontal()&&("rtl"===S.container[0].dir.toLowerCase()||"rtl"===S.container.css("direction")),S.rtl&&S.classNames.push(S.params.containerModifierClass+"rtl"),S.rtl&&(S.wrongRTL="-webkit-box"===S.wrapper.css("display")),S.params.slidesPerColumn>1&&S.classNames.push(S.params.containerModifierClass+"multirow"),S.device.android&&S.classNames.push(S.params.containerModifierClass+"android"),S.container.addClass(S.classNames.join(" ")),S.translate=0,S.progress=0,S.velocity=0,S.lockSwipeToNext=function(){S.params.allowSwipeToNext=!1,S.params.allowSwipeToPrev===!1&&S.params.grabCursor&&S.unsetGrabCursor()},S.lockSwipeToPrev=function(){S.params.allowSwipeToPrev=!1,S.params.allowSwipeToNext===!1&&S.params.grabCursor&&S.unsetGrabCursor()},S.lockSwipes=function(){S.params.allowSwipeToNext=S.params.allowSwipeToPrev=!1,S.params.grabCursor&&S.unsetGrabCursor()},S.unlockSwipeToNext=function(){S.params.allowSwipeToNext=!0,S.params.allowSwipeToPrev===!0&&S.params.grabCursor&&S.setGrabCursor()},S.unlockSwipeToPrev=function(){S.params.allowSwipeToPrev=!0,S.params.allowSwipeToNext===!0&&S.params.grabCursor&&S.setGrabCursor()},S.unlockSwipes=function(){S.params.allowSwipeToNext=S.params.allowSwipeToPrev=!0,S.params.grabCursor&&S.setGrabCursor()},S.setGrabCursor=function(e){S.container[0].style.cursor="move",S.container[0].style.cursor=e?"-webkit-grabbing":"-webkit-grab",S.container[0].style.cursor=e?"-moz-grabbin":"-moz-grab",S.container[0].style.cursor=e?"grabbing":"grab"},S.unsetGrabCursor=function(){S.container[0].style.cursor=""},S.params.grabCursor&&S.setGrabCursor(),S.imagesToLoad=[],S.imagesLoaded=0,S.loadImage=function(e,a,t,s,i,r){function n(){r&&r()}var o;e.complete&&i?n():a?(o=new window.Image,o.onload=n,o.onerror=n,s&&(o.sizes=s),t&&(o.srcset=t),a&&(o.src=a)):n()},S.preloadImages=function(){function e(){"undefined"!=typeof S&&null!==S&&(void 0!==S.imagesLoaded&&S.imagesLoaded++,S.imagesLoaded===S.imagesToLoad.length&&(S.params.updateOnImagesReady&&S.update(),S.emit("onImagesReady",S)))}S.imagesToLoad=S.container.find("img");for(var a=0;a<S.imagesToLoad.length;a++){S.loadImage(S.imagesToLoad[a],S.imagesToLoad[a].currentSrc||S.imagesToLoad[a].getAttribute("src"),S.imagesToLoad[a].srcset||S.imagesToLoad[a].getAttribute("srcset"),S.imagesToLoad[a].sizes||S.imagesToLoad[a].getAttribute("sizes"),!0,e)}},S.autoplayTimeoutId=void 0,S.autoplaying=!1,S.autoplayPaused=!1,S.startAutoplay=function(){return"undefined"==typeof S.autoplayTimeoutId&&(!!S.params.autoplay&&(!S.autoplaying&&(S.autoplaying=!0,S.emit("onAutoplayStart",S),void o())))},S.stopAutoplay=function(e){S.autoplayTimeoutId&&(S.autoplayTimeoutId&&clearTimeout(S.autoplayTimeoutId),S.autoplaying=!1,S.autoplayTimeoutId=void 0,S.emit("onAutoplayStop",S))},S.pauseAutoplay=function(e){S.autoplayPaused||(S.autoplayTimeoutId&&clearTimeout(S.autoplayTimeoutId),S.autoplayPaused=!0,0===e?(S.autoplayPaused=!1,o()):S.wrapper.transitionEnd(function(){S&&(S.autoplayPaused=!1,S.autoplaying?o():S.stopAutoplay())}))},S.minTranslate=function(){return -S.snapGrid[0]},S.maxTranslate=function(){return -S.snapGrid[S.snapGrid.length-1]},S.updateAutoHeight=function(){var e=[],a=0;if("auto"!==S.params.slidesPerView&&S.params.slidesPerView>1){for(r=0;r<Math.ceil(S.params.slidesPerView);r++){var t=S.activeIndex+r;if(t>S.slides.length){break}e.push(S.slides.eq(t)[0])}}else{e.push(S.slides.eq(S.activeIndex)[0])}for(r=0;r<e.length;r++){if("undefined"!=typeof e[r]){var s=e[r].offsetHeight;a=s>a?s:a}}a&&S.wrapper.css("height",a+"px")},S.updateContainerSize=function(){var e,a;e="undefined"!=typeof S.params.width?S.params.width:S.container[0].clientWidth,a="undefined"!=typeof S.params.height?S.params.height:S.container[0].clientHeight,0===e&&S.isHorizontal()||0===a&&!S.isHorizontal()||(e=e-parseInt(S.container.css("padding-left"),10)-parseInt(S.container.css("padding-right"),10),a=a-parseInt(S.container.css("padding-top"),10)-parseInt(S.container.css("padding-bottom"),10),S.width=e,S.height=a,S.size=S.isHorizontal()?S.width:S.height)},S.updateSlidesSize=function(){S.slides=S.wrapper.children("."+S.params.slideClass),S.snapGrid=[],S.slidesGrid=[],S.slidesSizesGrid=[];var e,a=S.params.spaceBetween,t=-S.params.slidesOffsetBefore,s=0,i=0;if("undefined"!=typeof S.size){"string"==typeof a&&a.indexOf("%")>=0&&(a=parseFloat(a.replace("%",""))/100*S.size),S.virtualSize=-a,S.rtl?S.slides.css({marginLeft:"",marginTop:""}):S.slides.css({marginRight:"",marginBottom:""});var r;S.params.slidesPerColumn>1&&(r=Math.floor(S.slides.length/S.params.slidesPerColumn)===S.slides.length/S.params.slidesPerColumn?S.slides.length:Math.ceil(S.slides.length/S.params.slidesPerColumn)*S.params.slidesPerColumn,"auto"!==S.params.slidesPerView&&"row"===S.params.slidesPerColumnFill&&(r=Math.max(r,S.params.slidesPerView*S.params.slidesPerColumn)));var o,l=S.params.slidesPerColumn,p=r/l,d=p-(S.params.slidesPerColumn*p-S.slides.length);for(e=0;e<S.slides.length;e++){o=0;var u=S.slides.eq(e);if(S.params.slidesPerColumn>1){var c,m,h;"column"===S.params.slidesPerColumnFill?(m=Math.floor(e/l),h=e-m*l,(m>d||m===d&&h===l-1)&&++h>=l&&(h=0,m++),c=m+h*r/l,u.css({"-webkit-box-ordinal-group":c,"-moz-box-ordinal-group":c,"-ms-flex-order":c,"-webkit-order":c,order:c})):(h=Math.floor(e/p),m=e-h*p),u.css("margin-"+(S.isHorizontal()?"top":"left"),0!==h&&S.params.spaceBetween&&S.params.spaceBetween+"px").attr("data-swiper-column",m).attr("data-swiper-row",h)}"none"!==u.css("display")&&("auto"===S.params.slidesPerView?(o=S.isHorizontal()?u.outerWidth(!0):u.outerHeight(!0),S.params.roundLengths&&(o=n(o))):(o=(S.size-(S.params.slidesPerView-1)*a)/S.params.slidesPerView,S.params.roundLengths&&(o=n(o)),S.isHorizontal()?S.slides[e].style.width=o+"px":S.slides[e].style.height=o+"px"),S.slides[e].swiperSlideSize=o,S.slidesSizesGrid.push(o),S.params.centeredSlides?(t=t+o/2+s/2+a,0===e&&(t=t-S.size/2-a),Math.abs(t)<0.001&&(t=0),i%S.params.slidesPerGroup===0&&S.snapGrid.push(t),S.slidesGrid.push(t)):(i%S.params.slidesPerGroup===0&&S.snapGrid.push(t),S.slidesGrid.push(t),t=t+o+a),S.virtualSize+=o+a,s=o,i++)}S.virtualSize=Math.max(S.virtualSize,S.size)+S.params.slidesOffsetAfter;var g;if(S.rtl&&S.wrongRTL&&("slide"===S.params.effect||"coverflow"===S.params.effect)&&S.wrapper.css({width:S.virtualSize+S.params.spaceBetween+"px"}),S.support.flexbox&&!S.params.setWrapperSize||(S.isHorizontal()?S.wrapper.css({width:S.virtualSize+S.params.spaceBetween+"px"}):S.wrapper.css({height:S.virtualSize+S.params.spaceBetween+"px"})),S.params.slidesPerColumn>1&&(S.virtualSize=(o+S.params.spaceBetween)*r,S.virtualSize=Math.ceil(S.virtualSize/S.params.slidesPerColumn)-S.params.spaceBetween,S.isHorizontal()?S.wrapper.css({width:S.virtualSize+S.params.spaceBetween+"px"}):S.wrapper.css({height:S.virtualSize+S.params.spaceBetween+"px"}),S.params.centeredSlides)){for(g=[],e=0;e<S.snapGrid.length;e++){S.snapGrid[e]<S.virtualSize+S.snapGrid[0]&&g.push(S.snapGrid[e])}S.snapGrid=g}if(!S.params.centeredSlides){for(g=[],e=0;e<S.snapGrid.length;e++){S.snapGrid[e]<=S.virtualSize-S.size&&g.push(S.snapGrid[e])}S.snapGrid=g,Math.floor(S.virtualSize-S.size)-Math.floor(S.snapGrid[S.snapGrid.length-1])>1&&S.snapGrid.push(S.virtualSize-S.size)}0===S.snapGrid.length&&(S.snapGrid=[0]),0!==S.params.spaceBetween&&(S.isHorizontal()?S.rtl?S.slides.css({marginLeft:a+"px"}):S.slides.css({marginRight:a+"px"}):S.slides.css({marginBottom:a+"px"})),S.params.watchSlidesProgress&&S.updateSlidesOffset()}},S.updateSlidesOffset=function(){for(var e=0;e<S.slides.length;e++){S.slides[e].swiperSlideOffset=S.isHorizontal()?S.slides[e].offsetLeft:S.slides[e].offsetTop}},S.updateSlidesProgress=function(e){if("undefined"==typeof e&&(e=S.translate||0),0!==S.slides.length){"undefined"==typeof S.slides[0].swiperSlideOffset&&S.updateSlidesOffset();var a=-e;S.rtl&&(a=e),S.slides.removeClass(S.params.slideVisibleClass);for(var t=0;t<S.slides.length;t++){var s=S.slides[t],i=(a+(S.params.centeredSlides?S.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+S.params.spaceBetween);if(S.params.watchSlidesVisibility){var r=-(a-s.swiperSlideOffset),n=r+S.slidesSizesGrid[t],o=r>=0&&r<S.size||n>0&&n<=S.size||r<=0&&n>=S.size;o&&S.slides.eq(t).addClass(S.params.slideVisibleClass)}s.progress=S.rtl?-i:i}}},S.updateProgress=function(e){"undefined"==typeof e&&(e=S.translate||0);var a=S.maxTranslate()-S.minTranslate(),t=S.isBeginning,s=S.isEnd;0===a?(S.progress=0,S.isBeginning=S.isEnd=!0):(S.progress=(e-S.minTranslate())/a,S.isBeginning=S.progress<=0,S.isEnd=S.progress>=1),S.isBeginning&&!t&&S.emit("onReachBeginning",S),S.isEnd&&!s&&S.emit("onReachEnd",S),S.params.watchSlidesProgress&&S.updateSlidesProgress(e),S.emit("onProgress",S,S.progress)},S.updateActiveIndex=function(){var e,a,t,s=S.rtl?S.translate:-S.translate;for(a=0;a<S.slidesGrid.length;a++){"undefined"!=typeof S.slidesGrid[a+1]?s>=S.slidesGrid[a]&&s<S.slidesGrid[a+1]-(S.slidesGrid[a+1]-S.slidesGrid[a])/2?e=a:s>=S.slidesGrid[a]&&s<S.slidesGrid[a+1]&&(e=a+1):s>=S.slidesGrid[a]&&(e=a)}S.params.normalizeSlideIndex&&(e<0||"undefined"==typeof e)&&(e=0),t=Math.floor(e/S.params.slidesPerGroup),t>=S.snapGrid.length&&(t=S.snapGrid.length-1),e!==S.activeIndex&&(S.snapIndex=t,S.previousIndex=S.activeIndex,S.activeIndex=e,S.updateClasses(),S.updateRealIndex())},S.updateRealIndex=function(){S.realIndex=S.slides.eq(S.activeIndex).attr("data-swiper-slide-index")||S.activeIndex},S.updateClasses=function(){S.slides.removeClass(S.params.slideActiveClass+" "+S.params.slideNextClass+" "+S.params.slidePrevClass+" "+S.params.slideDuplicateActiveClass+" "+S.params.slideDuplicateNextClass+" "+S.params.slideDuplicatePrevClass);var e=S.slides.eq(S.activeIndex);e.addClass(S.params.slideActiveClass),i.loop&&(e.hasClass(S.params.slideDuplicateClass)?S.wrapper.children("."+S.params.slideClass+":not(."+S.params.slideDuplicateClass+')[data-swiper-slide-index="'+S.realIndex+'"]').addClass(S.params.slideDuplicateActiveClass):S.wrapper.children("."+S.params.slideClass+"."+S.params.slideDuplicateClass+'[data-swiper-slide-index="'+S.realIndex+'"]').addClass(S.params.slideDuplicateActiveClass));var t=e.next("."+S.params.slideClass).addClass(S.params.slideNextClass);S.params.loop&&0===t.length&&(t=S.slides.eq(0),t.addClass(S.params.slideNextClass));var s=e.prev("."+S.params.slideClass).addClass(S.params.slidePrevClass);if(S.params.loop&&0===s.length&&(s=S.slides.eq(-1),s.addClass(S.params.slidePrevClass)),i.loop&&(t.hasClass(S.params.slideDuplicateClass)?S.wrapper.children("."+S.params.slideClass+":not(."+S.params.slideDuplicateClass+')[data-swiper-slide-index="'+t.attr("data-swiper-slide-index")+'"]').addClass(S.params.slideDuplicateNextClass):S.wrapper.children("."+S.params.slideClass+"."+S.params.slideDuplicateClass+'[data-swiper-slide-index="'+t.attr("data-swiper-slide-index")+'"]').addClass(S.params.slideDuplicateNextClass),s.hasClass(S.params.slideDuplicateClass)?S.wrapper.children("."+S.params.slideClass+":not(."+S.params.slideDuplicateClass+')[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(S.params.slideDuplicatePrevClass):S.wrapper.children("."+S.params.slideClass+"."+S.params.slideDuplicateClass+'[data-swiper-slide-index="'+s.attr("data-swiper-slide-index")+'"]').addClass(S.params.slideDuplicatePrevClass)),S.paginationContainer&&S.paginationContainer.length>0){var r,n=S.params.loop?Math.ceil((S.slides.length-2*S.loopedSlides)/S.params.slidesPerGroup):S.snapGrid.length;if(S.params.loop?(r=Math.ceil((S.activeIndex-S.loopedSlides)/S.params.slidesPerGroup),r>S.slides.length-1-2*S.loopedSlides&&(r-=S.slides.length-2*S.loopedSlides),r>n-1&&(r-=n),r<0&&"bullets"!==S.params.paginationType&&(r=n+r)):r="undefined"!=typeof S.snapIndex?S.snapIndex:S.activeIndex||0,"bullets"===S.params.paginationType&&S.bullets&&S.bullets.length>0&&(S.bullets.removeClass(S.params.bulletActiveClass),S.paginationContainer.length>1?S.bullets.each(function(){a(this).index()===r&&a(this).addClass(S.params.bulletActiveClass)}):S.bullets.eq(r).addClass(S.params.bulletActiveClass)),"fraction"===S.params.paginationType&&(S.paginationContainer.find("."+S.params.paginationCurrentClass).text(r+1),S.paginationContainer.find("."+S.params.paginationTotalClass).text(n)),"progress"===S.params.paginationType){var o=(r+1)/n,l=o,p=1;S.isHorizontal()||(p=o,l=1),S.paginationContainer.find("."+S.params.paginationProgressbarClass).transform("translate3d(0,0,0) scaleX("+l+") scaleY("+p+")").transition(S.params.speed)}"custom"===S.params.paginationType&&S.params.paginationCustomRender&&(S.paginationContainer.html(S.params.paginationCustomRender(S,r+1,n)),S.emit("onPaginationRendered",S,S.paginationContainer[0]))}S.params.loop||(S.params.prevButton&&S.prevButton&&S.prevButton.length>0&&(S.isBeginning?(S.prevButton.addClass(S.params.buttonDisabledClass),S.params.a11y&&S.a11y&&S.a11y.disable(S.prevButton)):(S.prevButton.removeClass(S.params.buttonDisabledClass),S.params.a11y&&S.a11y&&S.a11y.enable(S.prevButton))),S.params.nextButton&&S.nextButton&&S.nextButton.length>0&&(S.isEnd?(S.nextButton.addClass(S.params.buttonDisabledClass),S.params.a11y&&S.a11y&&S.a11y.disable(S.nextButton)):(S.nextButton.removeClass(S.params.buttonDisabledClass),S.params.a11y&&S.a11y&&S.a11y.enable(S.nextButton))))},S.updatePagination=function(){if(S.params.pagination&&S.paginationContainer&&S.paginationContainer.length>0){var e="";if("bullets"===S.params.paginationType){for(var a=S.params.loop?Math.ceil((S.slides.length-2*S.loopedSlides)/S.params.slidesPerGroup):S.snapGrid.length,t=0;t<a;t++){e+=S.params.paginationBulletRender?S.params.paginationBulletRender(S,t,S.params.bulletClass):"<"+S.params.paginationElement+' class="'+S.params.bulletClass+'"></'+S.params.paginationElement+">"}S.paginationContainer.html(e),S.bullets=S.paginationContainer.find("."+S.params.bulletClass),S.params.paginationClickable&&S.params.a11y&&S.a11y&&S.a11y.initPagination()}"fraction"===S.params.paginationType&&(e=S.params.paginationFractionRender?S.params.paginationFractionRender(S,S.params.paginationCurrentClass,S.params.paginationTotalClass):'<span class="'+S.params.paginationCurrentClass+'"></span> / <span class="'+S.params.paginationTotalClass+'"></span>',S.paginationContainer.html(e)),"progress"===S.params.paginationType&&(e=S.params.paginationProgressRender?S.params.paginationProgressRender(S,S.params.paginationProgressbarClass):'<span class="'+S.params.paginationProgressbarClass+'"></span>',S.paginationContainer.html(e)),"custom"!==S.params.paginationType&&S.emit("onPaginationRendered",S,S.paginationContainer[0])}},S.update=function(e){function a(){S.rtl?-S.translate:S.translate;s=Math.min(Math.max(S.translate,S.maxTranslate()),S.minTranslate()),S.setWrapperTranslate(s),S.updateActiveIndex(),S.updateClasses()}if(S.updateContainerSize(),S.updateSlidesSize(),S.updateProgress(),S.updatePagination(),S.updateClasses(),S.params.scrollbar&&S.scrollbar&&S.scrollbar.set(),e){var t,s;S.controller&&S.controller.spline&&(S.controller.spline=void 0),S.params.freeMode?(a(),S.params.autoHeight&&S.updateAutoHeight()):(t=("auto"===S.params.slidesPerView||S.params.slidesPerView>1)&&S.isEnd&&!S.params.centeredSlides?S.slideTo(S.slides.length-1,0,!1,!0):S.slideTo(S.activeIndex,0,!1,!0),t||a())}else{S.params.autoHeight&&S.updateAutoHeight()}},S.onResize=function(e){S.params.breakpoints&&S.setBreakpoint();var a=S.params.allowSwipeToPrev,t=S.params.allowSwipeToNext;S.params.allowSwipeToPrev=S.params.allowSwipeToNext=!0,S.updateContainerSize(),S.updateSlidesSize(),("auto"===S.params.slidesPerView||S.params.freeMode||e)&&S.updatePagination(),S.params.scrollbar&&S.scrollbar&&S.scrollbar.set(),S.controller&&S.controller.spline&&(S.controller.spline=void 0);var s=!1;if(S.params.freeMode){var i=Math.min(Math.max(S.translate,S.maxTranslate()),S.minTranslate());S.setWrapperTranslate(i),S.updateActiveIndex(),S.updateClasses(),S.params.autoHeight&&S.updateAutoHeight()}else{S.updateClasses(),s=("auto"===S.params.slidesPerView||S.params.slidesPerView>1)&&S.isEnd&&!S.params.centeredSlides?S.slideTo(S.slides.length-1,0,!1,!0):S.slideTo(S.activeIndex,0,!1,!0)}S.params.lazyLoading&&!s&&S.lazy&&S.lazy.load(),S.params.allowSwipeToPrev=a,S.params.allowSwipeToNext=t},S.touchEventsDesktop={start:"mousedown",move:"mousemove",end:"mouseup"},window.navigator.pointerEnabled?S.touchEventsDesktop={start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled&&(S.touchEventsDesktop={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}),S.touchEvents={start:S.support.touch||!S.params.simulateTouch?"touchstart":S.touchEventsDesktop.start,move:S.support.touch||!S.params.simulateTouch?"touchmove":S.touchEventsDesktop.move,end:S.support.touch||!S.params.simulateTouch?"touchend":S.touchEventsDesktop.end},(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&("container"===S.params.touchEventsTarget?S.container:S.wrapper).addClass("swiper-wp8-"+S.params.direction),S.initEvents=function(e){var a=e?"off":"on",t=e?"removeEventListener":"addEventListener",s="container"===S.params.touchEventsTarget?S.container[0]:S.wrapper[0],r=S.support.touch?s:document,n=!!S.params.nested;if(S.browser.ie){s[t](S.touchEvents.start,S.onTouchStart,!1),r[t](S.touchEvents.move,S.onTouchMove,n),r[t](S.touchEvents.end,S.onTouchEnd,!1)}else{if(S.support.touch){var o=!("touchstart"!==S.touchEvents.start||!S.support.passiveListener||!S.params.passiveListeners)&&{passive:!0,capture:!1};s[t](S.touchEvents.start,S.onTouchStart,o),s[t](S.touchEvents.move,S.onTouchMove,n),s[t](S.touchEvents.end,S.onTouchEnd,o)}(i.simulateTouch&&!S.device.ios&&!S.device.android||i.simulateTouch&&!S.support.touch&&S.device.ios)&&(s[t]("mousedown",S.onTouchStart,!1),document[t]("mousemove",S.onTouchMove,n),document[t]("mouseup",S.onTouchEnd,!1))}window[t]("resize",S.onResize),S.params.nextButton&&S.nextButton&&S.nextButton.length>0&&(S.nextButton[a]("click",S.onClickNext),S.params.a11y&&S.a11y&&S.nextButton[a]("keydown",S.a11y.onEnterKey)),S.params.prevButton&&S.prevButton&&S.prevButton.length>0&&(S.prevButton[a]("click",S.onClickPrev),S.params.a11y&&S.a11y&&S.prevButton[a]("keydown",S.a11y.onEnterKey)),S.params.pagination&&S.params.paginationClickable&&(S.paginationContainer[a]("click","."+S.params.bulletClass,S.onClickIndex),S.params.a11y&&S.a11y&&S.paginationContainer[a]("keydown","."+S.params.bulletClass,S.a11y.onEnterKey)),(S.params.preventClicks||S.params.preventClicksPropagation)&&s[t]("click",S.preventClicks,!0)},S.attachEvents=function(){S.initEvents()},S.detachEvents=function(){S.initEvents(!0)},S.allowClick=!0,S.preventClicks=function(e){S.allowClick||(S.params.preventClicks&&e.preventDefault(),S.params.preventClicksPropagation&&S.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))},S.onClickNext=function(e){e.preventDefault(),S.isEnd&&!S.params.loop||S.slideNext()},S.onClickPrev=function(e){e.preventDefault(),S.isBeginning&&!S.params.loop||S.slidePrev()},S.onClickIndex=function(e){e.preventDefault();var t=a(this).index()*S.params.slidesPerGroup;S.params.loop&&(t+=S.loopedSlides),S.slideTo(t)},S.updateClickedSlide=function(e){var t=l(e,"."+S.params.slideClass),s=!1;if(t){for(var i=0;i<S.slides.length;i++){S.slides[i]===t&&(s=!0)}}if(!t||!s){return S.clickedSlide=void 0,void (S.clickedIndex=void 0)}if(S.clickedSlide=t,S.clickedIndex=a(t).index(),S.params.slideToClickedSlide&&void 0!==S.clickedIndex&&S.clickedIndex!==S.activeIndex){var r,n=S.clickedIndex;if(S.params.loop){if(S.animating){return}r=a(S.clickedSlide).attr("data-swiper-slide-index"),S.params.centeredSlides?n<S.loopedSlides-S.params.slidesPerView/2||n>S.slides.length-S.loopedSlides+S.params.slidesPerView/2?(S.fixLoop(),n=S.wrapper.children("."+S.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.'+S.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){S.slideTo(n)},0)):S.slideTo(n):n>S.slides.length-S.params.slidesPerView?(S.fixLoop(),n=S.wrapper.children("."+S.params.slideClass+'[data-swiper-slide-index="'+r+'"]:not(.'+S.params.slideDuplicateClass+")").eq(0).index(),setTimeout(function(){S.slideTo(n)},0)):S.slideTo(n)}else{S.slideTo(n)}}};var z,M,E,P,I,k,L,D,B,H,G="input, select, textarea, button, video",X=Date.now(),Y=[];S.animating=!1,S.touches={startX:0,startY:0,currentX:0,currentY:0,diff:0};var A,O;S.onTouchStart=function(e){if(e.originalEvent&&(e=e.originalEvent),A="touchstart"===e.type,A||!("which" in e)||3!==e.which){if(S.params.noSwiping&&l(e,"."+S.params.noSwipingClass)){return void (S.allowClick=!0)}if(!S.params.swipeHandler||l(e,S.params.swipeHandler)){var t=S.touches.currentX="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,s=S.touches.currentY="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY;if(!(S.device.ios&&S.params.iOSEdgeSwipeDetection&&t<=S.params.iOSEdgeSwipeThreshold)){if(z=!0,M=!1,E=!0,I=void 0,O=void 0,S.touches.startX=t,S.touches.startY=s,P=Date.now(),S.allowClick=!0,S.updateContainerSize(),S.swipeDirection=void 0,S.params.threshold>0&&(D=!1),"touchstart"!==e.type){var i=!0;a(e.target).is(G)&&(i=!1),document.activeElement&&a(document.activeElement).is(G)&&document.activeElement.blur(),i&&e.preventDefault()}S.emit("onTouchStart",S,e)}}}},S.onTouchMove=function(e){if(e.originalEvent&&(e=e.originalEvent),!A||"mousemove"!==e.type){if(e.preventedByNestedSwiper){return S.touches.startX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,void (S.touches.startY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY)}if(S.params.onlyExternal){return S.allowClick=!1,void (z&&(S.touches.startX=S.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,S.touches.startY=S.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,P=Date.now()))}if(A&&S.params.touchReleaseOnEdges&&!S.params.loop){if(S.isHorizontal()){if(S.touches.currentX<S.touches.startX&&S.translate<=S.maxTranslate()||S.touches.currentX>S.touches.startX&&S.translate>=S.minTranslate()){return}}else{if(S.touches.currentY<S.touches.startY&&S.translate<=S.maxTranslate()||S.touches.currentY>S.touches.startY&&S.translate>=S.minTranslate()){return}}}if(A&&document.activeElement&&e.target===document.activeElement&&a(e.target).is(G)){return M=!0,void (S.allowClick=!1)}if(E&&S.emit("onTouchMove",S,e),!(e.targetTouches&&e.targetTouches.length>1)){if(S.touches.currentX="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,S.touches.currentY="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,"undefined"==typeof I){var t;S.isHorizontal()&&S.touches.currentY===S.touches.startY||!S.isHorizontal()&&S.touches.currentX!==S.touches.startX?I=!1:(t=180*Math.atan2(Math.abs(S.touches.currentY-S.touches.startY),Math.abs(S.touches.currentX-S.touches.startX))/Math.PI,I=S.isHorizontal()?t>S.params.touchAngle:90-t>S.params.touchAngle)}if(I&&S.emit("onTouchMoveOpposite",S,e),"undefined"==typeof O&&S.browser.ieTouch&&(S.touches.currentX===S.touches.startX&&S.touches.currentY===S.touches.startY||(O=!0)),z){if(I){return void (z=!1)}if(O||!S.browser.ieTouch){S.allowClick=!1,S.emit("onSliderMove",S,e),e.preventDefault(),S.params.touchMoveStopPropagation&&!S.params.nested&&e.stopPropagation(),M||(i.loop&&S.fixLoop(),L=S.getWrapperTranslate(),S.setWrapperTransition(0),S.animating&&S.wrapper.trigger("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd"),S.params.autoplay&&S.autoplaying&&(S.params.autoplayDisableOnInteraction?S.stopAutoplay():S.pauseAutoplay()),H=!1,!S.params.grabCursor||S.params.allowSwipeToNext!==!0&&S.params.allowSwipeToPrev!==!0||S.setGrabCursor(!0)),M=!0;var s=S.touches.diff=S.isHorizontal()?S.touches.currentX-S.touches.startX:S.touches.currentY-S.touches.startY;s*=S.params.touchRatio,S.rtl&&(s=-s),S.swipeDirection=s>0?"prev":"next",k=s+L;var r=!0;if(s>0&&k>S.minTranslate()?(r=!1,S.params.resistance&&(k=S.minTranslate()-1+Math.pow(-S.minTranslate()+L+s,S.params.resistanceRatio))):s<0&&k<S.maxTranslate()&&(r=!1,S.params.resistance&&(k=S.maxTranslate()+1-Math.pow(S.maxTranslate()-L-s,S.params.resistanceRatio))),r&&(e.preventedByNestedSwiper=!0),!S.params.allowSwipeToNext&&"next"===S.swipeDirection&&k<L&&(k=L),!S.params.allowSwipeToPrev&&"prev"===S.swipeDirection&&k>L&&(k=L),S.params.threshold>0){if(!(Math.abs(s)>S.params.threshold||D)){return void (k=L)}if(!D){return D=!0,S.touches.startX=S.touches.currentX,S.touches.startY=S.touches.currentY,k=L,void (S.touches.diff=S.isHorizontal()?S.touches.currentX-S.touches.startX:S.touches.currentY-S.touches.startY)}}S.params.followFinger&&((S.params.freeMode||S.params.watchSlidesProgress)&&S.updateActiveIndex(),S.params.freeMode&&(0===Y.length&&Y.push({position:S.touches[S.isHorizontal()?"startX":"startY"],time:P}),Y.push({position:S.touches[S.isHorizontal()?"currentX":"currentY"],time:(new window.Date).getTime()})),S.updateProgress(k),S.setWrapperTranslate(k))}}}}},S.onTouchEnd=function(e){if(e.originalEvent&&(e=e.originalEvent),E&&S.emit("onTouchEnd",S,e),E=!1,z){S.params.grabCursor&&M&&z&&(S.params.allowSwipeToNext===!0||S.params.allowSwipeToPrev===!0)&&S.setGrabCursor(!1);var t=Date.now(),s=t-P;if(S.allowClick&&(S.updateClickedSlide(e),S.emit("onTap",S,e),s<300&&t-X>300&&(B&&clearTimeout(B),B=setTimeout(function(){S&&(S.params.paginationHide&&S.paginationContainer.length>0&&!a(e.target).hasClass(S.params.bulletClass)&&S.paginationContainer.toggleClass(S.params.paginationHiddenClass),S.emit("onClick",S,e))},300)),s<300&&t-X<300&&(B&&clearTimeout(B),S.emit("onDoubleTap",S,e))),X=Date.now(),setTimeout(function(){S&&(S.allowClick=!0)},0),!z||!M||!S.swipeDirection||0===S.touches.diff||k===L){return void (z=M=!1)}z=M=!1;var i;if(i=S.params.followFinger?S.rtl?S.translate:-S.translate:-k,S.params.freeMode){if(i<-S.minTranslate()){return void S.slideTo(S.activeIndex)}if(i>-S.maxTranslate()){return void (S.slides.length<S.snapGrid.length?S.slideTo(S.snapGrid.length-1):S.slideTo(S.slides.length-1))}if(S.params.freeModeMomentum){if(Y.length>1){var r=Y.pop(),n=Y.pop(),o=r.position-n.position,l=r.time-n.time;S.velocity=o/l,S.velocity=S.velocity/2,Math.abs(S.velocity)<S.params.freeModeMinimumVelocity&&(S.velocity=0),(l>150||(new window.Date).getTime()-r.time>300)&&(S.velocity=0)}else{S.velocity=0}S.velocity=S.velocity*S.params.freeModeMomentumVelocityRatio,Y.length=0;var p=1000*S.params.freeModeMomentumRatio,d=S.velocity*p,u=S.translate+d;S.rtl&&(u=-u);var c,m=!1,h=20*Math.abs(S.velocity)*S.params.freeModeMomentumBounceRatio;if(u<S.maxTranslate()){S.params.freeModeMomentumBounce?(u+S.maxTranslate()<-h&&(u=S.maxTranslate()-h),c=S.maxTranslate(),m=!0,H=!0):u=S.maxTranslate()}else{if(u>S.minTranslate()){S.params.freeModeMomentumBounce?(u-S.minTranslate()>h&&(u=S.minTranslate()+h),c=S.minTranslate(),m=!0,H=!0):u=S.minTranslate()}else{if(S.params.freeModeSticky){var g,f=0;for(f=0;f<S.snapGrid.length;f+=1){if(S.snapGrid[f]>-u){g=f;break}}u=Math.abs(S.snapGrid[g]-u)<Math.abs(S.snapGrid[g-1]-u)||"next"===S.swipeDirection?S.snapGrid[g]:S.snapGrid[g-1],S.rtl||(u=-u)}}}if(0!==S.velocity){p=S.rtl?Math.abs((-u-S.translate)/S.velocity):Math.abs((u-S.translate)/S.velocity)}else{if(S.params.freeModeSticky){return void S.slideReset()}}S.params.freeModeMomentumBounce&&m?(S.updateProgress(c),S.setWrapperTransition(p),S.setWrapperTranslate(u),S.onTransitionStart(),S.animating=!0,S.wrapper.transitionEnd(function(){S&&H&&(S.emit("onMomentumBounce",S),S.setWrapperTransition(S.params.speed),S.setWrapperTranslate(c),S.wrapper.transitionEnd(function(){S&&S.onTransitionEnd()}))})):S.velocity?(S.updateProgress(u),S.setWrapperTransition(p),S.setWrapperTranslate(u),S.onTransitionStart(),S.animating||(S.animating=!0,S.wrapper.transitionEnd(function(){S&&S.onTransitionEnd()}))):S.updateProgress(u),S.updateActiveIndex()}return void ((!S.params.freeModeMomentum||s>=S.params.longSwipesMs)&&(S.updateProgress(),S.updateActiveIndex()))}var v,w=0,y=S.slidesSizesGrid[0];for(v=0;v<S.slidesGrid.length;v+=S.params.slidesPerGroup){"undefined"!=typeof S.slidesGrid[v+S.params.slidesPerGroup]?i>=S.slidesGrid[v]&&i<S.slidesGrid[v+S.params.slidesPerGroup]&&(w=v,y=S.slidesGrid[v+S.params.slidesPerGroup]-S.slidesGrid[v]):i>=S.slidesGrid[v]&&(w=v,y=S.slidesGrid[S.slidesGrid.length-1]-S.slidesGrid[S.slidesGrid.length-2])}var x=(i-S.slidesGrid[w])/y;if(s>S.params.longSwipesMs){if(!S.params.longSwipes){return void S.slideTo(S.activeIndex)}"next"===S.swipeDirection&&(x>=S.params.longSwipesRatio?S.slideTo(w+S.params.slidesPerGroup):S.slideTo(w)),"prev"===S.swipeDirection&&(x>1-S.params.longSwipesRatio?S.slideTo(w+S.params.slidesPerGroup):S.slideTo(w))}else{if(!S.params.shortSwipes){return void S.slideTo(S.activeIndex)}"next"===S.swipeDirection&&S.slideTo(w+S.params.slidesPerGroup),"prev"===S.swipeDirection&&S.slideTo(w)}}},S._slideTo=function(e,a){return S.slideTo(e,a,!0,!0)},S.slideTo=function(e,a,t,s){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=0),e<0&&(e=0),S.snapIndex=Math.floor(e/S.params.slidesPerGroup),S.snapIndex>=S.snapGrid.length&&(S.snapIndex=S.snapGrid.length-1);var i=-S.snapGrid[S.snapIndex];if(S.params.autoplay&&S.autoplaying&&(s||!S.params.autoplayDisableOnInteraction?S.pauseAutoplay(a):S.stopAutoplay()),S.updateProgress(i),S.params.normalizeSlideIndex){for(var r=0;r<S.slidesGrid.length;r++){-Math.floor(100*i)>=Math.floor(100*S.slidesGrid[r])&&(e=r)}}return !(!S.params.allowSwipeToNext&&i<S.translate&&i<S.minTranslate())&&(!(!S.params.allowSwipeToPrev&&i>S.translate&&i>S.maxTranslate()&&(S.activeIndex||0)!==e)&&("undefined"==typeof a&&(a=S.params.speed),S.previousIndex=S.activeIndex||0,S.activeIndex=e,S.updateRealIndex(),S.rtl&&-i===S.translate||!S.rtl&&i===S.translate?(S.params.autoHeight&&S.updateAutoHeight(),S.updateClasses(),"slide"!==S.params.effect&&S.setWrapperTranslate(i),!1):(S.updateClasses(),S.onTransitionStart(t),0===a||S.browser.lteIE9?(S.setWrapperTranslate(i),S.setWrapperTransition(0),S.onTransitionEnd(t)):(S.setWrapperTranslate(i),S.setWrapperTransition(a),S.animating||(S.animating=!0,S.wrapper.transitionEnd(function(){S&&S.onTransitionEnd(t)}))),!0)))},S.onTransitionStart=function(e){"undefined"==typeof e&&(e=!0),S.params.autoHeight&&S.updateAutoHeight(),S.lazy&&S.lazy.onTransitionStart(),e&&(S.emit("onTransitionStart",S),S.activeIndex!==S.previousIndex&&(S.emit("onSlideChangeStart",S),S.activeIndex>S.previousIndex?S.emit("onSlideNextStart",S):S.emit("onSlidePrevStart",S)))},S.onTransitionEnd=function(e){S.animating=!1,S.setWrapperTransition(0),"undefined"==typeof e&&(e=!0),S.lazy&&S.lazy.onTransitionEnd(),e&&(S.emit("onTransitionEnd",S),S.activeIndex!==S.previousIndex&&(S.emit("onSlideChangeEnd",S),S.activeIndex>S.previousIndex?S.emit("onSlideNextEnd",S):S.emit("onSlidePrevEnd",S))),S.params.history&&S.history&&S.history.setHistory(S.params.history,S.activeIndex),S.params.hashnav&&S.hashnav&&S.hashnav.setHash()},S.slideNext=function(e,a,t){if(S.params.loop){if(S.animating){return !1}S.fixLoop();S.container[0].clientLeft;return S.slideTo(S.activeIndex+S.params.slidesPerGroup,a,e,t)}return S.slideTo(S.activeIndex+S.params.slidesPerGroup,a,e,t)},S._slideNext=function(e){return S.slideNext(!0,e,!0)},S.slidePrev=function(e,a,t){if(S.params.loop){if(S.animating){return !1}S.fixLoop();S.container[0].clientLeft;return S.slideTo(S.activeIndex-1,a,e,t)}return S.slideTo(S.activeIndex-1,a,e,t)},S._slidePrev=function(e){return S.slidePrev(!0,e,!0)},S.slideReset=function(e,a,t){return S.slideTo(S.activeIndex,a,e)},S.disableTouchControl=function(){return S.params.onlyExternal=!0,!0},S.enableTouchControl=function(){return S.params.onlyExternal=!1,!0},S.setWrapperTransition=function(e,a){S.wrapper.transition(e),"slide"!==S.params.effect&&S.effects[S.params.effect]&&S.effects[S.params.effect].setTransition(e),S.params.parallax&&S.parallax&&S.parallax.setTransition(e),S.params.scrollbar&&S.scrollbar&&S.scrollbar.setTransition(e),S.params.control&&S.controller&&S.controller.setTransition(e,a),S.emit("onSetTransition",S,e)},S.setWrapperTranslate=function(e,a,t){var s=0,i=0,r=0;S.isHorizontal()?s=S.rtl?-e:e:i=e,S.params.roundLengths&&(s=n(s),i=n(i)),S.params.virtualTranslate||(S.support.transforms3d?S.wrapper.transform("translate3d("+s+"px, "+i+"px, "+r+"px)"):S.wrapper.transform("translate("+s+"px, "+i+"px)")),S.translate=S.isHorizontal()?s:i;var o,l=S.maxTranslate()-S.minTranslate();o=0===l?0:(e-S.minTranslate())/l,o!==S.progress&&S.updateProgress(e),a&&S.updateActiveIndex(),"slide"!==S.params.effect&&S.effects[S.params.effect]&&S.effects[S.params.effect].setTranslate(S.translate),S.params.parallax&&S.parallax&&S.parallax.setTranslate(S.translate),S.params.scrollbar&&S.scrollbar&&S.scrollbar.setTranslate(S.translate),S.params.control&&S.controller&&S.controller.setTranslate(S.translate,t),S.emit("onSetTranslate",S,S.translate)},S.getTranslate=function(e,a){var t,s,i,r;return"undefined"==typeof a&&(a="x"),S.params.virtualTranslate?S.rtl?-S.translate:S.translate:(i=window.getComputedStyle(e,null),window.WebKitCSSMatrix?(s=i.transform||i.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),r=new window.WebKitCSSMatrix("none"===s?"":s)):(r=i.MozTransform||i.OTransform||i.MsTransform||i.msTransform||i.transform||i.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),t=r.toString().split(",")),"x"===a&&(s=window.WebKitCSSMatrix?r.m41:16===t.length?parseFloat(t[12]):parseFloat(t[4])),"y"===a&&(s=window.WebKitCSSMatrix?r.m42:16===t.length?parseFloat(t[13]):parseFloat(t[5])),S.rtl&&s&&(s=-s),s||0)},S.getWrapperTranslate=function(e){return"undefined"==typeof e&&(e=S.isHorizontal()?"x":"y"),S.getTranslate(S.wrapper[0],e)},S.observers=[],S.initObservers=function(){if(S.params.observeParents){for(var e=S.container.parents(),a=0;a<e.length;a++){p(e[a])}}p(S.container[0],{childList:!1}),p(S.wrapper[0],{attributes:!1})},S.disconnectObservers=function(){for(var e=0;e<S.observers.length;e++){S.observers[e].disconnect()}S.observers=[]},S.createLoop=function(){S.wrapper.children("."+S.params.slideClass+"."+S.params.slideDuplicateClass).remove();var e=S.wrapper.children("."+S.params.slideClass);"auto"!==S.params.slidesPerView||S.params.loopedSlides||(S.params.loopedSlides=e.length),S.loopedSlides=parseInt(S.params.loopedSlides||S.params.slidesPerView,10),S.loopedSlides=S.loopedSlides+S.params.loopAdditionalSlides,S.loopedSlides>e.length&&(S.loopedSlides=e.length);var t,s=[],i=[];for(e.each(function(t,r){var n=a(this);t<S.loopedSlides&&i.push(r),t<e.length&&t>=e.length-S.loopedSlides&&s.push(r),n.attr("data-swiper-slide-index",t)}),t=0;t<i.length;t++){S.wrapper.append(a(i[t].cloneNode(!0)).addClass(S.params.slideDuplicateClass))}for(t=s.length-1;t>=0;t--){S.wrapper.prepend(a(s[t].cloneNode(!0)).addClass(S.params.slideDuplicateClass))}},S.destroyLoop=function(){S.wrapper.children("."+S.params.slideClass+"."+S.params.slideDuplicateClass).remove(),S.slides.removeAttr("data-swiper-slide-index")},S.reLoop=function(e){var a=S.activeIndex-S.loopedSlides;S.destroyLoop(),S.createLoop(),S.updateSlidesSize(),e&&S.slideTo(a+S.loopedSlides,0,!1)},S.fixLoop=function(){var e;S.activeIndex<S.loopedSlides?(e=S.slides.length-3*S.loopedSlides+S.activeIndex,e+=S.loopedSlides,S.slideTo(e,0,!1,!0)):("auto"===S.params.slidesPerView&&S.activeIndex>=2*S.loopedSlides||S.activeIndex>S.slides.length-2*S.params.slidesPerView)&&(e=-S.slides.length+S.activeIndex+S.loopedSlides,e+=S.loopedSlides,S.slideTo(e,0,!1,!0))},S.appendSlide=function(e){if(S.params.loop&&S.destroyLoop(),"object"==typeof e&&e.length){for(var a=0;a<e.length;a++){e[a]&&S.wrapper.append(e[a])}}else{S.wrapper.append(e)}S.params.loop&&S.createLoop(),S.params.observer&&S.support.observer||S.update(!0)},S.prependSlide=function(e){S.params.loop&&S.destroyLoop();var a=S.activeIndex+1;if("object"==typeof e&&e.length){for(var t=0;t<e.length;t++){e[t]&&S.wrapper.prepend(e[t])}a=S.activeIndex+e.length}else{S.wrapper.prepend(e)}S.params.loop&&S.createLoop(),S.params.observer&&S.support.observer||S.update(!0),S.slideTo(a,0,!1)},S.removeSlide=function(e){S.params.loop&&(S.destroyLoop(),S.slides=S.wrapper.children("."+S.params.slideClass));var a,t=S.activeIndex;if("object"==typeof e&&e.length){for(var s=0;s<e.length;s++){a=e[s],S.slides[a]&&S.slides.eq(a).remove(),a<t&&t--}t=Math.max(t,0)}else{a=e,S.slides[a]&&S.slides.eq(a).remove(),a<t&&t--,t=Math.max(t,0)}S.params.loop&&S.createLoop(),S.params.observer&&S.support.observer||S.update(!0),S.params.loop?S.slideTo(t+S.loopedSlides,0,!1):S.slideTo(t,0,!1)},S.removeAllSlides=function(){for(var e=[],a=0;a<S.slides.length;a++){e.push(a)}S.removeSlide(e)},S.effects={fade:{setTranslate:function(){for(var e=0;e<S.slides.length;e++){var a=S.slides.eq(e),t=a[0].swiperSlideOffset,s=-t;S.params.virtualTranslate||(s-=S.translate);var i=0;S.isHorizontal()||(i=s,s=0);var r=S.params.fade.crossFade?Math.max(1-Math.abs(a[0].progress),0):1+Math.min(Math.max(a[0].progress,-1),0);a.css({opacity:r}).transform("translate3d("+s+"px, "+i+"px, 0px)")}},setTransition:function(e){if(S.slides.transition(e),S.params.virtualTranslate&&0!==e){var a=!1;S.slides.transitionEnd(function(){if(!a&&S){a=!0,S.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],t=0;t<e.length;t++){S.wrapper.trigger(e[t])}}})}}},flip:{setTranslate:function(){for(var e=0;e<S.slides.length;e++){var t=S.slides.eq(e),s=t[0].progress;S.params.flip.limitRotation&&(s=Math.max(Math.min(t[0].progress,1),-1));var i=t[0].swiperSlideOffset,r=-180*s,n=r,o=0,l=-i,p=0;if(S.isHorizontal()?S.rtl&&(n=-n):(p=l,l=0,o=-n,n=0),t[0].style.zIndex=-Math.abs(Math.round(s))+S.slides.length,S.params.flip.slideShadows){var d=S.isHorizontal()?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),u=S.isHorizontal()?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===d.length&&(d=a('<div class="swiper-slide-shadow-'+(S.isHorizontal()?"left":"top")+'"></div>'),t.append(d)),0===u.length&&(u=a('<div class="swiper-slide-shadow-'+(S.isHorizontal()?"right":"bottom")+'"></div>'),t.append(u)),d.length&&(d[0].style.opacity=Math.max(-s,0)),u.length&&(u[0].style.opacity=Math.max(s,0))}t.transform("translate3d("+l+"px, "+p+"px, 0px) rotateX("+o+"deg) rotateY("+n+"deg)")}},setTransition:function(e){if(S.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),S.params.virtualTranslate&&0!==e){var t=!1;S.slides.eq(S.activeIndex).transitionEnd(function(){if(!t&&S&&a(this).hasClass(S.params.slideActiveClass)){t=!0,S.animating=!1;for(var e=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],s=0;s<e.length;s++){S.wrapper.trigger(e[s])}}})}}},cube:{setTranslate:function(){var e,t=0;S.params.cube.shadow&&(S.isHorizontal()?(e=S.wrapper.find(".swiper-cube-shadow"),0===e.length&&(e=a('<div class="swiper-cube-shadow"></div>'),S.wrapper.append(e)),e.css({height:S.width+"px"})):(e=S.container.find(".swiper-cube-shadow"),0===e.length&&(e=a('<div class="swiper-cube-shadow"></div>'),S.container.append(e))));for(var s=0;s<S.slides.length;s++){var i=S.slides.eq(s),r=90*s,n=Math.floor(r/360);S.rtl&&(r=-r,n=Math.floor(-r/360));var o=Math.max(Math.min(i[0].progress,1),-1),l=0,p=0,d=0;s%4===0?(l=4*-n*S.size,d=0):(s-1)%4===0?(l=0,d=4*-n*S.size):(s-2)%4===0?(l=S.size+4*n*S.size,d=S.size):(s-3)%4===0&&(l=-S.size,d=3*S.size+4*S.size*n),S.rtl&&(l=-l),S.isHorizontal()||(p=l,l=0);var u="rotateX("+(S.isHorizontal()?0:-r)+"deg) rotateY("+(S.isHorizontal()?r:0)+"deg) translate3d("+l+"px, "+p+"px, "+d+"px)";if(o<=1&&o>-1&&(t=90*s+90*o,S.rtl&&(t=90*-s-90*o)),i.transform(u),S.params.cube.slideShadows){var c=S.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),m=S.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===c.length&&(c=a('<div class="swiper-slide-shadow-'+(S.isHorizontal()?"left":"top")+'"></div>'),i.append(c)),0===m.length&&(m=a('<div class="swiper-slide-shadow-'+(S.isHorizontal()?"right":"bottom")+'"></div>'),i.append(m)),c.length&&(c[0].style.opacity=Math.max(-o,0)),m.length&&(m[0].style.opacity=Math.max(o,0))}}if(S.wrapper.css({"-webkit-transform-origin":"50% 50% -"+S.size/2+"px","-moz-transform-origin":"50% 50% -"+S.size/2+"px","-ms-transform-origin":"50% 50% -"+S.size/2+"px","transform-origin":"50% 50% -"+S.size/2+"px"}),S.params.cube.shadow){if(S.isHorizontal()){e.transform("translate3d(0px, "+(S.width/2+S.params.cube.shadowOffset)+"px, "+-S.width/2+"px) rotateX(90deg) rotateZ(0deg) scale("+S.params.cube.shadowScale+")")}else{var h=Math.abs(t)-90*Math.floor(Math.abs(t)/90),g=1.5-(Math.sin(2*h*Math.PI/360)/2+Math.cos(2*h*Math.PI/360)/2),f=S.params.cube.shadowScale,v=S.params.cube.shadowScale/g,w=S.params.cube.shadowOffset;e.transform("scale3d("+f+", 1, "+v+") translate3d(0px, "+(S.height/2+w)+"px, "+-S.height/2/v+"px) rotateX(-90deg)")}}var y=S.isSafari||S.isUiWebView?-S.size/2:0;S.wrapper.transform("translate3d(0px,0,"+y+"px) rotateX("+(S.isHorizontal()?0:t)+"deg) rotateY("+(S.isHorizontal()?-t:0)+"deg)")},setTransition:function(e){S.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),S.params.cube.shadow&&!S.isHorizontal()&&S.container.find(".swiper-cube-shadow").transition(e)}},coverflow:{setTranslate:function(){for(var e=S.translate,t=S.isHorizontal()?-e+S.width/2:-e+S.height/2,s=S.isHorizontal()?S.params.coverflow.rotate:-S.params.coverflow.rotate,i=S.params.coverflow.depth,r=0,n=S.slides.length;r<n;r++){var o=S.slides.eq(r),l=S.slidesSizesGrid[r],p=o[0].swiperSlideOffset,d=(t-p-l/2)/l*S.params.coverflow.modifier,u=S.isHorizontal()?s*d:0,c=S.isHorizontal()?0:s*d,m=-i*Math.abs(d),h=S.isHorizontal()?0:S.params.coverflow.stretch*d,g=S.isHorizontal()?S.params.coverflow.stretch*d:0;Math.abs(g)<0.001&&(g=0),Math.abs(h)<0.001&&(h=0),Math.abs(m)<0.001&&(m=0),Math.abs(u)<0.001&&(u=0),Math.abs(c)<0.001&&(c=0);var f="translate3d("+g+"px,"+h+"px,"+m+"px)  rotateX("+c+"deg) rotateY("+u+"deg)";if(o.transform(f),o[0].style.zIndex=-Math.abs(Math.round(d))+1,S.params.coverflow.slideShadows){var v=S.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),w=S.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===v.length&&(v=a('<div class="swiper-slide-shadow-'+(S.isHorizontal()?"left":"top")+'"></div>'),o.append(v)),0===w.length&&(w=a('<div class="swiper-slide-shadow-'+(S.isHorizontal()?"right":"bottom")+'"></div>'),o.append(w)),v.length&&(v[0].style.opacity=d>0?d:0),w.length&&(w[0].style.opacity=-d>0?-d:0)}}if(S.browser.ie){var y=S.wrapper[0].style;y.perspectiveOrigin=t+"px 50%"}},setTransition:function(e){S.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}}},S.lazy={initialImageLoaded:!1,loadImageInSlide:function(e,t){if("undefined"!=typeof e&&("undefined"==typeof t&&(t=!0),0!==S.slides.length)){var s=S.slides.eq(e),i=s.find("."+S.params.lazyLoadingClass+":not(."+S.params.lazyStatusLoadedClass+"):not(."+S.params.lazyStatusLoadingClass+")");!s.hasClass(S.params.lazyLoadingClass)||s.hasClass(S.params.lazyStatusLoadedClass)||s.hasClass(S.params.lazyStatusLoadingClass)||(i=i.add(s[0])),0!==i.length&&i.each(function(){var e=a(this);e.addClass(S.params.lazyStatusLoadingClass);var i=e.attr("data-background"),r=e.attr("data-src"),n=e.attr("data-srcset"),o=e.attr("data-sizes");S.loadImage(e[0],r||i,n,o,!1,function(){if(i?(e.css("background-image",'url("'+i+'")'),e.removeAttr("data-background")):(n&&(e.attr("srcset",n),e.removeAttr("data-srcset")),o&&(e.attr("sizes",o),e.removeAttr("data-sizes")),r&&(e.attr("src",r),e.removeAttr("data-src"))),e.addClass(S.params.lazyStatusLoadedClass).removeClass(S.params.lazyStatusLoadingClass),s.find("."+S.params.lazyPreloaderClass+", ."+S.params.preloaderClass).remove(),S.params.loop&&t){var a=s.attr("data-swiper-slide-index");if(s.hasClass(S.params.slideDuplicateClass)){var l=S.wrapper.children('[data-swiper-slide-index="'+a+'"]:not(.'+S.params.slideDuplicateClass+")");S.lazy.loadImageInSlide(l.index(),!1)}else{var p=S.wrapper.children("."+S.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');S.lazy.loadImageInSlide(p.index(),!1)}}S.emit("onLazyImageReady",S,s[0],e[0])}),S.emit("onLazyImageLoad",S,s[0],e[0])})}},load:function(){var e,t=S.params.slidesPerView;if("auto"===t&&(t=0),S.lazy.initialImageLoaded||(S.lazy.initialImageLoaded=!0),S.params.watchSlidesVisibility){S.wrapper.children("."+S.params.slideVisibleClass).each(function(){S.lazy.loadImageInSlide(a(this).index())})}else{if(t>1){for(e=S.activeIndex;e<S.activeIndex+t;e++){S.slides[e]&&S.lazy.loadImageInSlide(e)}}else{S.lazy.loadImageInSlide(S.activeIndex)}}if(S.params.lazyLoadingInPrevNext){if(t>1||S.params.lazyLoadingInPrevNextAmount&&S.params.lazyLoadingInPrevNextAmount>1){var s=S.params.lazyLoadingInPrevNextAmount,i=t,r=Math.min(S.activeIndex+i+Math.max(s,i),S.slides.length),n=Math.max(S.activeIndex-Math.max(i,s),0);for(e=S.activeIndex+t;e<r;e++){S.slides[e]&&S.lazy.loadImageInSlide(e)}for(e=n;e<S.activeIndex;e++){S.slides[e]&&S.lazy.loadImageInSlide(e)}}else{var o=S.wrapper.children("."+S.params.slideNextClass);o.length>0&&S.lazy.loadImageInSlide(o.index());var l=S.wrapper.children("."+S.params.slidePrevClass);l.length>0&&S.lazy.loadImageInSlide(l.index())}}},onTransitionStart:function(){S.params.lazyLoading&&(S.params.lazyLoadingOnTransitionStart||!S.params.lazyLoadingOnTransitionStart&&!S.lazy.initialImageLoaded)&&S.lazy.load()},onTransitionEnd:function(){S.params.lazyLoading&&!S.params.lazyLoadingOnTransitionStart&&S.lazy.load()}},S.scrollbar={isTouched:!1,setDragPosition:function(e){var a=S.scrollbar,t=S.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageX:e.pageX||e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].pageY:e.pageY||e.clientY,s=t-a.track.offset()[S.isHorizontal()?"left":"top"]-a.dragSize/2,i=-S.minTranslate()*a.moveDivider,r=-S.maxTranslate()*a.moveDivider;s<i?s=i:s>r&&(s=r),s=-s/a.moveDivider,S.updateProgress(s),S.setWrapperTranslate(s,!0)},dragStart:function(e){var a=S.scrollbar;a.isTouched=!0,e.preventDefault(),e.stopPropagation(),a.setDragPosition(e),clearTimeout(a.dragTimeout),a.track.transition(0),S.params.scrollbarHide&&a.track.css("opacity",1),S.wrapper.transition(100),a.drag.transition(100),S.emit("onScrollbarDragStart",S)},dragMove:function(e){var a=S.scrollbar;a.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,a.setDragPosition(e),S.wrapper.transition(0),a.track.transition(0),a.drag.transition(0),S.emit("onScrollbarDragMove",S))},dragEnd:function(e){var a=S.scrollbar;a.isTouched&&(a.isTouched=!1,S.params.scrollbarHide&&(clearTimeout(a.dragTimeout),a.dragTimeout=setTimeout(function(){a.track.css("opacity",0),a.track.transition(400)},1000)),S.emit("onScrollbarDragEnd",S),S.params.scrollbarSnapOnRelease&&S.slideReset())},draggableEvents:function(){return S.params.simulateTouch!==!1||S.support.touch?S.touchEvents:S.touchEventsDesktop}(),enableDraggable:function(){var e=S.scrollbar,t=S.support.touch?e.track:document;a(e.track).on(e.draggableEvents.start,e.dragStart),a(t).on(e.draggableEvents.move,e.dragMove),a(t).on(e.draggableEvents.end,e.dragEnd)},disableDraggable:function(){var e=S.scrollbar,t=S.support.touch?e.track:document;a(e.track).off(S.draggableEvents.start,e.dragStart),a(t).off(S.draggableEvents.move,e.dragMove),a(t).off(S.draggableEvents.end,e.dragEnd)},set:function(){if(S.params.scrollbar){var e=S.scrollbar;e.track=a(S.params.scrollbar),S.params.uniqueNavElements&&"string"==typeof S.params.scrollbar&&e.track.length>1&&1===S.container.find(S.params.scrollbar).length&&(e.track=S.container.find(S.params.scrollbar)),e.drag=e.track.find(".swiper-scrollbar-drag"),0===e.drag.length&&(e.drag=a('<div class="swiper-scrollbar-drag"></div>'),e.track.append(e.drag)),e.drag[0].style.width="",e.drag[0].style.height="",e.trackSize=S.isHorizontal()?e.track[0].offsetWidth:e.track[0].offsetHeight,e.divider=S.size/S.virtualSize,e.moveDivider=e.divider*(e.trackSize/S.size),e.dragSize=e.trackSize*e.divider,S.isHorizontal()?e.drag[0].style.width=e.dragSize+"px":e.drag[0].style.height=e.dragSize+"px",e.divider>=1?e.track[0].style.display="none":e.track[0].style.display="",S.params.scrollbarHide&&(e.track[0].style.opacity=0)}},setTranslate:function(){if(S.params.scrollbar){var e,a=S.scrollbar,t=(S.translate||0,a.dragSize);e=(a.trackSize-a.dragSize)*S.progress,S.rtl&&S.isHorizontal()?(e=-e,e>0?(t=a.dragSize-e,e=0):-e+a.dragSize>a.trackSize&&(t=a.trackSize+e)):e<0?(t=a.dragSize+e,e=0):e+a.dragSize>a.trackSize&&(t=a.trackSize-e),S.isHorizontal()?(S.support.transforms3d?a.drag.transform("translate3d("+e+"px, 0, 0)"):a.drag.transform("translateX("+e+"px)"),a.drag[0].style.width=t+"px"):(S.support.transforms3d?a.drag.transform("translate3d(0px, "+e+"px, 0)"):a.drag.transform("translateY("+e+"px)"),a.drag[0].style.height=t+"px"),S.params.scrollbarHide&&(clearTimeout(a.timeout),a.track[0].style.opacity=1,a.timeout=setTimeout(function(){a.track[0].style.opacity=0,a.track.transition(400)},1000))}},setTransition:function(e){S.params.scrollbar&&S.scrollbar.drag.transition(e)}},S.controller={LinearSpline:function(e,a){this.x=e,this.y=a,this.lastIndex=e.length-1;var t,s;this.x.length;this.interpolate=function(e){return e?(s=i(this.x,e),t=s-1,(e-this.x[t])*(this.y[s]-this.y[t])/(this.x[s]-this.x[t])+this.y[t]):0};var i=function(){var e,a,t;return function(s,i){for(a=-1,e=s.length;e-a>1;){s[t=e+a>>1]<=i?a=t:e=t}return e}}()},getInterpolateFunction:function(e){S.controller.spline||(S.controller.spline=S.params.loop?new S.controller.LinearSpline(S.slidesGrid,e.slidesGrid):new S.controller.LinearSpline(S.snapGrid,e.snapGrid))},setTranslate:function(e,a){function s(a){e=a.rtl&&"horizontal"===a.params.direction?-S.translate:S.translate,"slide"===S.params.controlBy&&(S.controller.getInterpolateFunction(a),r=-S.controller.spline.interpolate(-e)),r&&"container"!==S.params.controlBy||(i=(a.maxTranslate()-a.minTranslate())/(S.maxTranslate()-S.minTranslate()),r=(e-S.minTranslate())*i+a.minTranslate()),S.params.controlInverse&&(r=a.maxTranslate()-r),a.updateProgress(r),a.setWrapperTranslate(r,!1,S),a.updateActiveIndex()}var i,r,n=S.params.control;if(S.isArray(n)){for(var o=0;o<n.length;o++){n[o]!==a&&n[o] instanceof t&&s(n[o])}}else{n instanceof t&&a!==n&&s(n)}},setTransition:function(e,a){function s(a){a.setWrapperTransition(e,S),0!==e&&(a.onTransitionStart(),a.wrapper.transitionEnd(function(){r&&(a.params.loop&&"slide"===S.params.controlBy&&a.fixLoop(),a.onTransitionEnd())}))}var i,r=S.params.control;if(S.isArray(r)){for(i=0;i<r.length;i++){r[i]!==a&&r[i] instanceof t&&s(r[i])}}else{r instanceof t&&a!==r&&s(r)}}},S.hashnav={onHashCange:function(e,a){var t=document.location.hash.replace("#",""),s=S.slides.eq(S.activeIndex).attr("data-hash");t!==s&&S.slideTo(S.wrapper.children("."+S.params.slideClass+'[data-hash="'+t+'"]').index())},attachEvents:function(e){var t=e?"off":"on";a(window)[t]("hashchange",S.hashnav.onHashCange)},setHash:function(){if(S.hashnav.initialized&&S.params.hashnav){if(S.params.replaceState&&window.history&&window.history.replaceState){window.history.replaceState(null,null,"#"+S.slides.eq(S.activeIndex).attr("data-hash")||"")}else{var e=S.slides.eq(S.activeIndex),a=e.attr("data-hash")||e.attr("data-history");document.location.hash=a||""}}},init:function(){if(S.params.hashnav&&!S.params.history){S.hashnav.initialized=!0;var e=document.location.hash.replace("#","");if(e){for(var a=0,t=0,s=S.slides.length;t<s;t++){var i=S.slides.eq(t),r=i.attr("data-hash")||i.attr("data-history");if(r===e&&!i.hasClass(S.params.slideDuplicateClass)){var n=i.index();S.slideTo(n,a,S.params.runCallbacksOnInit,!0)}}S.params.hashnavWatchState&&S.hashnav.attachEvents()}}},destroy:function(){S.params.hashnavWatchState&&S.hashnav.attachEvents(!0)}},S.history={init:function(){if(S.params.history){if(!window.history||!window.history.pushState){return S.params.history=!1,void (S.params.hashnav=!0)}S.history.initialized=!0,this.paths=this.getPathValues(),(this.paths.key||this.paths.value)&&(this.scrollToSlide(0,this.paths.value,S.params.runCallbacksOnInit),S.params.replaceState||window.addEventListener("popstate",this.setHistoryPopState))}},setHistoryPopState:function(){S.history.paths=S.history.getPathValues(),S.history.scrollToSlide(S.params.speed,S.history.paths.value,!1)},getPathValues:function(){var e=window.location.pathname.slice(1).split("/"),a=e.length,t=e[a-2],s=e[a-1];return{key:t,value:s}},setHistory:function(e,a){if(S.history.initialized&&S.params.history){var t=S.slides.eq(a),s=this.slugify(t.attr("data-history"));window.location.pathname.includes(e)||(s=e+"/"+s),S.params.replaceState?window.history.replaceState(null,null,s):window.history.pushState(null,null,s)}},slugify:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,a,t){if(a){for(var s=0,i=S.slides.length;s<i;s++){var r=S.slides.eq(s),n=this.slugify(r.attr("data-history"));if(n===a&&!r.hasClass(S.params.slideDuplicateClass)){var o=r.index();S.slideTo(o,e,t)}}}else{S.slideTo(0,e,t)}}},S.disableKeyboardControl=function(){S.params.keyboardControl=!1,a(document).off("keydown",d)},S.enableKeyboardControl=function(){S.params.keyboardControl=!0,a(document).on("keydown",d)},S.mousewheel={event:!1,lastScrollTime:(new window.Date).getTime()},S.params.mousewheelControl&&(S.mousewheel.event=navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":u()?"wheel":"mousewheel"),S.disableMousewheelControl=function(){if(!S.mousewheel.event){return !1}var e=S.container;return"container"!==S.params.mousewheelEventsTarged&&(e=a(S.params.mousewheelEventsTarged)),e.off(S.mousewheel.event,c),!0},S.enableMousewheelControl=function(){if(!S.mousewheel.event){return !1}var e=S.container;return"container"!==S.params.mousewheelEventsTarged&&(e=a(S.params.mousewheelEventsTarged)),e.on(S.mousewheel.event,c),!0},S.parallax={setTranslate:function(){S.container.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){h(this,S.progress)}),S.slides.each(function(){var e=a(this);e.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var a=Math.min(Math.max(e[0].progress,-1),1);h(this,a)})})},setTransition:function(e){"undefined"==typeof e&&(e=S.params.speed),S.container.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(){var t=a(this),s=parseInt(t.attr("data-swiper-parallax-duration"),10)||e;0===e&&(s=0),t.transition(s)})}},S.zoom={scale:1,currentScale:1,isScaling:!1,gesture:{slide:void 0,slideWidth:void 0,slideHeight:void 0,image:void 0,imageWrap:void 0,zoomMax:S.params.zoomMax},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0},getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2){return 1}var a=e.targetTouches[0].pageX,t=e.targetTouches[0].pageY,s=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY,r=Math.sqrt(Math.pow(s-a,2)+Math.pow(i-t,2));return r},onGestureStart:function(e){var t=S.zoom;if(!S.support.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2){return}t.gesture.scaleStart=t.getDistanceBetweenTouches(e)}return t.gesture.slide&&t.gesture.slide.length||(t.gesture.slide=a(this),0===t.gesture.slide.length&&(t.gesture.slide=S.slides.eq(S.activeIndex)),t.gesture.image=t.gesture.slide.find("img, svg, canvas"),t.gesture.imageWrap=t.gesture.image.parent("."+S.params.zoomContainerClass),t.gesture.zoomMax=t.gesture.imageWrap.attr("data-swiper-zoom")||S.params.zoomMax,0!==t.gesture.imageWrap.length)?(t.gesture.image.transition(0),void (t.isScaling=!0)):void (t.gesture.image=void 0)},onGestureChange:function(e){var a=S.zoom;if(!S.support.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2){return}a.gesture.scaleMove=a.getDistanceBetweenTouches(e)}a.gesture.image&&0!==a.gesture.image.length&&(S.support.gestures?a.scale=e.scale*a.currentScale:a.scale=a.gesture.scaleMove/a.gesture.scaleStart*a.currentScale,a.scale>a.gesture.zoomMax&&(a.scale=a.gesture.zoomMax-1+Math.pow(a.scale-a.gesture.zoomMax+1,0.5)),a.scale<S.params.zoomMin&&(a.scale=S.params.zoomMin+1-Math.pow(S.params.zoomMin-a.scale+1,0.5)),a.gesture.image.transform("translate3d(0,0,0) scale("+a.scale+")"))},onGestureEnd:function(e){var a=S.zoom;!S.support.gestures&&("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2)||a.gesture.image&&0!==a.gesture.image.length&&(a.scale=Math.max(Math.min(a.scale,a.gesture.zoomMax),S.params.zoomMin),a.gesture.image.transition(S.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(a.gesture.slide=void 0))},onTouchStart:function(e,a){var t=e.zoom;t.gesture.image&&0!==t.gesture.image.length&&(t.image.isTouched||("android"===e.device.os&&a.preventDefault(),t.image.isTouched=!0,t.image.touchesStart.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,t.image.touchesStart.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY))},onTouchMove:function(e){var a=S.zoom;if(a.gesture.image&&0!==a.gesture.image.length&&(S.allowClick=!1,a.image.isTouched&&a.gesture.slide)){a.image.isMoved||(a.image.width=a.gesture.image[0].offsetWidth,a.image.height=a.gesture.image[0].offsetHeight,a.image.startX=S.getTranslate(a.gesture.imageWrap[0],"x")||0,a.image.startY=S.getTranslate(a.gesture.imageWrap[0],"y")||0,a.gesture.slideWidth=a.gesture.slide[0].offsetWidth,a.gesture.slideHeight=a.gesture.slide[0].offsetHeight,a.gesture.imageWrap.transition(0));var t=a.image.width*a.scale,s=a.image.height*a.scale;if(!(t<a.gesture.slideWidth&&s<a.gesture.slideHeight)){if(a.image.minX=Math.min(a.gesture.slideWidth/2-t/2,0),a.image.maxX=-a.image.minX,a.image.minY=Math.min(a.gesture.slideHeight/2-s/2,0),a.image.maxY=-a.image.minY,a.image.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,a.image.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!a.image.isMoved&&!a.isScaling){if(S.isHorizontal()&&Math.floor(a.image.minX)===Math.floor(a.image.startX)&&a.image.touchesCurrent.x<a.image.touchesStart.x||Math.floor(a.image.maxX)===Math.floor(a.image.startX)&&a.image.touchesCurrent.x>a.image.touchesStart.x){return void (a.image.isTouched=!1)}if(!S.isHorizontal()&&Math.floor(a.image.minY)===Math.floor(a.image.startY)&&a.image.touchesCurrent.y<a.image.touchesStart.y||Math.floor(a.image.maxY)===Math.floor(a.image.startY)&&a.image.touchesCurrent.y>a.image.touchesStart.y){return void (a.image.isTouched=!1)}}e.preventDefault(),e.stopPropagation(),a.image.isMoved=!0,a.image.currentX=a.image.touchesCurrent.x-a.image.touchesStart.x+a.image.startX,a.image.currentY=a.image.touchesCurrent.y-a.image.touchesStart.y+a.image.startY,a.image.currentX<a.image.minX&&(a.image.currentX=a.image.minX+1-Math.pow(a.image.minX-a.image.currentX+1,0.8)),a.image.currentX>a.image.maxX&&(a.image.currentX=a.image.maxX-1+Math.pow(a.image.currentX-a.image.maxX+1,0.8)),a.image.currentY<a.image.minY&&(a.image.currentY=a.image.minY+1-Math.pow(a.image.minY-a.image.currentY+1,0.8)),a.image.currentY>a.image.maxY&&(a.image.currentY=a.image.maxY-1+Math.pow(a.image.currentY-a.image.maxY+1,0.8)),a.velocity.prevPositionX||(a.velocity.prevPositionX=a.image.touchesCurrent.x),a.velocity.prevPositionY||(a.velocity.prevPositionY=a.image.touchesCurrent.y),a.velocity.prevTime||(a.velocity.prevTime=Date.now()),a.velocity.x=(a.image.touchesCurrent.x-a.velocity.prevPositionX)/(Date.now()-a.velocity.prevTime)/2,a.velocity.y=(a.image.touchesCurrent.y-a.velocity.prevPositionY)/(Date.now()-a.velocity.prevTime)/2,Math.abs(a.image.touchesCurrent.x-a.velocity.prevPositionX)<2&&(a.velocity.x=0),Math.abs(a.image.touchesCurrent.y-a.velocity.prevPositionY)<2&&(a.velocity.y=0),a.velocity.prevPositionX=a.image.touchesCurrent.x,a.velocity.prevPositionY=a.image.touchesCurrent.y,a.velocity.prevTime=Date.now(),a.gesture.imageWrap.transform("translate3d("+a.image.currentX+"px, "+a.image.currentY+"px,0)")}}},onTouchEnd:function(e,a){var t=e.zoom;if(t.gesture.image&&0!==t.gesture.image.length){if(!t.image.isTouched||!t.image.isMoved){return t.image.isTouched=!1,void (t.image.isMoved=!1)}t.image.isTouched=!1,t.image.isMoved=!1;var s=300,i=300,r=t.velocity.x*s,n=t.image.currentX+r,o=t.velocity.y*i,l=t.image.currentY+o;0!==t.velocity.x&&(s=Math.abs((n-t.image.currentX)/t.velocity.x)),0!==t.velocity.y&&(i=Math.abs((l-t.image.currentY)/t.velocity.y));var p=Math.max(s,i);t.image.currentX=n,t.image.currentY=l;var d=t.image.width*t.scale,u=t.image.height*t.scale;t.image.minX=Math.min(t.gesture.slideWidth/2-d/2,0),t.image.maxX=-t.image.minX,t.image.minY=Math.min(t.gesture.slideHeight/2-u/2,0),t.image.maxY=-t.image.minY,t.image.currentX=Math.max(Math.min(t.image.currentX,t.image.maxX),t.image.minX),t.image.currentY=Math.max(Math.min(t.image.currentY,t.image.maxY),t.image.minY),t.gesture.imageWrap.transition(p).transform("translate3d("+t.image.currentX+"px, "+t.image.currentY+"px,0)")}},onTransitionEnd:function(e){var a=e.zoom;a.gesture.slide&&e.previousIndex!==e.activeIndex&&(a.gesture.image.transform("translate3d(0,0,0) scale(1)"),a.gesture.imageWrap.transform("translate3d(0,0,0)"),a.gesture.slide=a.gesture.image=a.gesture.imageWrap=void 0,a.scale=a.currentScale=1)},toggleZoom:function(e,t){var s=e.zoom;if(s.gesture.slide||(s.gesture.slide=e.clickedSlide?a(e.clickedSlide):e.slides.eq(e.activeIndex),s.gesture.image=s.gesture.slide.find("img, svg, canvas"),s.gesture.imageWrap=s.gesture.image.parent("."+e.params.zoomContainerClass)),s.gesture.image&&0!==s.gesture.image.length){var i,r,n,o,l,p,d,u,c,m,h,g,f,v,w,y,x,T;"undefined"==typeof s.image.touchesStart.x&&t?(i="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,r="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(i=s.image.touchesStart.x,r=s.image.touchesStart.y),s.scale&&1!==s.scale?(s.scale=s.currentScale=1,s.gesture.imageWrap.transition(300).transform("translate3d(0,0,0)"),s.gesture.image.transition(300).transform("translate3d(0,0,0) scale(1)"),s.gesture.slide=void 0):(s.scale=s.currentScale=s.gesture.imageWrap.attr("data-swiper-zoom")||e.params.zoomMax,t?(x=s.gesture.slide[0].offsetWidth,T=s.gesture.slide[0].offsetHeight,n=s.gesture.slide.offset().left,o=s.gesture.slide.offset().top,l=n+x/2-i,p=o+T/2-r,c=s.gesture.image[0].offsetWidth,m=s.gesture.image[0].offsetHeight,h=c*s.scale,g=m*s.scale,f=Math.min(x/2-h/2,0),v=Math.min(T/2-g/2,0),w=-f,y=-v,d=l*s.scale,u=p*s.scale,d<f&&(d=f),d>w&&(d=w),u<v&&(u=v),u>y&&(u=y)):(d=0,u=0),s.gesture.imageWrap.transition(300).transform("translate3d("+d+"px, "+u+"px,0)"),s.gesture.image.transition(300).transform("translate3d(0,0,0) scale("+s.scale+")"))}},attachEvents:function(e){var t=e?"off":"on";if(S.params.zoom){var s=(S.slides,!("touchstart"!==S.touchEvents.start||!S.support.passiveListener||!S.params.passiveListeners)&&{passive:!0,capture:!1});S.support.gestures?(S.slides[t]("gesturestart",S.zoom.onGestureStart,s),S.slides[t]("gesturechange",S.zoom.onGestureChange,s),S.slides[t]("gestureend",S.zoom.onGestureEnd,s)):"touchstart"===S.touchEvents.start&&(S.slides[t](S.touchEvents.start,S.zoom.onGestureStart,s),S.slides[t](S.touchEvents.move,S.zoom.onGestureChange,s),S.slides[t](S.touchEvents.end,S.zoom.onGestureEnd,s)),S[t]("touchStart",S.zoom.onTouchStart),S.slides.each(function(e,s){a(s).find("."+S.params.zoomContainerClass).length>0&&a(s)[t](S.touchEvents.move,S.zoom.onTouchMove)}),S[t]("touchEnd",S.zoom.onTouchEnd),S[t]("transitionEnd",S.zoom.onTransitionEnd),S.params.zoomToggle&&S.on("doubleTap",S.zoom.toggleZoom)}},init:function(){S.zoom.attachEvents()},destroy:function(){S.zoom.attachEvents(!0)}},S._plugins=[];for(var N in S.plugins){var W=S.plugins[N](S,S.params[N]);W&&S._plugins.push(W)}return S.callPlugins=function(e){for(var a=0;a<S._plugins.length;a++){e in S._plugins[a]&&S._plugins[a][e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}},S.emitterEventListeners={},S.emit=function(e){S.params[e]&&S.params[e](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);var a;if(S.emitterEventListeners[e]){for(a=0;a<S.emitterEventListeners[e].length;a++){S.emitterEventListeners[e][a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}S.callPlugins&&S.callPlugins(e,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},S.on=function(e,a){return e=g(e),S.emitterEventListeners[e]||(S.emitterEventListeners[e]=[]),S.emitterEventListeners[e].push(a),S},S.off=function(e,a){var t;if(e=g(e),"undefined"==typeof a){return S.emitterEventListeners[e]=[],S}if(S.emitterEventListeners[e]&&0!==S.emitterEventListeners[e].length){for(t=0;t<S.emitterEventListeners[e].length;t++){S.emitterEventListeners[e][t]===a&&S.emitterEventListeners[e].splice(t,1)}return S}},S.once=function(e,a){e=g(e);var t=function(){a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),S.off(e,t)};return S.on(e,t),S},S.a11y={makeFocusable:function(e){return e.attr("tabIndex","0"),e},addRole:function(e,a){return e.attr("role",a),e},addLabel:function(e,a){return e.attr("aria-label",a),e},disable:function(e){return e.attr("aria-disabled",!0),e},enable:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){13===e.keyCode&&(a(e.target).is(S.params.nextButton)?(S.onClickNext(e),S.isEnd?S.a11y.notify(S.params.lastSlideMessage):S.a11y.notify(S.params.nextSlideMessage)):a(e.target).is(S.params.prevButton)&&(S.onClickPrev(e),S.isBeginning?S.a11y.notify(S.params.firstSlideMessage):S.a11y.notify(S.params.prevSlideMessage)),a(e.target).is("."+S.params.bulletClass)&&a(e.target)[0].click())},liveRegion:a('<span class="'+S.params.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>'),notify:function(e){var a=S.a11y.liveRegion;0!==a.length&&(a.html(""),a.html(e))},init:function(){S.params.nextButton&&S.nextButton&&S.nextButton.length>0&&(S.a11y.makeFocusable(S.nextButton),S.a11y.addRole(S.nextButton,"button"),S.a11y.addLabel(S.nextButton,S.params.nextSlideMessage)),S.params.prevButton&&S.prevButton&&S.prevButton.length>0&&(S.a11y.makeFocusable(S.prevButton),S.a11y.addRole(S.prevButton,"button"),S.a11y.addLabel(S.prevButton,S.params.prevSlideMessage)),a(S.container).append(S.a11y.liveRegion)},initPagination:function(){S.params.pagination&&S.params.paginationClickable&&S.bullets&&S.bullets.length&&S.bullets.each(function(){var e=a(this);S.a11y.makeFocusable(e),S.a11y.addRole(e,"button"),S.a11y.addLabel(e,S.params.paginationBulletMessage.replace(/{{index}}/,e.index()+1))})},destroy:function(){S.a11y.liveRegion&&S.a11y.liveRegion.length>0&&S.a11y.liveRegion.remove()}},S.init=function(){S.params.loop&&S.createLoop(),S.updateContainerSize(),S.updateSlidesSize(),S.updatePagination(),S.params.scrollbar&&S.scrollbar&&(S.scrollbar.set(),S.params.scrollbarDraggable&&S.scrollbar.enableDraggable()),"slide"!==S.params.effect&&S.effects[S.params.effect]&&(S.params.loop||S.updateProgress(),S.effects[S.params.effect].setTranslate()),S.params.loop?S.slideTo(S.params.initialSlide+S.loopedSlides,0,S.params.runCallbacksOnInit):(S.slideTo(S.params.initialSlide,0,S.params.runCallbacksOnInit),0===S.params.initialSlide&&(S.parallax&&S.params.parallax&&S.parallax.setTranslate(),S.lazy&&S.params.lazyLoading&&(S.lazy.load(),S.lazy.initialImageLoaded=!0))),S.attachEvents(),S.params.observer&&S.support.observer&&S.initObservers(),S.params.preloadImages&&!S.params.lazyLoading&&S.preloadImages(),S.params.zoom&&S.zoom&&S.zoom.init(),S.params.autoplay&&S.startAutoplay(),S.params.keyboardControl&&S.enableKeyboardControl&&S.enableKeyboardControl(),S.params.mousewheelControl&&S.enableMousewheelControl&&S.enableMousewheelControl(),S.params.hashnavReplaceState&&(S.params.replaceState=S.params.hashnavReplaceState),S.params.history&&S.history&&S.history.init(),S.params.hashnav&&S.hashnav&&S.hashnav.init(),S.params.a11y&&S.a11y&&S.a11y.init(),S.emit("onInit",S)},S.cleanupStyles=function(){S.container.removeClass(S.classNames.join(" ")).removeAttr("style"),S.wrapper.removeAttr("style"),S.slides&&S.slides.length&&S.slides.removeClass([S.params.slideVisibleClass,S.params.slideActiveClass,S.params.slideNextClass,S.params.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-column").removeAttr("data-swiper-row"),S.paginationContainer&&S.paginationContainer.length&&S.paginationContainer.removeClass(S.params.paginationHiddenClass),S.bullets&&S.bullets.length&&S.bullets.removeClass(S.params.bulletActiveClass),S.params.prevButton&&a(S.params.prevButton).removeClass(S.params.buttonDisabledClass),S.params.nextButton&&a(S.params.nextButton).removeClass(S.params.buttonDisabledClass),S.params.scrollbar&&S.scrollbar&&(S.scrollbar.track&&S.scrollbar.track.length&&S.scrollbar.track.removeAttr("style"),S.scrollbar.drag&&S.scrollbar.drag.length&&S.scrollbar.drag.removeAttr("style"))},S.destroy=function(e,a){S.detachEvents(),S.stopAutoplay(),S.params.scrollbar&&S.scrollbar&&S.params.scrollbarDraggable&&S.scrollbar.disableDraggable(),S.params.loop&&S.destroyLoop(),a&&S.cleanupStyles(),S.disconnectObservers(),S.params.zoom&&S.zoom&&S.zoom.destroy(),S.params.keyboardControl&&S.disableKeyboardControl&&S.disableKeyboardControl(),S.params.mousewheelControl&&S.disableMousewheelControl&&S.disableMousewheelControl(),S.params.a11y&&S.a11y&&S.a11y.destroy(),S.params.history&&!S.params.replaceState&&window.removeEventListener("popstate",S.history.setHistoryPopState),S.params.hashnav&&S.hashnav&&S.hashnav.destroy(),S.emit("onDestroy"),e!==!1&&(S=null)},S.init(),S}};t.prototype={isSafari:function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},browser:{ie:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,ieTouch:window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>1||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>1,lteIE9:function(){var e=document.createElement("div");return e.innerHTML="<!--[if lte IE 9]><i></i><![endif]-->",1===e.getElementsByTagName("i").length}()},device:function(){var e=navigator.userAgent,a=e.match(/(Android);?[\s\/]+([\d.]+)?/),t=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),i=!t&&e.match(/(iPhone\sOS)\s([\d_]+)/);return{ios:t||i||s,android:a}}(),support:{touch:window.Modernizr&&Modernizr.touch===!0||function(){return !!("ontouchstart" in window||window.DocumentTouch&&document instanceof DocumentTouch)}(),transforms3d:window.Modernizr&&Modernizr.csstransforms3d===!0||function(){var e=document.createElement("div").style;return"webkitPerspective" in e||"MozPerspective" in e||"OPerspective" in e||"MsPerspective" in e||"perspective" in e}(),flexbox:function(){for(var e=document.createElement("div").style,a="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),t=0;t<a.length;t++){if(a[t] in e){return !0}}}(),observer:function(){return"MutationObserver" in window||"WebkitMutationObserver" in window}(),passiveListener:function(){var e=!1;try{var a=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveListener",null,a)}catch(e){}return e}(),gestures:function(){return"ongesturestart" in window}()},plugins:{}};for(var s=(function(){var e=function(e){var a=this,t=0;for(t=0;t<e.length;t++){a[t]=e[t]}return a.length=e.length,this},a=function(a,t){var s=[],i=0;if(a&&!t&&a instanceof e){return a}if(a){if("string"==typeof a){var r,n,o=a.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";for(0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select"),n=document.createElement(l),n.innerHTML=a,i=0;i<n.childNodes.length;i++){s.push(n.childNodes[i])}}else{for(r=t||"#"!==a[0]||a.match(/[ .<>:~]/)?(t||document).querySelectorAll(a):[document.getElementById(a.split("#")[1])],i=0;i<r.length;i++){r[i]&&s.push(r[i])}}}else{if(a.nodeType||a===window||a===document){s.push(a)}else{if(a.length>0&&a[0].nodeType){for(i=0;i<a.length;i++){s.push(a[i])}}}}}return new e(s)};return e.prototype={addClass:function(e){if("undefined"==typeof e){return this}for(var a=e.split(" "),t=0;t<a.length;t++){for(var s=0;s<this.length;s++){this[s].classList.add(a[t])}}return this},removeClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++){for(var s=0;s<this.length;s++){this[s].classList.remove(a[t])}}return this},hasClass:function(e){return !!this[0]&&this[0].classList.contains(e)},toggleClass:function(e){for(var a=e.split(" "),t=0;t<a.length;t++){for(var s=0;s<this.length;s++){this[s].classList.toggle(a[t])}}return this},attr:function(e,a){if(1===arguments.length&&"string"==typeof e){return this[0]?this[0].getAttribute(e):void 0}for(var t=0;t<this.length;t++){if(2===arguments.length){this[t].setAttribute(e,a)}else{for(var s in e){this[t][s]=e[s],this[t].setAttribute(s,e[s])}}}return this},removeAttr:function(e){for(var a=0;a<this.length;a++){this[a].removeAttribute(e)}return this},data:function(e,a){if("undefined"!=typeof a){for(var t=0;t<this.length;t++){var s=this[t];s.dom7ElementDataStorage||(s.dom7ElementDataStorage={}),s.dom7ElementDataStorage[e]=a}return this}if(this[0]){var i=this[0].getAttribute("data-"+e);return i?i:this[0].dom7ElementDataStorage&&e in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[e]:void 0}},transform:function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this},transition:function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this},on:function(e,t,s,i){function r(e){var i=e.target;if(a(i).is(t)){s.call(i,e)}else{for(var r=a(i).parents(),n=0;n<r.length;n++){a(r[n]).is(t)&&s.call(r[n],e)}}}var n,o,l=e.split(" ");for(n=0;n<this.length;n++){if("function"==typeof t||t===!1){for("function"==typeof t&&(s=arguments[1],i=arguments[2]||!1),o=0;o<l.length;o++){this[n].addEventListener(l[o],s,i)}}else{for(o=0;o<l.length;o++){this[n].dom7LiveListeners||(this[n].dom7LiveListeners=[]),this[n].dom7LiveListeners.push({listener:s,liveListener:r}),this[n].addEventListener(l[o],r,i)}}}return this},off:function(e,a,t,s){for(var i=e.split(" "),r=0;r<i.length;r++){for(var n=0;n<this.length;n++){if("function"==typeof a||a===!1){"function"==typeof a&&(t=arguments[1],s=arguments[2]||!1),this[n].removeEventListener(i[r],t,s)}else{if(this[n].dom7LiveListeners){for(var o=0;o<this[n].dom7LiveListeners.length;o++){this[n].dom7LiveListeners[o].listener===t&&this[n].removeEventListener(i[r],this[n].dom7LiveListeners[o].liveListener,s)}}}}}return this},once:function(e,a,t,s){function i(n){t(n),r.off(e,a,i,s)}var r=this;"function"==typeof a&&(a=!1,t=arguments[1],s=arguments[2]),r.on(e,a,i,s)},trigger:function(e,a){for(var t=0;t<this.length;t++){var s;try{s=new window.CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0})}catch(t){s=document.createEvent("Event"),s.initEvent(e,!0,!0),s.detail=a}this[t].dispatchEvent(s)}return this},transitionEnd:function(e){function a(r){if(r.target===this){for(e.call(this,r),t=0;t<s.length;t++){i.off(s[t],a)}}}var t,s=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e){for(t=0;t<s.length;t++){i.on(s[t],a)}}return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(e){return this.length>0?e?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var e=this[0],a=e.getBoundingClientRect(),t=document.body,s=e.clientTop||t.clientTop||0,i=e.clientLeft||t.clientLeft||0,r=window.pageYOffset||e.scrollTop,n=window.pageXOffset||e.scrollLeft;return{top:a.top+r-s,left:a.left+n-i}}return null},css:function(e,a){var t;if(1===arguments.length){if("string"!=typeof e){for(t=0;t<this.length;t++){for(var s in e){this[t].style[s]=e[s]}}return this}if(this[0]){return window.getComputedStyle(this[0],null).getPropertyValue(e)}}if(2===arguments.length&&"string"==typeof e){for(t=0;t<this.length;t++){this[t].style[e]=a}return this}return this},each:function(e){for(var a=0;a<this.length;a++){e.call(this[a],a,this[a])}return this},html:function(e){if("undefined"==typeof e){return this[0]?this[0].innerHTML:void 0}for(var a=0;a<this.length;a++){this[a].innerHTML=e}return this},text:function(e){if("undefined"==typeof e){return this[0]?this[0].textContent.trim():null}for(var a=0;a<this.length;a++){this[a].textContent=e}return this},is:function(t){if(!this[0]){return !1}var s,i;if("string"==typeof t){var r=this[0];if(r===document){return t===document}if(r===window){return t===window}if(r.matches){return r.matches(t)}if(r.webkitMatchesSelector){return r.webkitMatchesSelector(t)}if(r.mozMatchesSelector){return r.mozMatchesSelector(t)}if(r.msMatchesSelector){return r.msMatchesSelector(t)}for(s=a(t),i=0;i<s.length;i++){if(s[i]===this[0]){return !0}}return !1}if(t===document){return this[0]===document}if(t===window){return this[0]===window}if(t.nodeType||t instanceof e){for(s=t.nodeType?[t]:t,i=0;i<s.length;i++){if(s[i]===this[0]){return !0}}return !1}return !1},index:function(){if(this[0]){for(var e=this[0],a=0;null!==(e=e.previousSibling);){1===e.nodeType&&a++}return a}},eq:function(a){if("undefined"==typeof a){return this}var t,s=this.length;return a>s-1?new e([]):a<0?(t=s+a,new e(t<0?[]:[this[t]])):new e([this[a]])},append:function(a){var t,s;for(t=0;t<this.length;t++){if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a;i.firstChild;){this[t].appendChild(i.firstChild)}}else{if(a instanceof e){for(s=0;s<a.length;s++){this[t].appendChild(a[s])}}else{this[t].appendChild(a)}}}return this},prepend:function(a){var t,s;for(t=0;t<this.length;t++){if("string"==typeof a){var i=document.createElement("div");for(i.innerHTML=a,s=i.childNodes.length-1;s>=0;s--){this[t].insertBefore(i.childNodes[s],this[t].childNodes[0])}}else{if(a instanceof e){for(s=0;s<a.length;s++){this[t].insertBefore(a[s],this[t].childNodes[0])}}else{this[t].insertBefore(a,this[t].childNodes[0])}}}return this},insertBefore:function(e){for(var t=a(e),s=0;s<this.length;s++){if(1===t.length){t[0].parentNode.insertBefore(this[s],t[0])}else{if(t.length>1){for(var i=0;i<t.length;i++){t[i].parentNode.insertBefore(this[s].cloneNode(!0),t[i])}}}}},insertAfter:function(e){for(var t=a(e),s=0;s<this.length;s++){if(1===t.length){t[0].parentNode.insertBefore(this[s],t[0].nextSibling)}else{if(t.length>1){for(var i=0;i<t.length;i++){t[i].parentNode.insertBefore(this[s].cloneNode(!0),t[i].nextSibling)}}}}},next:function(t){return new e(this.length>0?t?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(t)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(t){var s=[],i=this[0];if(!i){return new e([])}for(;i.nextElementSibling;){var r=i.nextElementSibling;t?a(r).is(t)&&s.push(r):s.push(r),i=r}return new e(s)},prev:function(t){return new e(this.length>0?t?this[0].previousElementSibling&&a(this[0].previousElementSibling).is(t)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(t){var s=[],i=this[0];if(!i){return new e([])}for(;i.previousElementSibling;){var r=i.previousElementSibling;t?a(r).is(t)&&s.push(r):s.push(r),i=r}return new e(s)},parent:function(e){for(var t=[],s=0;s<this.length;s++){e?a(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode)}return a(a.unique(t))},parents:function(e){for(var t=[],s=0;s<this.length;s++){for(var i=this[s].parentNode;i;){e?a(i).is(e)&&t.push(i):t.push(i),i=i.parentNode}}return a(a.unique(t))},find:function(a){for(var t=[],s=0;s<this.length;s++){for(var i=this[s].querySelectorAll(a),r=0;r<i.length;r++){t.push(i[r])}}return new e(t)},children:function(t){for(var s=[],i=0;i<this.length;i++){for(var r=this[i].childNodes,n=0;n<r.length;n++){t?1===r[n].nodeType&&a(r[n]).is(t)&&s.push(r[n]):1===r[n].nodeType&&s.push(r[n])}}return new e(a.unique(s))},remove:function(){for(var e=0;e<this.length;e++){this[e].parentNode&&this[e].parentNode.removeChild(this[e])}return this},add:function(){var e,t,s=this;for(e=0;e<arguments.length;e++){var i=a(arguments[e]);for(t=0;t<i.length;t++){s[s.length]=i[t],s.length++}}return s}},a.fn=e.prototype,a.unique=function(e){for(var a=[],t=0;t<e.length;t++){a.indexOf(e[t])===-1&&a.push(e[t])}return a},a}()),i=["jQuery","Zepto","Dom7"],r=0;r<i.length;r++){window[i[r]]&&e(window[i[r]])}var n;n="undefined"==typeof s?window.Dom7||window.Zepto||window.jQuery:s,n&&("transitionEnd" in n.fn||(n.fn.transitionEnd=function(e){function a(r){if(r.target===this){for(e.call(this,r),t=0;t<s.length;t++){i.off(s[t],a)}}}var t,s=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],i=this;if(e){for(t=0;t<s.length;t++){i.on(s[t],a)}}return this}),"transform" in n.fn||(n.fn.transform=function(e){for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransform=t.MsTransform=t.msTransform=t.MozTransform=t.OTransform=t.transform=e}return this}),"transition" in n.fn||(n.fn.transition=function(e){"string"!=typeof e&&(e+="ms");for(var a=0;a<this.length;a++){var t=this[a].style;t.webkitTransitionDuration=t.MsTransitionDuration=t.msTransitionDuration=t.MozTransitionDuration=t.OTransitionDuration=t.transitionDuration=e}return this}),"outerWidth" in n.fn||(n.fn.outerWidth=function(e){return this.length>0?e?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null})),window.Swiper=t}(),"undefined"!=typeof module?module.exports=window.Swiper:"function"==typeof define&&define.amd&&define([],function(){return window.Swiper});
////Appending Script  == >alertify.js
(function(){var TRANSITION_FALLBACK_DURATION=500;var hideElement=function(el){if(!el){return}var removeThis=function(){if(el&&el.parentNode){el.parentNode.removeChild(el)}};el.classList.remove("show");el.classList.add("hide");el.addEventListener("transitionend",removeThis);setTimeout(removeThis,TRANSITION_FALLBACK_DURATION)};function Alertify(){var _alertify={parent:document.body,version:"1.0.11",defaultOkLabel:"Ok",okLabel:"Ok",defaultCancelLabel:"Cancel",cancelLabel:"Cancel",defaultMaxLogItems:2,maxLogItems:2,promptValue:"",promptPlaceholder:"",closeLogOnClick:false,closeLogOnClickDefault:false,delay:5000,defaultDelay:5000,logContainerClass:"alertify-logs",logContainerDefaultClass:"alertify-logs",dialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},defaultDialogs:{buttons:{holder:"<nav>{{buttons}}</nav>",ok:"<button class='ok' tabindex='1'>{{ok}}</button>",cancel:"<button class='cancel' tabindex='2'>{{cancel}}</button>"},input:"<input type='text'>",message:"<p class='msg'>{{message}}</p>",log:"<div class='{{class}}'>{{message}}</div>"},build:function(item){var btnTxt=this.dialogs.buttons.ok;var html="<div class='dialog'><div>"+this.dialogs.message.replace("{{message}}",item.message);if(item.type==="confirm"||item.type==="prompt"){btnTxt=this.dialogs.buttons.cancel+this.dialogs.buttons.ok}if(item.type==="prompt"){html+=this.dialogs.input}html=(html+this.dialogs.buttons.holder+"</div></div>").replace("{{buttons}}",btnTxt).replace("{{ok}}",this.okLabel).replace("{{cancel}}",this.cancelLabel);return html},setCloseLogOnClick:function(bool){this.closeLogOnClick=!!bool},close:function(elem,wait){if(this.closeLogOnClick){elem.addEventListener("click",function(){hideElement(elem)})}wait=wait&&!isNaN(+wait)?+wait:this.delay;if(wait<0){hideElement(elem)}else{if(wait>0){setTimeout(function(){hideElement(elem)},wait)}}},dialog:function(message,type,onOkay,onCancel){return this.setup({type:type,message:message,onOkay:onOkay,onCancel:onCancel})},log:function(message,type,click){var existing=document.querySelectorAll(".alertify-logs > div");if(existing){var diff=existing.length-this.maxLogItems;if(diff>=0){for(var i=0,_i=diff+1;i<_i;i++){this.close(existing[i],-1)}}}this.notify(message,type,click)},setLogPosition:function(str){this.logContainerClass="alertify-logs "+str},setupLogContainer:function(){var elLog=document.querySelector(".alertify-logs");var className=this.logContainerClass;if(!elLog){elLog=document.createElement("div");elLog.className=className;this.parent.appendChild(elLog)}if(elLog.className!==className){elLog.className=className}return elLog},notify:function(message,type,click){var elLog=this.setupLogContainer();var log=document.createElement("div");log.className=(type||"default");if(_alertify.logTemplateMethod){log.innerHTML=_alertify.logTemplateMethod(message)}else{log.innerHTML=message}if("function"===typeof click){log.addEventListener("click",click)}elLog.appendChild(log);setTimeout(function(){log.className+=" show"},10);this.close(log,this.delay)},setup:function(item){var el=document.createElement("div");el.className="alertify hide";el.innerHTML=this.build(item);var btnOK=el.querySelector(".ok");var btnCancel=el.querySelector(".cancel");var input=el.querySelector("input");var label=el.querySelector("label");if(input){if(typeof this.promptPlaceholder==="string"){if(label){label.textContent=this.promptPlaceholder}else{input.placeholder=this.promptPlaceholder}}if(typeof this.promptValue==="string"){input.value=this.promptValue}}function setupHandlers(resolve){if("function"!==typeof resolve){resolve=function(){}}if(btnOK){btnOK.addEventListener("click",function(ev){if(item.onOkay&&"function"===typeof item.onOkay){if(input){item.onOkay(input.value,ev)}else{item.onOkay(ev)}}if(input){resolve({buttonClicked:"ok",inputValue:input.value,event:ev})}else{resolve({buttonClicked:"ok",event:ev})}hideElement(el)})}if(btnCancel){btnCancel.addEventListener("click",function(ev){if(item.onCancel&&"function"===typeof item.onCancel){item.onCancel(ev)}resolve({buttonClicked:"cancel",event:ev});hideElement(el)})}if(input){input.addEventListener("keyup",function(ev){if(ev.which===13){btnOK.click()}})}}var promise;if(typeof Promise==="function"){promise=new Promise(setupHandlers)}else{setupHandlers()}this.parent.appendChild(el);setTimeout(function(){el.classList.remove("hide");if(input&&item.type&&item.type==="prompt"){input.select();input.focus()}else{if(btnOK){btnOK.focus()}}},100);return promise},okBtn:function(label){this.okLabel=label;return this},setDelay:function(time){time=time||0;this.delay=isNaN(time)?this.defaultDelay:parseInt(time,10);return this},cancelBtn:function(str){this.cancelLabel=str;return this},setMaxLogItems:function(num){this.maxLogItems=parseInt(num||this.defaultMaxLogItems)},theme:function(themeStr){switch(themeStr.toLowerCase()){case"bootstrap":this.dialogs.buttons.ok="<button class='ok btn btn-primary' tabindex='1'>{{ok}}</button>";this.dialogs.buttons.cancel="<button class='cancel btn btn-default' tabindex='2'>{{cancel}}</button>";this.dialogs.input="<input type='text' class='form-control'>";break;case"purecss":this.dialogs.buttons.ok="<button class='ok pure-button' tabindex='1'>{{ok}}</button>";this.dialogs.buttons.cancel="<button class='cancel pure-button' tabindex='2'>{{cancel}}</button>";break;case"mdl":case"material-design-light":this.dialogs.buttons.ok="<button class='ok mdl-button mdl-js-button mdl-js-ripple-effect'  tabindex='1'>{{ok}}</button>";this.dialogs.buttons.cancel="<button class='cancel mdl-button mdl-js-button mdl-js-ripple-effect' tabindex='2'>{{cancel}}</button>";this.dialogs.input="<div class='mdl-textfield mdl-js-textfield'><input class='mdl-textfield__input'><label class='md-textfield__label'></label></div>";break;case"angular-material":this.dialogs.buttons.ok="<button class='ok md-primary md-button' tabindex='1'>{{ok}}</button>";this.dialogs.buttons.cancel="<button class='cancel md-button' tabindex='2'>{{cancel}}</button>";this.dialogs.input="<div layout='column'><md-input-container md-no-float><input type='text'></md-input-container></div>";break;case"default":default:this.dialogs.buttons.ok=this.defaultDialogs.buttons.ok;this.dialogs.buttons.cancel=this.defaultDialogs.buttons.cancel;this.dialogs.input=this.defaultDialogs.input;break}},reset:function(){this.parent=document.body;this.theme("default");this.okBtn(this.defaultOkLabel);this.cancelBtn(this.defaultCancelLabel);this.setMaxLogItems();this.promptValue="";this.promptPlaceholder="";this.delay=this.defaultDelay;this.setCloseLogOnClick(this.closeLogOnClickDefault);this.setLogPosition("bottom left");this.logTemplateMethod=null},injectCSS:function(){if(!document.querySelector("#alertifyCSS")){var head=document.getElementsByTagName("head")[0];var css=document.createElement("style");css.type="text/css";css.id="alertifyCSS";css.innerHTML="/* style.css */";head.insertBefore(css,head.firstChild)}},removeCSS:function(){var css=document.querySelector("#alertifyCSS");if(css&&css.parentNode){css.parentNode.removeChild(css)}}};_alertify.injectCSS();return{_$$alertify:_alertify,parent:function(elem){_alertify.parent=elem},reset:function(){_alertify.reset();return this},alert:function(message,onOkay,onCancel){return _alertify.dialog(message,"alert",onOkay,onCancel)||this},confirm:function(message,onOkay,onCancel){return _alertify.dialog(message,"confirm",onOkay,onCancel)||this},prompt:function(message,onOkay,onCancel){return _alertify.dialog(message,"prompt",onOkay,onCancel)||this},log:function(message,click){_alertify.log(message,"default",click);return this},theme:function(themeStr){_alertify.theme(themeStr);return this},success:function(message,click){_alertify.log(message,"success",click);return this},error:function(message,click){_alertify.log(message,"error",click);return this},cancelBtn:function(label){_alertify.cancelBtn(label);return this},okBtn:function(label){_alertify.okBtn(label);return this},delay:function(time){_alertify.setDelay(time);return this},placeholder:function(str){_alertify.promptPlaceholder=str;return this},defaultValue:function(str){_alertify.promptValue=str;return this},maxLogItems:function(num){_alertify.setMaxLogItems(num);return this},closeLogOnClick:function(bool){_alertify.setCloseLogOnClick(!!bool);return this},logPosition:function(str){_alertify.setLogPosition(str||"");return this},setLogTemplate:function(templateMethod){_alertify.logTemplateMethod=templateMethod;return this},clearLogs:function(){_alertify.setupLogContainer().innerHTML="";return this},version:_alertify.version}}if("undefined"!==typeof module&&!!module&&!!module.exports){module.exports=function(){return new Alertify()};var obj=new Alertify();for(var key in obj){module.exports[key]=obj[key]}}else{if(typeof define==="function"&&define.amd){define(function(){return new Alertify()})}else{window.alertify=new Alertify()}}}());
////Appending Script  == >require.js
var requirejs,require,define;!function(global,setTimeout){function commentReplace(e,t){return t||""}function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var i;for(i=0;i<e.length&&(!e[i]||!t(e[i],i,e));i+=1){}}}function eachReverse(e,t){if(e){var i;for(i=e.length-1;i>-1&&(!e[i]||!t(e[i],i,e));i-=1){}}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var i;for(i in e){if(hasProp(e,i)&&t(e[i],i)){break}}}function mixin(e,t,i,r){return t&&eachProp(t,function(t,n){!i&&hasProp(e,n)||(!r||"object"!=typeof t||!t||isArray(t)||isFunction(t)||t instanceof RegExp?e[n]=t:(e[n]||(e[n]={}),mixin(e[n],t,i,r)))}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e){return e}var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,i,r){var n=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return n.requireType=e,n.requireModules=r,i&&(n.originalError=i),n}function newContext(e){function t(e){var t,i;for(t=0;t<e.length;t++){if(i=e[t],"."===i){e.splice(t,1),t-=1}else{if(".."===i){if(0===t||1===t&&".."===e[2]||".."===e[t-1]){continue}t>0&&(e.splice(t-1,2),t-=2)}}}}function i(e,i,r){var n,o,a,s,u,c,d,p,f,l,h,m,g=i&&i.split("/"),v=y.map,x=v&&v["*"];if(e&&(e=e.split("/"),d=e.length-1,y.nodeIdCompat&&jsSuffixRegExp.test(e[d])&&(e[d]=e[d].replace(jsSuffixRegExp,"")),"."===e[0].charAt(0)&&g&&(m=g.slice(0,g.length-1),e=m.concat(e)),t(e),e=e.join("/")),r&&v&&(g||x)){a=e.split("/");e:for(s=a.length;s>0;s-=1){if(c=a.slice(0,s).join("/"),g){for(u=g.length;u>0;u-=1){if(o=getOwn(v,g.slice(0,u).join("/")),o&&(o=getOwn(o,c))){p=o,f=s;break e}}}!l&&x&&getOwn(x,c)&&(l=getOwn(x,c),h=s)}!p&&l&&(p=l,f=h),p&&(a.splice(0,f,p),e=a.join("/"))}return n=getOwn(y.pkgs,e),n?n:e}function r(e){isBrowser&&each(scripts(),function(t){if(t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===q.contextName){return t.parentNode.removeChild(t),!0}})}function n(e){var t=getOwn(y.paths,e);if(t&&isArray(t)&&t.length>1){return t.shift(),q.require.undef(e),q.makeRequire(null,{skipMap:!0})([e]),!0}}function o(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function a(e,t,r,n){var a,s,u,c,d=null,p=t?t.name:null,f=e,l=!0,h="";return e||(l=!1,e="_@r"+(T+=1)),c=o(e),d=c[0],e=c[1],d&&(d=i(d,p,n),s=getOwn(j,d)),e&&(d?h=s&&s.normalize?s.normalize(e,function(e){return i(e,p,n)}):e.indexOf("!")===-1?i(e,p,n):e:(h=i(e,p,n),c=o(h),d=c[0],h=c[1],r=!0,a=q.nameToUrl(h))),u=!d||s||r?"":"_unnormalized"+(A+=1),{prefix:d,name:h,parentMap:t,unnormalized:!!u,url:a,originalName:f,isDefine:l,id:(d?d+"!"+h:h)+u}}function s(e){var t=e.id,i=getOwn(S,t);return i||(i=S[t]=new q.Module(e)),i}function u(e,t,i){var r=e.id,n=getOwn(S,r);!hasProp(j,r)||n&&!n.defineEmitComplete?(n=s(e),n.error&&"error"===t?i(n.error):n.on(t,i)):"defined"===t&&i(j[r])}function c(e,t){var i=e.requireModules,r=!1;t?t(e):(each(i,function(t){var i=getOwn(S,t);i&&(i.error=e,i.events.error&&(r=!0,i.emit("error",e)))}),r||req.onError(e))}function d(){globalDefQueue.length&&(each(globalDefQueue,function(e){var t=e[0];"string"==typeof t&&(q.defQueueMap[t]=!0),O.push(e)}),globalDefQueue=[])}function p(e){delete S[e],delete k[e]}function f(e,t,i){var r=e.map.id;e.error?e.emit("error",e.error):(t[r]=!0,each(e.depMaps,function(r,n){var o=r.id,a=getOwn(S,o);!a||e.depMatched[n]||i[o]||(getOwn(t,o)?(e.defineDep(n,j[o]),e.check()):f(a,t,i))}),i[r]=!0)}function l(){var e,t,i=1000*y.waitSeconds,o=i&&q.startTime+i<(new Date).getTime(),a=[],s=[],u=!1,d=!0;if(!x){if(x=!0,eachProp(k,function(e){var i=e.map,c=i.id;if(e.enabled&&(i.isDefine||s.push(e),!e.error)){if(!e.inited&&o){n(c)?(t=!0,u=!0):(a.push(c),r(c))}else{if(!e.inited&&e.fetched&&i.isDefine&&(u=!0,!i.prefix)){return d=!1}}}}),o&&a.length){return e=makeError("timeout","Load timeout for modules: "+a,null,a),e.contextName=q.contextName,c(e)}d&&each(s,function(e){f(e,{},{})}),o&&!t||!u||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,l()},50)),x=!1}}function h(e){hasProp(j,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function m(e,t,i,r){e.detachEvent&&!isOpera?r&&e.detachEvent(r,t):e.removeEventListener(i,t,!1)}function g(e){var t=e.currentTarget||e.srcElement;return m(t,q.onScriptLoad,"load","onreadystatechange"),m(t,q.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(d();O.length;){if(e=O.shift(),null===e[0]){return c(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]))}h(e)}q.defQueueMap={}}var x,b,q,E,w,y={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},S={},k={},M={},O=[],j={},P={},R={},T=1,A=1;return E={require:function(e){return e.require?e.require:e.require=q.makeRequire(e.map)},exports:function(e){if(e.usingExports=!0,e.map.isDefine){return e.exports?j[e.map.id]=e.exports:e.exports=j[e.map.id]={}}},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){return getOwn(y.config,e.map.id)||{}},exports:e.exports||(e.exports={})}}},b=function(e){this.events=getOwn(M,e.id)||{},this.map=e,this.shim=getOwn(y.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,i,r){r=r||{},this.inited||(this.factory=t,i?this.on("error",i):this.events.error&&(i=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=i,this.inited=!0,this.ignore=r.ignore,r.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,q.startTime=(new Date).getTime();var e=this.map;return this.shim?void q.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;P[e]||(P[e]=!0,q.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,i=this.map.id,r=this.depExports,n=this.exports,o=this.factory;if(this.inited){if(this.error){this.emit("error",this.error)}else{if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError){try{n=q.execCb(i,o,r,n)}catch(t){e=t}}else{n=q.execCb(i,o,r,n)}if(this.map.isDefine&&void 0===n&&(t=this.module,t?n=t.exports:this.usingExports&&(n=this.exports)),e){return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",c(this.error=e)}}else{n=o}if(this.exports=n,this.map.isDefine&&!this.ignore&&(j[i]=n,req.onResourceLoad)){var a=[];each(this.depMaps,function(e){a.push(e.normalizedMap||e)}),req.onResourceLoad(q,this.map,a)}p(i),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}}else{hasProp(q.defQueueMap,i)||this.fetch()}}},callPlugin:function(){var e=this.map,t=e.id,r=a(e.prefix);this.depMaps.push(r),u(r,"defined",bind(this,function(r){var n,o,d,f=getOwn(R,this.map.id),l=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,m=q.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(r.normalize&&(l=r.normalize(l,function(e){return i(e,h,!0)})||""),o=a(e.prefix+"!"+l,this.map.parentMap),u(o,"defined",bind(this,function(e){this.map.normalizedMap=o,this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),d=getOwn(S,o.id),void (d&&(this.depMaps.push(o),this.events.error&&d.on("error",bind(this,function(e){this.emit("error",e)})),d.enable()))):f?(this.map.url=q.nameToUrl(f),void this.load()):(n=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),n.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(S,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&p(e.map.id)}),c(e)}),n.fromText=bind(this,function(i,r){var o=e.name,u=a(o),d=useInteractive;r&&(i=r),d&&(useInteractive=!1),s(u),hasProp(y.config,t)&&(y.config[o]=y.config[t]);try{req.exec(i)}catch(e){return c(makeError("fromtexteval","fromText eval for "+t+" failed: "+e,e,[t]))}d&&(useInteractive=!0),this.depMaps.push(u),q.completeLoad(o),m([o],n)}),void r.load(e.name,m,n,y))})),q.enable(r,this),this.pluginMaps[r.id]=r},enable:function(){k[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var i,r,n;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,n=getOwn(E,e.id)){return void (this.depExports[t]=n(this))}this.depCount+=1,u(e,"defined",bind(this,function(e){this.undefed||(this.defineDep(t,e),this.check())})),this.errback?u(e,"error",bind(this,this.errback)):this.events.error&&u(e,"error",bind(this,function(e){this.emit("error",e)}))}i=e.id,r=S[i],hasProp(E,i)||!r||r.enabled||q.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(S,e.id);t&&!t.enabled&&q.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var i=this.events[e];i||(i=this.events[e]=[]),i.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},q={config:y,contextName:e,registry:S,defined:j,urlFetched:P,defQueue:O,defQueueMap:{},Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:c,configure:function(e){if(e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/"),"string"==typeof e.urlArgs){var t=e.urlArgs;e.urlArgs=function(e,i){return(i.indexOf("?")===-1?"?":"&")+t}}var i=y.shim,r={paths:!0,bundles:!0,config:!0,map:!0};eachProp(e,function(e,t){r[t]?(y[t]||(y[t]={}),mixin(y[t],e,!0,!0)):y[t]=e}),e.bundles&&eachProp(e.bundles,function(e,t){each(e,function(e){e!==t&&(R[e]=t)})}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=q.makeShimExports(e)),i[t]=e}),y.shim=i),e.packages&&each(e.packages,function(e){var t,i;e="string"==typeof e?{name:e}:e,i=e.name,t=e.location,t&&(y.paths[i]=e.location),y.pkgs[i]=e.name+"/"+(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(S,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t,null,!0))}),(e.deps||e.callback)&&q.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,n){function o(i,r,u){var d,p,f;return n.enableBuildCallback&&r&&isFunction(r)&&(r.__requireJsBuild=!0),"string"==typeof i?isFunction(r)?c(makeError("requireargs","Invalid require call"),u):t&&hasProp(E,i)?E[i](S[t.id]):req.get?req.get(q,i,t,o):(p=a(i,t,!1,!0),d=p.id,hasProp(j,d)?j[d]:c(makeError("notloaded",'Module name "'+d+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),q.nextTick(function(){v(),f=s(a(null,t)),f.skipMap=n.skipMap,f.init(i,r,u,{enabled:!0}),l()}),o)}return n=n||{},mixin(o,{isBrowser:isBrowser,toUrl:function(e){var r,n=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return n!==-1&&(!a||n>1)&&(r=e.substring(n,e.length),e=e.substring(0,n)),q.nameToUrl(i(e,t&&t.id,!0),r,!0)},defined:function(e){return hasProp(j,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(j,e)||hasProp(S,e)}}),t||(o.undef=function(e){d();var i=a(e,t,!0),n=getOwn(S,e);n.undefed=!0,r(e),delete j[e],delete P[i.url],delete M[e],eachReverse(O,function(t,i){t[0]===e&&O.splice(i,1)}),delete q.defQueueMap[e],n&&(n.events.defined&&(M[e]=n.events),p(e))}),o},enable:function(e){var t=getOwn(S,e.id);t&&s(e).enable()},completeLoad:function(e){var t,i,r,o=getOwn(y.shim,e)||{},a=o.exports;for(d();O.length;){if(i=O.shift(),null===i[0]){if(i[0]=e,t){break}t=!0}else{i[0]===e&&(t=!0)}h(i)}if(q.defQueueMap={},r=getOwn(S,e),!t&&!hasProp(j,e)&&r&&!r.inited){if(!(!y.enforceDefine||a&&getGlobal(a))){return n(e)?void 0:c(makeError("nodefine","No define call for "+e,null,[e]))}h([e,o.deps||[],o.exportsFn])}l()},nameToUrl:function(e,t,i){var r,n,o,a,s,u,c,d=getOwn(y.pkgs,e);if(d&&(e=d),c=getOwn(R,e)){return q.nameToUrl(c,t,i)}if(req.jsExtRegExp.test(e)){s=e+(t||"")}else{for(r=y.paths,n=e.split("/"),o=n.length;o>0;o-=1){if(a=n.slice(0,o).join("/"),u=getOwn(r,a)){isArray(u)&&(u=u[0]),n.splice(0,o,u);break}}s=n.join("/"),s+=t||(/^data\:|^blob\:|\?/.test(s)||i?"":".js"),s=("/"===s.charAt(0)||s.match(/^[\w\+\.\-]+:/)?"":y.baseUrl)+s}return y.urlArgs&&!/^blob\:/.test(s)?s+y.urlArgs(e,s):s},load:function(e,t){req.load(q,e,t)},execCb:function(e,t,i,r){return t.apply(r,i)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=g(e);q.completeLoad(t.id)}},onScriptError:function(e){var t=g(e);if(!n(t.id)){var i=[];return eachProp(S,function(e,r){0!==r.indexOf("_@r")&&each(e.depMaps,function(e){if(e.id===t.id){return i.push(r),!0}})}),c(makeError("scripterror",'Script error for "'+t.id+(i.length?'", needed by: '+i.join(", "):'"'),e,[t.id]))}}},q.require=q.makeRequire(),q}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){if("interactive"===e.readyState){return interactiveScript=e}}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.2",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs)){return}cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,i,r){var n,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=i,i=r):e=[]),o&&o.context&&(a=o.context),n=getOwn(contexts,a),n||(n=contexts[a]=req.s.newContext(a)),o&&n.configure(o),n.require(e,t,i)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(e,t,i){var r=e.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return r.type=e.scriptType||"text/javascript",r.charset="utf-8",r.async=!0,r},req.load=function(e,t,i){var r,n=e&&e.config||{};if(isBrowser){return r=req.createNode(n,t,i),r.setAttribute("data-requirecontext",e.contextName),r.setAttribute("data-requiremodule",t),!r.attachEvent||r.attachEvent.toString&&r.attachEvent.toString().indexOf("[native code")<0||isOpera?(r.addEventListener("load",e.onScriptLoad,!1),r.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,r.attachEvent("onreadystatechange",e.onScriptLoad)),r.src=i,n.onNodeCreated&&n.onNodeCreated(r,n,t,i),currentlyAddingScript=r,baseElement?head.insertBefore(r,baseElement):head.appendChild(r),currentlyAddingScript=null,r}if(isWebWorker){try{setTimeout(function(){},0),importScripts(i),e.completeLoad(t)}catch(r){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+i,r,[t]))}}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(e){if(head||(head=e.parentNode),dataMain=e.getAttribute("data-main")){return mainScript=dataMain,cfg.baseUrl||mainScript.indexOf("!")!==-1||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}}),define=function(e,t,i){var r,n;"string"!=typeof e&&(i=t,t=e,e=null),isArray(t)||(i=t,t=null),!t&&isFunction(i)&&(t=[],i.length&&(i.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(e,i){t.push(i)}),t=(1===i.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(r=currentlyAddingScript||getInteractiveScript(),r&&(e||(e=r.getAttribute("data-requiremodule")),n=contexts[r.getAttribute("data-requirecontext")])),n?(n.defQueue.push([e,t,i]),n.defQueueMap[e]=!0):globalDefQueue.push([e,t,i])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout);
////Appending Script  == >modernizr.js
window.Modernizr=function(a,b,c){function z(a){j.cssText=a}function A(a,b){return z(m.join(a+";")+(b||""))}function B(a,b){return typeof a===b}function C(a,b){return !!~(""+a).indexOf(b)}function D(a,b){for(var d in a){var e=a[d];if(!C(e,"-")&&j[e]!==c){return b=="pfx"?e:!0}}return !1}function E(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c){return d===!1?a[e]:B(f,"function")?f.bind(d||b):f}}return !1}function F(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+o.join(d+" ")+d).split(" ");return B(b,"string")||B(b,"undefined")?D(e,b):(e=(a+" "+p.join(d+" ")+d).split(" "),E(e,b,c))}var d="2.6.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n="Webkit Moz O ms",o=n.split(" "),p=n.toLowerCase().split(" "),q={},r={},s={},t=[],u=t.slice,v,w=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10)){while(d--){j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j)}}return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},x={}.hasOwnProperty,y;!B(x,"undefined")&&!B(x.call,"undefined")?y=function(a,b){return x.call(a,b)}:y=function(a,b){return b in a&&B(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function"){throw new TypeError}var d=u.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(u.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(u.call(arguments)))};return e}),q.touch=function(){var c;return"ontouchstart" in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:w(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c},q.cssanimations=function(){return F("animationName")},q.csstransitions=function(){return F("transition")};for(var G in q){y(q,G)&&(v=G.toLowerCase(),e[v]=q[G](),t.push((e[v]?"":"no-")+v))}return e.addTest=function(a,b){if(typeof a=="object"){for(var d in a){y(a,d)&&e.addTest(d,a[d])}}else{a=a.toLowerCase();if(e[a]!==c){return e}b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},z(""),i=k=null,function(a,b){function k(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function l(){var a=r.elements;return typeof a=="string"?a.split(" "):a}function m(a){var b=i[a[g]];return b||(b={},h++,a[g]=h,i[h]=b),b}function n(a,c,f){c||(c=b);if(j){return c.createElement(a)}f||(f=m(c));var g;return f.cache[a]?g=f.cache[a].cloneNode():e.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),g.canHaveChildren&&!d.test(a)?f.frag.appendChild(g):g}function o(a,c){a||(a=b);if(j){return a.createDocumentFragment()}c=c||m(a);var d=c.frag.cloneNode(),e=0,f=l(),g=f.length;for(;e<g;e++){d.createElement(f[e])}return d}function p(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?n(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function q(a){a||(a=b);var c=m(a);return r.shivCSS&&!f&&!c.hasCSS&&(c.hasCSS=!!k(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),j||p(a,c),a}var c=a.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,f,g="_html5shiv",h=0,i={},j;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",f="hidden" in a,j=a.childNodes.length==1||function(){b.createElement("a");var a=b.createDocumentFragment();return typeof a.cloneNode=="undefined"||typeof a.createDocumentFragment=="undefined"||typeof a.createElement=="undefined"}()}catch(c){f=!0,j=!0}})();var r={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,supportsUnknownElements:j,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:q,createElement:n,createDocumentFragment:o};a.html5=r,q(b)}(this,b),e._version=d,e._prefixes=m,e._domPrefixes=p,e._cssomPrefixes=o,e.testProp=function(a){return D([a])},e.testAllProps=F,e.testStyles=w,e.prefixed=function(a,b,c){return b?F(a,b,c):F(a,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+t.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==o.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return !a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=p.shift();q=1,a?a.t?m(function(){("c"==a.t?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&m(function(){t.removeChild(l)},50);for(var d in y[c]){y[c].hasOwnProperty(d)&&y[c][d].onload()}}}var j=j||B.errorTimeout,l=b.createElement(a),o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};1===y[c]&&(r=1,y[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),"img"!=a&&(r||2===y[c]?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i("c"==b?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),1==p.length&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance" in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=a.opera&&"[object Opera]"==o.call(a.opera),l=!!b.attachEvent&&!l,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return"[object Array]"==o.call(a)},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++){g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g))}for(f=0;f<b;f++){c=x[f](c)}return c}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(y[i.url]?i.noexec=!0:y[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),y[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a)){c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h)}else{if(Object(a)===a){for(n in m=function(){var b=0,c;for(c in a){a.hasOwnProperty(c)&&b++}return b}(),a){a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}}}}else{!c&&l()}}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var i,j,l=this.yepnope.loader;if(e(a)){g(a,0,l,0)}else{if(w(a)){for(i=0;i<a.length;i++){j=a[i],e(j)?g(j,0,l,0):w(j)?B(j):Object(j)===j&&h(j,l)}}else{Object(a)===a&&h(a,l)}}},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=10000,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d){k.setAttribute(o,d[o])}c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d){e.setAttribute(j,d[j])}g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
////Appending Script  == >date.js
Date.CultureStrings=Date.CultureStrings||{};Date.CultureStrings["en-US"]={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",Su:"Su",Mo:"Mo",Tu:"Tu",We:"We",Th:"Th",Fr:"Fr",Sa:"Sa",S_Sun_Initial:"S",M_Mon_Initial:"M",T_Tue_Initial:"T",W_Wed_Initial:"W",T_Thu_Initial:"T",F_Fri_Initial:"F",S_Sat_Initial:"S",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",Jan_Abbr:"Jan",Feb_Abbr:"Feb",Mar_Abbr:"Mar",Apr_Abbr:"Apr",May_Abbr:"May",Jun_Abbr:"Jun",Jul_Abbr:"Jul",Aug_Abbr:"Aug",Sep_Abbr:"Sep",Oct_Abbr:"Oct",Nov_Abbr:"Nov",Dec_Abbr:"Dec",AM:"AM",PM:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,mdy:"mdy","M/d/yyyy":"M/d/yyyy","dddd, MMMM dd, yyyy":"dddd, MMMM dd, yyyy","h:mm tt":"h:mm tt","h:mm:ss tt":"h:mm:ss tt","dddd, MMMM dd, yyyy h:mm:ss tt":"dddd, MMMM dd, yyyy h:mm:ss tt","yyyy-MM-ddTHH:mm:ss":"yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ssZ":"yyyy-MM-dd HH:mm:ssZ","ddd, dd MMM yyyy HH:mm:ss":"ddd, dd MMM yyyy HH:mm:ss","MMMM dd":"MMMM dd","MMMM, yyyy":"MMMM, yyyy","/jan(uary)?/":"jan(uary)?","/feb(ruary)?/":"feb(ruary)?","/mar(ch)?/":"mar(ch)?","/apr(il)?/":"apr(il)?","/may/":"may","/jun(e)?/":"jun(e)?","/jul(y)?/":"jul(y)?","/aug(ust)?/":"aug(ust)?","/sep(t(ember)?)?/":"sep(t(ember)?)?","/oct(ober)?/":"oct(ober)?","/nov(ember)?/":"nov(ember)?","/dec(ember)?/":"dec(ember)?","/^su(n(day)?)?/":"^su(n(day)?)?","/^mo(n(day)?)?/":"^mo(n(day)?)?","/^tu(e(s(day)?)?)?/":"^tu(e(s(day)?)?)?","/^we(d(nesday)?)?/":"^we(d(nesday)?)?","/^th(u(r(s(day)?)?)?)?/":"^th(u(r(s(day)?)?)?)?","/^fr(i(day)?)?/":"^fr(i(day)?)?","/^sa(t(urday)?)?/":"^sa(t(urday)?)?","/^next/":"^next","/^last|past|prev(ious)?/":"^last|past|prev(ious)?","/^(\\+|aft(er)?|from|hence)/":"^(\\+|aft(er)?|from|hence)","/^(\\-|bef(ore)?|ago)/":"^(\\-|bef(ore)?|ago)","/^yes(terday)?/":"^yes(terday)?","/^t(od(ay)?)?/":"^t(od(ay)?)?","/^tom(orrow)?/":"^tom(orrow)?","/^n(ow)?/":"^n(ow)?","/^ms|milli(second)?s?/":"^ms|milli(second)?s?","/^sec(ond)?s?/":"^sec(ond)?s?","/^mn|min(ute)?s?/":"^mn|min(ute)?s?","/^h(our)?s?/":"^h(our)?s?","/^w(eek)?s?/":"^w(eek)?s?","/^m(onth)?s?/":"^m(onth)?s?","/^d(ay)?s?/":"^d(ay)?s?","/^y(ear)?s?/":"^y(ear)?s?","/^(a|p)/":"^(a|p)","/^(a\\.?m?\\.?|p\\.?m?\\.?)/":"^(a\\.?m?\\.?|p\\.?m?\\.?)","/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/":"^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)","/^\\s*(st|nd|rd|th)/":"^\\s*(st|nd|rd|th)","/^\\s*(\\:|a(?!u|p)|p)/":"^\\s*(\\:|a(?!u|p)|p)",LINT:"LINT",TOT:"TOT",CHAST:"CHAST",NZST:"NZST",NFT:"NFT",SBT:"SBT",AEST:"AEST",ACST:"ACST",JST:"JST",CWST:"CWST",CT:"CT",ICT:"ICT",MMT:"MMT",BIOT:"BST",NPT:"NPT",IST:"IST",PKT:"PKT",AFT:"AFT",MSK:"MSK",IRST:"IRST",FET:"FET",EET:"EET",CET:"CET",UTC:"UTC",GMT:"GMT",CVT:"CVT",GST:"GST",BRT:"BRT",NST:"NST",AST:"AST",EST:"EST",CST:"CST",MST:"MST",PST:"PST",AKST:"AKST",MIT:"MIT",HST:"HST",SST:"SST",BIT:"BIT",CHADT:"CHADT",NZDT:"NZDT",AEDT:"AEDT",ACDT:"ACDT",AZST:"AZST",IRDT:"IRDT",EEST:"EEST",CEST:"CEST",BST:"BST",PMDT:"PMDT",ADT:"ADT",NDT:"NDT",EDT:"EDT",CDT:"CDT",MDT:"MDT",PDT:"PDT",AKDT:"AKDT",HADT:"HADT"};Date.CultureStrings.lang="en-US";(function(){var UTF8_ACCEPT=0,UTF8D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,10,3,3,3,3,3,3,3,3,3,3,3,3,4,3,3,11,6,6,6,5,8,8,8,8,8,8,8,8,8,8,8,0,12,24,36,60,96,84,12,12,12,48,72,12,12,12,12,12,12,12,12,12,12,12,12,12,0,12,12,12,12,12,0,12,0,12,12,12,24,12,12,12,12,12,24,12,24,12,12,12,12,12,12,12,12,12,24,12,12,12,12,12,24,12,12,12,12,12,12,12,24,12,12,12,12,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,36,12,36,12,12,12,36,12,12,12,12,12,12,12,12,12,12];function decode(utftext){var i,charCode,type,codep=0,state=UTF8_ACCEPT,string=[],len=utftext.length;for(i=0;i<len;i++){charCode=utftext.charCodeAt(i);type=UTF8D[charCode];if(state!==UTF8_ACCEPT){codep=(charCode&63)|(codep<<6)}else{codep=(255>>type)&charCode}state=UTF8D[256+state+type];if(state===UTF8_ACCEPT){if(codep>65535){string.push(55232+(codep>>10),56320+(codep&1023))}else{string.push(codep)}}}return String.fromCharCode.apply(null,string)}var $D=Date;var lang=Date.CultureStrings.lang;var loggedKeys={};var __=function(key,language){var output,split,length,last;var countryCode=(language)?language:lang;if(Date.CultureStrings&&Date.CultureStrings[countryCode]&&Date.CultureStrings[countryCode][key]){output=(typeof Date.CultureStrings[countryCode][key]==="string")?decode(Date.CultureStrings[countryCode][key]):Date.CultureStrings[countryCode][key]}else{switch(key){case"name":output="en-US";break;case"englishName":output="English (United States)";break;case"nativeName":output="English (United States)";break;default:output=key;split=key.split("_");length=split.length;if(length>1&&key.charAt(0)!=="/"){last=split[(length-1)].toLowerCase();if(last==="initial"||last==="abbr"){output=split[0]}}}}if(key.charAt(0)==="/"){if(Date.CultureStrings&&Date.CultureStrings[countryCode]&&Date.CultureStrings[countryCode][key]){output=new RegExp(decode(Date.CultureStrings[countryCode][key]),"i")}else{output=new RegExp(key.replace(new RegExp("/","g"),""),"i")}}loggedKeys[key]=key;return output};var CultureInfo=function(){var buildTimeZones=function(data){var zone;for(zone in data.abbreviatedTimeZoneStandard){if(data.abbreviatedTimeZoneStandard.hasOwnProperty(zone)){data.timezones.push({name:zone,offset:data.abbreviatedTimeZoneStandard[zone]})}}for(zone in data.abbreviatedTimeZoneDST){if(data.abbreviatedTimeZoneDST.hasOwnProperty(zone)){data.timezones.push({name:zone,offset:data.abbreviatedTimeZoneDST[zone],dst:true})}}return data.timezones};var info={name:__("name"),englishName:__("englishName"),nativeName:__("nativeName"),dayNames:[__("Sunday"),__("Monday"),__("Tuesday"),__("Wednesday"),__("Thursday"),__("Friday"),__("Saturday")],abbreviatedDayNames:[__("Sun"),__("Mon"),__("Tue"),__("Wed"),__("Thu"),__("Fri"),__("Sat")],shortestDayNames:[__("Su"),__("Mo"),__("Tu"),__("We"),__("Th"),__("Fr"),__("Sa")],firstLetterDayNames:[__("S_Sun_Initial"),__("M_Mon_Initial"),__("T_Tues_Initial"),__("W_Wed_Initial"),__("T_Thu_Initial"),__("F_Fri_Initial"),__("S_Sat_Initial")],monthNames:[__("January"),__("February"),__("March"),__("April"),__("May"),__("June"),__("July"),__("August"),__("September"),__("October"),__("November"),__("December")],abbreviatedMonthNames:[__("Jan_Abbr"),__("Feb_Abbr"),__("Mar_Abbr"),__("Apr_Abbr"),__("May_Abbr"),__("Jun_Abbr"),__("Jul_Abbr"),__("Aug_Abbr"),__("Sep_Abbr"),__("Oct_Abbr"),__("Nov_Abbr"),__("Dec_Abbr")],amDesignator:__("AM"),pmDesignator:__("PM"),firstDayOfWeek:__("firstDayOfWeek"),twoDigitYearMax:__("twoDigitYearMax"),dateElementOrder:__("mdy"),formatPatterns:{shortDate:__("M/d/yyyy"),longDate:__("dddd, MMMM dd, yyyy"),shortTime:__("h:mm tt"),longTime:__("h:mm:ss tt"),fullDateTime:__("dddd, MMMM dd, yyyy h:mm:ss tt"),sortableDateTime:__("yyyy-MM-ddTHH:mm:ss"),universalSortableDateTime:__("yyyy-MM-dd HH:mm:ssZ"),rfc1123:__("ddd, dd MMM yyyy HH:mm:ss"),monthDay:__("MMMM dd"),yearMonth:__("MMMM, yyyy")},regexPatterns:{inTheMorning:__("/( in the )(morn(ing)?)\\b/"),thisMorning:__("/(this )(morn(ing)?)\\b/"),amThisMorning:__("/(\b\\d(am)? )(this )(morn(ing)?)/"),inTheEvening:__("/( in the )(even(ing)?)\\b/"),thisEvening:__("/(this )(even(ing)?)\\b/"),pmThisEvening:__("/(\b\\d(pm)? )(this )(even(ing)?)/"),jan:__("/jan(uary)?/"),feb:__("/feb(ruary)?/"),mar:__("/mar(ch)?/"),apr:__("/apr(il)?/"),may:__("/may/"),jun:__("/jun(e)?/"),jul:__("/jul(y)?/"),aug:__("/aug(ust)?/"),sep:__("/sep(t(ember)?)?/"),oct:__("/oct(ober)?/"),nov:__("/nov(ember)?/"),dec:__("/dec(ember)?/"),sun:__("/^su(n(day)?)?/"),mon:__("/^mo(n(day)?)?/"),tue:__("/^tu(e(s(day)?)?)?/"),wed:__("/^we(d(nesday)?)?/"),thu:__("/^th(u(r(s(day)?)?)?)?/"),fri:__("/fr(i(day)?)?/"),sat:__("/^sa(t(urday)?)?/"),future:__("/^next/"),past:__("/last|past|prev(ious)?/"),add:__("/^(\\+|aft(er)?|from|hence)/"),subtract:__("/^(\\-|bef(ore)?|ago)/"),yesterday:__("/^yes(terday)?/"),today:__("/^t(od(ay)?)?/"),tomorrow:__("/^tom(orrow)?/"),now:__("/^n(ow)?/"),millisecond:__("/^ms|milli(second)?s?/"),second:__("/^sec(ond)?s?/"),minute:__("/^mn|min(ute)?s?/"),hour:__("/^h(our)?s?/"),week:__("/^w(eek)?s?/"),month:__("/^m(onth)?s?/"),day:__("/^d(ay)?s?/"),year:__("/^y(ear)?s?/"),shortMeridian:__("/^(a|p)/"),longMeridian:__("/^(a\\.?m?\\.?|p\\.?m?\\.?)/"),timezone:__("/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/"),ordinalSuffix:__("/^\\s*(st|nd|rd|th)/"),timeContext:__("/^\\s*(\\:|a(?!u|p)|p)/")},timezones:[],abbreviatedTimeZoneDST:{},abbreviatedTimeZoneStandard:{}};info.abbreviatedTimeZoneDST[__("CHADT")]="+1345";info.abbreviatedTimeZoneDST[__("NZDT")]="+1300";info.abbreviatedTimeZoneDST[__("AEDT")]="+1100";info.abbreviatedTimeZoneDST[__("ACDT")]="+1030";info.abbreviatedTimeZoneDST[__("AZST")]="+0500";info.abbreviatedTimeZoneDST[__("IRDT")]="+0430";info.abbreviatedTimeZoneDST[__("EEST")]="+0300";info.abbreviatedTimeZoneDST[__("CEST")]="+0200";info.abbreviatedTimeZoneDST[__("BST")]="+0100";info.abbreviatedTimeZoneDST[__("PMDT")]="-0200";info.abbreviatedTimeZoneDST[__("ADT")]="-0300";info.abbreviatedTimeZoneDST[__("NDT")]="-0230";info.abbreviatedTimeZoneDST[__("EDT")]="-0400";info.abbreviatedTimeZoneDST[__("CDT")]="-0500";info.abbreviatedTimeZoneDST[__("MDT")]="-0600";info.abbreviatedTimeZoneDST[__("PDT")]="-0700";info.abbreviatedTimeZoneDST[__("AKDT")]="-0800";info.abbreviatedTimeZoneDST[__("HADT")]="-0900";info.abbreviatedTimeZoneStandard[__("LINT")]="+1400";info.abbreviatedTimeZoneStandard[__("TOT")]="+1300";info.abbreviatedTimeZoneStandard[__("CHAST")]="+1245";info.abbreviatedTimeZoneStandard[__("NZST")]="+1200";info.abbreviatedTimeZoneStandard[__("NFT")]="+1130";info.abbreviatedTimeZoneStandard[__("SBT")]="+1100";info.abbreviatedTimeZoneStandard[__("AEST")]="+1000";info.abbreviatedTimeZoneStandard[__("ACST")]="+0930";info.abbreviatedTimeZoneStandard[__("JST")]="+0900";info.abbreviatedTimeZoneStandard[__("CWST")]="+0845";info.abbreviatedTimeZoneStandard[__("CT")]="+0800";info.abbreviatedTimeZoneStandard[__("ICT")]="+0700";info.abbreviatedTimeZoneStandard[__("MMT")]="+0630";info.abbreviatedTimeZoneStandard[__("BST")]="+0600";info.abbreviatedTimeZoneStandard[__("NPT")]="+0545";info.abbreviatedTimeZoneStandard[__("IST")]="+0530";info.abbreviatedTimeZoneStandard[__("PKT")]="+0500";info.abbreviatedTimeZoneStandard[__("AFT")]="+0430";info.abbreviatedTimeZoneStandard[__("MSK")]="+0400";info.abbreviatedTimeZoneStandard[__("IRST")]="+0330";info.abbreviatedTimeZoneStandard[__("FET")]="+0300";info.abbreviatedTimeZoneStandard[__("EET")]="+0200";info.abbreviatedTimeZoneStandard[__("CET")]="+0100";info.abbreviatedTimeZoneStandard[__("GMT")]="+0000";info.abbreviatedTimeZoneStandard[__("UTC")]="+0000";info.abbreviatedTimeZoneStandard[__("CVT")]="-0100";info.abbreviatedTimeZoneStandard[__("GST")]="-0200";info.abbreviatedTimeZoneStandard[__("BRT")]="-0300";info.abbreviatedTimeZoneStandard[__("NST")]="-0330";info.abbreviatedTimeZoneStandard[__("AST")]="-0400";info.abbreviatedTimeZoneStandard[__("EST")]="-0500";info.abbreviatedTimeZoneStandard[__("CST")]="-0600";info.abbreviatedTimeZoneStandard[__("MST")]="-0700";info.abbreviatedTimeZoneStandard[__("PST")]="-0800";info.abbreviatedTimeZoneStandard[__("AKST")]="-0900";info.abbreviatedTimeZoneStandard[__("MIT")]="-0930";info.abbreviatedTimeZoneStandard[__("HST")]="-1000";info.abbreviatedTimeZoneStandard[__("SST")]="-1100";info.abbreviatedTimeZoneStandard[__("BIT")]="-1200";buildTimeZones(info);return info};$D.i18n={__:function(key,lang){return __(key,lang)},currentLanguage:function(){return lang||"en-US"},setLanguage:function(code,force){if(force||code==="en-US"||(Date.CultureStrings&&Date.CultureStrings[code])){lang=code;Date.CultureStrings.lang=code;Date.CultureInfo=CultureInfo()}else{Date.console.error("Language '"+code+"' is not available or has not been loaded.")}},getLoggedKeys:function(){return loggedKeys},updateCultureInfo:function(){Date.CultureInfo=CultureInfo()}};$D.i18n.updateCultureInfo()}());(function(){var $D=Date,$P=$D.prototype,p=function(s,l){if(!l){l=2}return("000"+s).slice(l*-1)};if(console){$D.console=console}else{$D.console={log:function(){},error:function(){}}}$D.initOverloads=function(){if(!$D.now){$D._now=function now(){return new Date().getTime()}}else{if(!$D._now){$D._now=$D.now}}$D.now=function(returnObj){if(returnObj){return $D.present()}else{return $D._now()}};if(!$P.toISOString){$P.toISOString=function(){return this.getUTCFullYear()+"-"+p(this.getUTCMonth()+1)+"-"+p(this.getUTCDate())+"T"+p(this.getUTCHours())+":"+p(this.getUTCMinutes())+":"+p(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1000).toFixed(3)).slice(2,5)+"Z"}}if($P._toString===undefined){$P._toString=$P.toString}};$D.initOverloads();$P.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};$P.setTimeToNow=function(){var n=new Date();this.setHours(n.getHours());this.setMinutes(n.getMinutes());this.setSeconds(n.getSeconds());this.setMilliseconds(n.getMilliseconds());return this};$D.today=function(){return new Date().clearTime()};$D.present=function(){return new Date()};$D.compare=function(date1,date2){if(isNaN(date1)||isNaN(date2)){throw new Error(date1+" - "+date2)}else{if(date1 instanceof Date&&date2 instanceof Date){return(date1<date2)?-1:(date1>date2)?1:0}else{throw new TypeError(date1+" - "+date2)}}};$D.equals=function(date1,date2){return(date1.compareTo(date2)===0)};$D.getDayName=function(n){return Date.CultureInfo.dayNames[n]};$D.getDayNumberFromName=function(name){var n=Date.CultureInfo.dayNames,m=Date.CultureInfo.abbreviatedDayNames,o=Date.CultureInfo.shortestDayNames,s=name.toLowerCase();for(var i=0;i<n.length;i++){if(n[i].toLowerCase()===s||m[i].toLowerCase()===s||o[i].toLowerCase()===s){return i}}return -1};$D.getMonthNumberFromName=function(name){var n=Date.CultureInfo.monthNames,m=Date.CultureInfo.abbreviatedMonthNames,s=name.toLowerCase();for(var i=0;i<n.length;i++){if(n[i].toLowerCase()===s||m[i].toLowerCase()===s){return i}}return -1};$D.getMonthName=function(n){return Date.CultureInfo.monthNames[n]};$D.isLeapYear=function(year){return((year%4===0&&year%100!==0)||year%400===0)};$D.getDaysInMonth=function(year,month){if(!month&&$D.validateMonth(year)){month=year;year=Date.today().getFullYear()}return[31,($D.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month]};$D.getTimezoneAbbreviation=function(offset,dst){var p,n=(dst||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(p in n){if(n.hasOwnProperty(p)){if(n[p]===offset){return p}}}return null};$D.getTimezoneOffset=function(name,dst){var i,a=[],z=Date.CultureInfo.timezones;for(i=0;i<z.length;i++){if(z[i].name===name.toUpperCase()){a.push(i)}}if(!z[a[0]]){return null}if(a.length===1||!dst){return z[a[0]].offset}else{for(i=0;i<a.length;i++){if(z[a[i]].dst){return z[a[i]].offset}}}};$D.getQuarter=function(d){d=d||new Date();var q=[1,2,3,4];return q[Math.floor(d.getMonth()/3)]};$D.getDaysLeftInQuarter=function(d){d=d||new Date();var qEnd=new Date(d);qEnd.setMonth(qEnd.getMonth()+3-qEnd.getMonth()%3,0);return Math.floor((qEnd-d)/86400000)};$P.clone=function(){return new Date(this.getTime())};$P.compareTo=function(date){return Date.compare(this,date)};$P.equals=function(date){return Date.equals(this,(date!==undefined?date:new Date()))};$P.between=function(start,end){return this.getTime()>=start.getTime()&&this.getTime()<=end.getTime()};$P.isAfter=function(date){return this.compareTo(date||new Date())===1};$P.isBefore=function(date){return(this.compareTo(date||new Date())===-1)};$P.isToday=$P.isSameDay=function(date){return this.clone().clearTime().equals((date||new Date()).clone().clearTime())};$P.addMilliseconds=function(value){if(!value){return this}this.setTime(this.getTime()+value*1);return this};$P.addSeconds=function(value){if(!value){return this}return this.addMilliseconds(value*1000)};$P.addMinutes=function(value){if(!value){return this}return this.addMilliseconds(value*60000)};$P.addHours=function(value){if(!value){return this}return this.addMilliseconds(value*3600000)};$P.addDays=function(value){if(!value){return this}this.setDate(this.getDate()+value*1);return this};$P.addWeekdays=function(value){if(!value){return this}var day=this.getDay();var weeks=(Math.ceil(Math.abs(value)/7));if(day===0||day===6){if(value>0){this.next().monday();this.addDays(-1)}}if(value<0){while(value<0){this.addDays(-1);day=this.getDay();if(day!==0&&day!==6){value++}}return this}else{if(value>5||(6-day)<=value){value=value+(weeks*2)}}return this.addDays(value)};$P.addWeeks=function(value){if(!value){return this}return this.addDays(value*7)};$P.addMonths=function(value){if(!value){return this}var n=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+value*1);this.setDate(Math.min(n,$D.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};$P.addQuarters=function(value){if(!value){return this}return this.addMonths(value*3)};$P.addYears=function(value){if(!value){return this}return this.addMonths(value*12)};$P.add=function(config){if(typeof config==="number"){this._orient=config;return this}var x=config;if(x.milliseconds){this.addMilliseconds(x.milliseconds)}if(x.seconds){this.addSeconds(x.seconds)}if(x.minutes){this.addMinutes(x.minutes)}if(x.hours){this.addHours(x.hours)}if(x.weeks){this.addWeeks(x.weeks)}if(x.months){this.addMonths(x.months)}if(x.years){this.addYears(x.years)}if(x.days){this.addDays(x.days)}return this};$P.getWeek=function(utc){var self,target=new Date(this.valueOf());if(utc){target.addMinutes(target.getTimezoneOffset());self=target.clone()}else{self=this}var dayNr=(self.getDay()+6)%7;target.setDate(target.getDate()-dayNr+3);var firstThursday=target.valueOf();target.setMonth(0,1);if(target.getDay()!==4){target.setMonth(0,1+((4-target.getDay())+7)%7)}return 1+Math.ceil((firstThursday-target)/604800000)};$P.getISOWeek=function(){return p(this.getWeek(true))};$P.setWeek=function(n){return this.moveToDayOfWeek(1,(this.getDay()>1?-1:1)).addWeeks(n-this.getWeek())};$P.setQuarter=function(qtr){var month=Math.abs(((qtr-1)*3)+1);return this.setMonth(month,1)};$P.getQuarter=function(){return Date.getQuarter(this)};$P.getDaysLeftInQuarter=function(){return Date.getDaysLeftInQuarter(this)};var validate=function(n,min,max,name){name=name?name:"Object";if(typeof n==="undefined"){return false}else{if(typeof n!=="number"){throw new TypeError(n+" is not a Number.")}else{if(n<min||n>max){return false}}}return true};$D.validateMillisecond=function(value){return validate(value,0,999,"millisecond")};$D.validateSecond=function(value){return validate(value,0,59,"second")};$D.validateMinute=function(value){return validate(value,0,59,"minute")};$D.validateHour=function(value){return validate(value,0,23,"hour")};$D.validateDay=function(value,year,month){return validate(value,1,$D.getDaysInMonth(year,month),"day")};$D.validateWeek=function(value){return validate(value,0,53,"week")};$D.validateMonth=function(value){return validate(value,0,11,"month")};$D.validateYear=function(value){return validate(value,-271822,275760,"year")};$P.set=function(config){if($D.validateMillisecond(config.millisecond)){this.addMilliseconds(config.millisecond-this.getMilliseconds())}if($D.validateSecond(config.second)){this.addSeconds(config.second-this.getSeconds())}if($D.validateMinute(config.minute)){this.addMinutes(config.minute-this.getMinutes())}if($D.validateHour(config.hour)){this.addHours(config.hour-this.getHours())}if($D.validateMonth(config.month)){this.addMonths(config.month-this.getMonth())}if($D.validateYear(config.year)){this.addYears(config.year-this.getFullYear())}if($D.validateDay(config.day,this.getFullYear(),this.getMonth())){this.addDays(config.day-this.getDate())}if(config.timezone){this.setTimezone(config.timezone)}if(config.timezoneOffset){this.setTimezoneOffset(config.timezoneOffset)}if(config.week&&$D.validateWeek(config.week)){this.setWeek(config.week)}return this};$P.moveToFirstDayOfMonth=function(){return this.set({day:1})};$P.moveToLastDayOfMonth=function(){return this.set({day:$D.getDaysInMonth(this.getFullYear(),this.getMonth())})};$P.moveToNthOccurrence=function(dayOfWeek,occurrence){if(dayOfWeek==="Weekday"){if(occurrence>0){this.moveToFirstDayOfMonth();if(this.is().weekday()){occurrence-=1}}else{if(occurrence<0){this.moveToLastDayOfMonth();if(this.is().weekday()){occurrence+=1}}else{return this}}return this.addWeekdays(occurrence)}var shift=0;if(occurrence>0){shift=occurrence-1}else{if(occurrence===-1){this.moveToLastDayOfMonth();if(this.getDay()!==dayOfWeek){this.moveToDayOfWeek(dayOfWeek,-1)}return this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek,+1).addWeeks(shift)};$P.moveToDayOfWeek=function(dayOfWeek,orient){var diff=(dayOfWeek-this.getDay()+7*(orient||+1))%7;return this.addDays((diff===0)?diff+=7*(orient||+1):diff)};$P.moveToMonth=function(month,orient){var diff=(month-this.getMonth()+12*(orient||+1))%12;return this.addMonths((diff===0)?diff+=12*(orient||+1):diff)};$P.getOrdinate=function(){var num=this.getDate();return ord(num)};$P.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};$P.getTimezone=function(){return $D.getTimezoneAbbreviation(this.getUTCOffset(),this.isDaylightSavingTime())};$P.setTimezoneOffset=function(offset){var here=this.getTimezoneOffset(),there=Number(offset)*-6/10;return(there||there===0)?this.addMinutes(here-there):this};$P.setTimezone=function(offset){return this.setTimezoneOffset($D.getTimezoneOffset(offset))};$P.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset())};$P.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==this.getTimezoneOffset()};$P.getUTCOffset=function(offset){var n=(offset||this.getTimezoneOffset())*-10/6,r;if(n<0){r=(n-10000).toString();return r.charAt(0)+r.substr(2)}else{r=(n+10000).toString();return"+"+r.substr(1)}};$P.getElapsed=function(date){return(date||new Date())-this};var ord=function(n){switch(n*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};$P.toString=function(format,ignoreStandards){var x=this;if(!ignoreStandards&&format&&format.length===1){var y,c=Date.CultureInfo.formatPatterns;x.t=x.toString;switch(format){case"d":return x.t(c.shortDate);case"D":return x.t(c.longDate);case"F":return x.t(c.fullDateTime);case"m":return x.t(c.monthDay);case"r":case"R":y=x.clone().addMinutes(x.getTimezoneOffset());return y.toString(c.rfc1123)+" GMT";case"s":return x.t(c.sortableDateTime);case"t":return x.t(c.shortTime);case"T":return x.t(c.longTime);case"u":y=x.clone().addMinutes(x.getTimezoneOffset());return y.toString(c.universalSortableDateTime);case"y":return x.t(c.yearMonth)}}return format?format.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q)(?![^\[]*\]))/g,function(m){if(m.charAt(0)==="\\"){return m.replace("\\","")}x.h=x.getHours;switch(m){case"hh":return p(x.h()<13?(x.h()===0?12:x.h()):(x.h()-12));case"h":return x.h()<13?(x.h()===0?12:x.h()):(x.h()-12);case"HH":return p(x.h());case"H":return x.h();case"mm":return p(x.getMinutes());case"m":return x.getMinutes();case"ss":return p(x.getSeconds());case"s":return x.getSeconds();case"yyyy":return p(x.getFullYear(),4);case"yy":return p(x.getFullYear());case"dddd":return Date.CultureInfo.dayNames[x.getDay()];case"ddd":return Date.CultureInfo.abbreviatedDayNames[x.getDay()];case"dd":return p(x.getDate());case"d":return x.getDate();case"MMMM":return Date.CultureInfo.monthNames[x.getMonth()];case"MMM":return Date.CultureInfo.abbreviatedMonthNames[x.getMonth()];case"MM":return p((x.getMonth()+1));case"M":return x.getMonth()+1;case"t":return x.h()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return x.h()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"S":return ord(x.getDate());case"Q":return"Q"+x.getQuarter();case"q":return String(x.getQuarter())}}).replace(/\[|\]/g,""):this._toString()}}());(function(){Date.Parsing={Exception:function(s){this.message="Parse error at '"+s.substring(0,10)+" ...'"}};var $P=Date.Parsing;var dayOffsets={standard:[0,31,59,90,120,151,181,212,243,273,304,334],leap:[0,31,60,91,121,152,182,213,244,274,305,335]};$P.isLeapYear=function(year){return((year%4===0)&&(year%100!==0))||(year%400===0)};$P.processTimeObject=function(obj){var d,jan4,date,offset,dayOffset;d=new Date();dayOffset=($P.isLeapYear(obj.year))?dayOffsets.leap:dayOffsets.standard;obj.hours=obj.hours?obj.hours:0;obj.minutes=obj.minutes?obj.minutes:0;obj.seconds=obj.seconds?obj.seconds:0;obj.milliseconds=obj.milliseconds?obj.milliseconds:0;if(!obj.year){obj.year=d.getFullYear()}if(!obj.month&&(obj.week||obj.dayOfYear)){if(!obj.dayOfYear){obj.weekDay=(!obj.weekDay&&obj.weekDay!==0)?1:obj.weekDay;d=new Date(obj.year,0,4);jan4=d.getDay()===0?7:d.getDay();offset=jan4+3;obj.dayOfYear=((obj.week*7)+(obj.weekDay===0?7:obj.weekDay))-offset}for(var i=0;i<=dayOffset.length;i++){if(obj.dayOfYear<dayOffset[i]||i===dayOffset.length){obj.day=obj.day?obj.day:(obj.dayOfYear-dayOffset[i-1]);break}else{obj.month=i}}}else{obj.month=obj.month?obj.month:0;obj.day=obj.day?obj.day:1;obj.dayOfYear=dayOffset[obj.month]+obj.day}date=new Date(obj.year,obj.month,obj.day,obj.hours,obj.minutes,obj.seconds,obj.milliseconds);if(obj.zone){if(obj.zone.toUpperCase()==="Z"||(obj.zone_hours===0&&obj.zone_minutes===0)){offset=-(new Date()).getTimezoneOffset()}else{offset=(obj.zone_hours*60)+(obj.zone_minutes?obj.zone_minutes:0);if(obj.zone_sign==="+"){offset*=-1}offset-=(new Date()).getTimezoneOffset()}date.setMinutes(date.getMinutes()+offset)}return date};$P.ISO={regex:/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-4])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?\s?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,parse:function(s){var data=s.match(this.regex);if(!data||!data.length){return null}var time={year:data[1]?Number(data[1]):data[1],month:data[5]?(Number(data[5])-1):data[5],day:data[7]?Number(data[7]):data[7],week:data[8]?Number(data[8]):data[8],weekDay:data[9]?(Math.abs(Number(data[9]))===7?0:Math.abs(Number(data[9]))):data[9],dayOfYear:data[10]?Number(data[10]):data[10],hours:data[15]?Number(data[15]):data[15],minutes:data[16]?Number(data[16].replace(":","")):data[16],seconds:data[19]?Math.floor(Number(data[19].replace(":","").replace(",","."))):data[19],milliseconds:data[20]?(Number(data[20].replace(",","."))*1000):data[20],zone:data[21],zone_sign:data[22],zone_hours:(data[23]&&typeof data[23]!=="undefined")?Number(data[23]):data[23],zone_minutes:(data[24]&&typeof data[23]!=="undefined")?Number(data[24]):data[24]};if(data[18]){data[18]=60*Number(data[18].replace(",","."));if(!time.minutes){time.minutes=data[18]}else{if(!time.seconds){time.seconds=data[18]}}}if(!time.year||(!time.year&&(!time.month&&!time.day)&&(!time.week&&!time.dayOfYear))){return null}return $P.processTimeObject(time)}};$P.Numeric={regex:/\b([0-1]?[0-9])([0-3]?[0-9])([0-2]?[0-9]?[0-9][0-9])\b/i,parse:function(s){var data,i,time={},order=Date.CultureInfo.dateElementOrder.split("");if(!(!isNaN(parseFloat(s))&&isFinite(s))||(s[0]==="+"&&s[0]==="-")){return null}if(s.length<5){time.year=s;return $P.processTimeObject(time)}data=s.match(this.regex);if(!data||!data.length){return null}for(i=0;i<order.length;i++){switch(order[i]){case"d":time.day=data[i+1];break;case"m":time.month=(data[i+1]-1);break;case"y":time.year=data[i+1];break}}return $P.processTimeObject(time)}};$P.Normalizer={parse:function(s){var $C=Date.CultureInfo;var $R=Date.CultureInfo.regexPatterns;var __=Date.i18n.__;s=s.replace($R.jan.source,"January");s=s.replace($R.feb,"February");s=s.replace($R.mar,"March");s=s.replace($R.apr,"April");s=s.replace($R.may,"May");s=s.replace($R.jun,"June");s=s.replace($R.jul,"July");s=s.replace($R.aug,"August");s=s.replace($R.sep,"September");s=s.replace($R.oct,"October");s=s.replace($R.nov,"November");s=s.replace($R.dec,"December");s=s.replace($R.tomorrow,Date.today().addDays(1).toString("d"));s=s.replace($R.yesterday,Date.today().addDays(-1).toString("d"));s=s.replace(new RegExp($R.today.source+"\\b","i"),Date.today().toString("d"));s=s.replace(/\bat\b/gi,"");s=s.replace(/\s{2,}/," ");s=s.replace(new RegExp("(\\b\\d\\d?("+__("AM")+"|"+__("PM")+")? )("+$R.tomorrow.source.slice(1)+")","i"),function(full,m1,m2,m3,m4){var t=Date.today().addDays(1).toString("d");var s=t+" "+m1;return s});s=s.replace(new RegExp("(("+$R.past.source+")\\s("+$R.mon.source+"))"),Date.today().last().monday().toString("d"));s=s.replace(new RegExp("(("+$R.past.source+")\\s("+$R.tue.source+"))"),Date.today().last().tuesday().toString("d"));s=s.replace(new RegExp("(("+$R.past.source+")\\s("+$R.wed.source+"))"),Date.today().last().wednesday().toString("d"));s=s.replace(new RegExp("(("+$R.past.source+")\\s("+$R.thu.source+"))"),Date.today().last().thursday().toString("d"));s=s.replace(new RegExp("(("+$R.past.source+")\\s("+$R.fri.source+"))"),Date.today().last().friday().toString("d"));s=s.replace(new RegExp("(("+$R.past.source+")\\s("+$R.sat.source+"))"),Date.today().last().saturday().toString("d"));s=s.replace(new RegExp("(("+$R.past.source+")\\s("+$R.sun.source+"))"),Date.today().last().sunday().toString("d"));s=s.replace($R.amThisMorning,function(str,am){return am});s=s.replace($R.inTheMorning,"am");s=s.replace($R.thisMorning,"9am");s=s.replace($R.amThisEvening,function(str,pm){return pm});s=s.replace($R.inTheEvening,"pm");s=s.replace($R.thisEvening,"7pm");return s}}}());(function(){var $P=Date.Parsing;var _=$P.Operators={rtoken:function(r){return function(s){var mx=s.match(r);if(mx){return([mx[0],s.substring(mx[0].length)])}else{throw new $P.Exception(s)}}},token:function(s){return function(s){return _.rtoken(new RegExp("^s*"+s+"s*"))(s)}},stoken:function(s){return _.rtoken(new RegExp("^"+s))},until:function(p){return function(s){var qx=[],rx=null;while(s.length){try{rx=p.call(this,s)}catch(e){qx.push(rx[0]);s=rx[1];continue}break}return[qx,s]}},many:function(p){return function(s){var rx=[],r=null;while(s.length){try{r=p.call(this,s)}catch(e){return[rx,s]}rx.push(r[0]);s=r[1]}return[rx,s]}},optional:function(p){return function(s){var r=null;try{r=p.call(this,s)}catch(e){return[null,s]}return[r[0],r[1]]}},not:function(p){return function(s){try{p.call(this,s)}catch(e){return[null,s]}throw new $P.Exception(s)}},ignore:function(p){return p?function(s){var r=null;r=p.call(this,s);return[null,r[1]]}:null},product:function(){var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[];for(var i=0;i<px.length;i++){rx.push(_.each(px[i],qx))}return rx},cache:function(rule){var cache={},r=null;return function(s){try{r=cache[s]=(cache[s]||rule.call(this,s))}catch(e){r=cache[s]=e}if(r instanceof $P.Exception){throw r}else{return r}}},any:function(){var px=arguments;return function(s){var r=null;for(var i=0;i<px.length;i++){if(px[i]==null){continue}try{r=(px[i].call(this,s))}catch(e){r=null}if(r){return r}}throw new $P.Exception(s)}},each:function(){var px=arguments;return function(s){var rx=[],r=null;for(var i=0;i<px.length;i++){if(px[i]==null){continue}try{r=(px[i].call(this,s))}catch(e){throw new $P.Exception(s)}rx.push(r[0]);s=r[1]}return[rx,s]}},all:function(){var px=arguments,_=_;return _.each(_.optional(px))},sequence:function(px,d,c){d=d||_.rtoken(/^\s*/);c=c||null;if(px.length==1){return px[0]}return function(s){var r=null,q=null;var rx=[];for(var i=0;i<px.length;i++){try{r=px[i].call(this,s)}catch(e){break}rx.push(r[0]);try{q=d.call(this,r[1])}catch(ex){q=null;break}s=q[1]}if(!r){throw new $P.Exception(s)}if(q){throw new $P.Exception(q[1])}if(c){try{r=c.call(this,r[1])}catch(ey){throw new $P.Exception(r[1])}}return[rx,(r?r[1]:s)]}},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));return function(s){var rx=_fn.call(this,s);return[[rx[0][0],r[0][2]],rx[1]]}},list:function(p,d,c){d=d||_.rtoken(/^\s*/);c=c||null;return(p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c)))},set:function(px,d,c){d=d||_.rtoken(/^\s*/);c=c||null;return function(s){var r=null,p=null,q=null,rx=null,best=[[],s],last=false;for(var i=0;i<px.length;i++){q=null;p=null;r=null;last=(px.length==1);try{r=px[i].call(this,s)}catch(e){continue}rx=[[r[0]],r[1]];if(r[1].length>0&&!last){try{q=d.call(this,r[1])}catch(ex){last=true}}else{last=true}if(!last&&q[1].length===0){last=true}if(!last){var qx=[];for(var j=0;j<px.length;j++){if(i!=j){qx.push(px[j])}}p=_.set(qx,d).call(this,q[1]);if(p[0].length>0){rx[0]=rx[0].concat(p[0]);rx[1]=p[1]}}if(rx[1].length<best[1].length){best=rx}if(best[1].length===0){break}}if(best[0].length===0){return best}if(c){try{q=c.call(this,best[1])}catch(ey){throw new $P.Exception(best[1])}best[1]=q[1]}return best}},forward:function(gr,fname){return function(s){return gr[fname].call(this,s)}},replace:function(rule,repl){return function(s){var r=rule.call(this,s);return[repl,r[1]]}},process:function(rule,fn){return function(s){var r=rule.call(this,s);return[fn.call(this,r[0]),r[1]]}},min:function(min,rule){return function(s){var rx=rule.call(this,s);if(rx[0].length<min){throw new $P.Exception(s)}return rx}}};var _generator=function(op){function gen(){var args=null,rx=[],px,i;if(arguments.length>1){args=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){args=arguments[0]}}if(args){px=args.shift();if(px.length>0){args.unshift(px[i]);rx.push(op.apply(null,args));args.shift();return rx}}else{return op.apply(null,arguments)}}return gen};var gx="optional not ignore cache".split(/\s/);for(var i=0;i<gx.length;i++){_[gx[i]]=_generator(_[gx[i]])}var _vector=function(op){return function(){if(arguments[0] instanceof Array){return op.apply(null,arguments[0])}else{return op.apply(null,arguments)}}};var vx="each any all".split(/\s/);for(var j=0;j<vx.length;j++){_[vx[j]]=_vector(_[vx[j]])}}());(function(){var $D=Date;var flattenAndCompact=function(ax){var rx=[];for(var i=0;i<ax.length;i++){if(ax[i] instanceof Array){rx=rx.concat(flattenAndCompact(ax[i]))}else{if(ax[i]){rx.push(ax[i])}}}return rx};$D.Grammar={};$D.Translator={hour:function(s){return function(){this.hour=Number(s)}},minute:function(s){return function(){this.minute=Number(s)}},second:function(s){return function(){this.second=Number(s)}},secondAndMillisecond:function(s){return function(){var mx=s.match(/^([0-5][0-9])\.([0-9]{1,3})/);this.second=Number(mx[1]);this.millisecond=Number(mx[2])}},meridian:function(s){return function(){this.meridian=s.slice(0,1).toLowerCase()}},timezone:function(s){return function(){var n=s.replace(/[^\d\+\-]/g,"");if(n.length){this.timezoneOffset=Number(n)}else{this.timezone=s.toLowerCase()}}},day:function(x){var s=x[0];return function(){this.day=Number(s.match(/\d+/)[0]);if(this.day<1){throw"invalid day"}}},month:function(s){return function(){this.month=(s.length===3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(s)/4:Number(s)-1;if(this.month<0){throw"invalid month"}}},year:function(s){return function(){var n=Number(s);this.year=((s.length>2)?n:(n+(((n+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(s){return function(){switch(s){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(x){x=(x instanceof Array)?x:[x];for(var i=0;i<x.length;i++){if(x[i]){x[i].call(this)}}var now=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=now.getDate()}if(!this.year){this.year=now.getFullYear()}if(!this.month&&this.month!==0){this.month=now.getMonth()}if(!this.day){this.day=1}if(!this.hour){this.hour=0}if(!this.minute){this.minute=0}if(!this.second){this.second=0}if(!this.millisecond){this.millisecond=0}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.day>$D.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);if(this.year<100){r.setFullYear(this.year)}if(this.timezone){r.set({timezone:this.timezone})}else{if(this.timezoneOffset){r.set({timezoneOffset:this.timezoneOffset})}}return r},finish:function(x){x=(x instanceof Array)?flattenAndCompact(x):[x];if(x.length===0){return null}for(var i=0;i<x.length;i++){if(typeof x[i]=="function"){x[i].call(this)}}var today=$D.today();if(this.now&&!this.unit&&!this.operator){return new Date()}else{if(this.now){today=new Date()}}var expression=!!(this.days&&this.days!==null||this.orient||this.operator);var gap,mod,orient;orient=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){today.setTimeToNow()}if(this.month&&this.unit=="week"){this.value=this.month+1;delete this.month;delete this.day}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;expression=true}}if(!expression&&this.weekday&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate();if(!this.month){this.month=temp.getMonth()}this.year=temp.getFullYear()}if(expression&&this.weekday&&this.unit!="month"&&this.unit!="week"){this.unit="day";gap=($D.getDayNumberFromName(this.weekday)-today.getDay());mod=7;this.days=gap?((gap+(orient*mod))%mod):(orient*mod)}if(this.month&&this.unit=="day"&&this.operator){this.value=(this.month+1);this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1}if(this.month&&!this.day&&this.value){today.set({day:this.value*1});if(!expression){this.day=this.value*1}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;expression=true}if(expression&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";gap=(this.month-today.getMonth());mod=12;this.months=gap?((gap+(orient*mod))%mod):(orient*mod);this.month=null}if(!this.unit){this.unit="day"}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*orient}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}this[this.unit+"s"]=this.value*orient}}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.weekday&&this.unit!=="week"&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate();if(temp.getMonth()!==today.getMonth()){this.month=temp.getMonth()}}if((this.month||this.month===0)&&!this.day){this.day=1}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if(this.unit=="week"&&this.weeks&&!this.day&&!this.month){var weekday=(this.weekday)?this.weekday:"today";var d=Date[weekday]().addWeeks(this.weeks);if(this.now){d.setTimeToNow()}return d}if(expression&&this.timezone&&this.day&&this.days){this.day=this.days}return(expression)?today.add(this):today.set(this)}};var _=$D.Parsing.Operators,g=$D.Grammar,t=$D.Translator,_fn;g.datePartDelimiter=_.rtoken(/^([\s\-\.\,\/\x27]+)/);g.timePartDelimiter=_.stoken(":");g.whiteSpace=_.rtoken(/^\s*/);g.generalDelimiter=_.rtoken(/^(([\s\,]|at|@|on)+)/);var _C={};g.ctoken=function(keys){var fn=_C[keys];if(!fn){var c=Date.CultureInfo.regexPatterns;var kx=keys.split(/\s+/),px=[];for(var i=0;i<kx.length;i++){px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]))}fn=_C[keys]=_.any.apply(null,px)}return fn};g.ctoken2=function(key){return _.rtoken(Date.CultureInfo.regexPatterns[key])};g.h=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour));g.hh=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/),t.hour));g.H=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour));g.HH=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour));g.m=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.minute));g.mm=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.minute));g.s=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.second));g.ss=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.second));g["ss.s"]=_.cache(_.process(_.rtoken(/^[0-5][0-9]\.[0-9]{1,3}/),t.secondAndMillisecond));g.hms=_.cache(_.sequence([g.H,g.m,g.s],g.timePartDelimiter));g.t=_.cache(_.process(g.ctoken2("shortMeridian"),t.meridian));g.tt=_.cache(_.process(g.ctoken2("longMeridian"),t.meridian));g.z=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone));g.zz=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone));g.zzz=_.cache(_.process(g.ctoken2("timezone"),t.timezone));g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz]));g.time=_.each(_.optional(_.ignore(_.stoken("T"))),g.hms,g.timeSuffix);g.d=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1]|\d)/),_.optional(g.ctoken2("ordinalSuffix"))),t.day));g.dd=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1])/),_.optional(g.ctoken2("ordinalSuffix"))),t.day));g.ddd=g.dddd=_.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"),function(s){return function(){this.weekday=s}}));g.M=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d|\d)/),t.month));g.MM=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d)/),t.month));g.MMM=g.MMMM=_.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),t.month));g.y=_.cache(_.process(_.rtoken(/^(\d\d?)/),t.year));g.yy=_.cache(_.process(_.rtoken(/^(\d\d)/),t.year));g.yyy=_.cache(_.process(_.rtoken(/^(\d\d?\d?\d?)/),t.year));g.yyyy=_.cache(_.process(_.rtoken(/^(\d\d\d\d)/),t.year));_fn=function(){return _.each(_.any.apply(null,arguments),_.not(g.ctoken2("timeContext")))};g.day=_fn(g.d,g.dd);g.month=_fn(g.M,g.MMM);g.year=_fn(g.yyyy,g.yy);g.orientation=_.process(g.ctoken("past future"),function(s){return function(){this.orient=s}});g.operator=_.process(g.ctoken("add subtract"),function(s){return function(){this.operator=s}});g.rday=_.process(g.ctoken("yesterday tomorrow today now"),t.rday);g.unit=_.process(g.ctoken("second minute hour day week month year"),function(s){return function(){this.unit=s}});g.value=_.process(_.rtoken(/^\d\d?(st|nd|rd|th)?/),function(s){return function(){this.value=s.replace(/\D/g,"")}});g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]);_fn=function(){return _.set(arguments,g.datePartDelimiter)};g.mdy=_fn(g.ddd,g.month,g.day,g.year);g.ymd=_fn(g.ddd,g.year,g.month,g.day);g.dmy=_fn(g.ddd,g.day,g.month,g.year);g.date=function(s){return((g[Date.CultureInfo.dateElementOrder]||g.mdy).call(this,s))};g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?(?!e)|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){if(g[fmt]){return g[fmt]}else{throw $D.Parsing.Exception(fmt)}}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){return _.ignore(_.stoken(s))}))),function(rules){return _.process(_.each.apply(null,rules),t.finishExact)});var _F={};var _get=function(f){_F[f]=(_F[f]||g.format(f)[0]);return _F[f]};g.allformats=function(fx){var rx=[];if(fx instanceof Array){for(var i=0;i<fx.length;i++){rx.push(_get(fx[i]))}}else{rx.push(_get(fx))}return rx};g.formats=function(fx){if(fx instanceof Array){var rx=[];for(var i=0;i<fx.length;i++){rx.push(_get(fx[i]))}return _.any.apply(null,rx)}else{return _get(fx)}};g._formats=g.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ss.sz","yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish);g.start=function(s){try{var r=g._formats.call({},s);if(r[1].length===0){return r}}catch(e){}return g._start.call({},s)};function parse(s){var ords,d,t,r=null;if(!s){return null}if(s instanceof Date){return s.clone()}if(s.length>=4&&s.charAt(0)!=="0"){d=$D.Parsing.ISO.parse(s)||$D.Parsing.Numeric.parse(s)}if(d instanceof Date&&!isNaN(d.getTime())){return d}else{ords=s.match(/\b(\d+)(?:st|nd|rd|th)\b/);s=((ords&&ords.length===2)?s.replace(ords[0],ords[1]):s);s=$D.Parsing.Normalizer.parse(s);try{r=$D.Grammar.start.call({},s.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(e){return null}d=((r[1].length===0)?r[0]:null);if(d!==null){return d}else{try{t=Date._parse(s);return(t||t===0)?new Date(t):null}catch(e){return null}}}}if(!$D._parse){$D._parse=$D.parse}$D.parse=parse;Date.getParseFunction=function(fx){var fns=Date.Grammar.allformats(fx);return function(s){var r=null;for(var i=0;i<fns.length;i++){try{r=fns[i].call({},s)}catch(e){continue}if(r[1].length===0){return r[0]}}return null}};$D.parseExact=function(s,fx){return $D.getParseFunction(fx)(s)}}());(function(){var $D=Date,$P=$D.prototype,$N=Number.prototype;$P._orient=+1;$P._nth=null;$P._is=false;$P._same=false;$P._isSecond=false;$N._dateElement="days";$P.next=function(){this._move=true;this._orient=+1;return this};$D.next=function(){return $D.today().next()};$P.last=$P.prev=$P.previous=function(){this._move=true;this._orient=-1;return this};$D.last=$D.prev=$D.previous=function(){return $D.today().last()};$P.is=function(){this._is=true;return this};$P.same=function(){this._same=true;this._isSecond=false;return this};$P.today=function(){return this.same().day()};$P.weekday=function(){if(this._nth){return df("Weekday").call(this)}if(this._move){return this.addWeekdays(this._orient)}if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun())}return false};$P.weekend=function(){if(this._is){this._is=false;return(this.is().sat()||this.is().sun())}return false};$P.at=function(time){return(typeof time==="string")?$D.parse(this.toString("d")+" "+time):this.set(time)};$N.fromNow=$N.after=function(date){var c={};c[this._dateElement]=this;return((!date)?new Date():date.clone()).add(c)};$N.ago=$N.before=function(date){var c={},s=(this._dateElement[this._dateElement.length-1]!=="s")?this._dateElement+"s":this._dateElement;c[s]=this*-1;return((!date)?new Date():date.clone()).add(c)};var dx=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),mx=("january february march april may june july august september october november december").split(/\s/),px=("Millisecond Second Minute Hour Day Week Month Year Quarter Weekday").split(/\s/),pxf=("Milliseconds Seconds Minutes Hours Date Week Month FullYear Quarter").split(/\s/),nth=("final first second third fourth fifth").split(/\s/),de;$P.toObject=function(){var o={};for(var i=0;i<px.length;i++){if(this["get"+pxf[i]]){o[px[i].toLowerCase()]=this["get"+pxf[i]]()}}return o};$D.fromObject=function(config){config.week=null;return Date.today().set(config)};var df=function(n){return function(){if(this._is){this._is=false;return this.getDay()===n}if(this._move){this._move=null}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1)}this._isSecond=false;var ntemp=this._nth;this._nth=null;var temp=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(n,ntemp);if(this>temp){throw new RangeError($D.getDayName(n)+" does not occur "+ntemp+" times in the month of "+$D.getMonthName(temp.getMonth())+" "+temp.getFullYear()+".")}return this}return this.moveToDayOfWeek(n,this._orient)}};var sdf=function(n){return function(){var t=$D.today(),shift=n-t.getDay();if(n===0&&Date.CultureInfo.firstDayOfWeek===1&&t.getDay()!==0){shift=shift+7}return t.addDays(shift)}};for(var i=0;i<dx.length;i++){$D[dx[i].toUpperCase()]=$D[dx[i].toUpperCase().substring(0,3)]=i;$D[dx[i]]=$D[dx[i].substring(0,3)]=sdf(i);$P[dx[i]]=$P[dx[i].substring(0,3)]=df(i)}var month_instance_functions=function(n){return function(){if(this._is){this._is=false;return this.getMonth()===n}return this.moveToMonth(n,this._orient)}};var month_static_functions=function(n){return function(){return $D.today().set({month:n,day:1})}};for(var j=0;j<mx.length;j++){$D[mx[j].toUpperCase()]=$D[mx[j].toUpperCase().substring(0,3)]=j;$D[mx[j]]=$D[mx[j].substring(0,3)]=month_static_functions(j);$P[mx[j]]=$P[mx[j].substring(0,3)]=month_instance_functions(j)}var ef=function(j){return function(){if(this._isSecond){this._isSecond=false;return this}if(this._same){this._same=this._is=false;var o1=this.toObject(),o2=(arguments[0]||new Date()).toObject(),v="",k=j.toLowerCase();k=(k[k.length-1]==="s")?k.substring(0,k.length-1):k;for(var m=(px.length-1);m>-1;m--){v=px[m].toLowerCase();if(o1[v]!==o2[v]){return false}if(k===v){break}}return true}if(j.substring(j.length-1)!=="s"){j+="s"}if(this._move){this._move=null}return this["add"+j](this._orient)}};var nf=function(n){return function(){this._dateElement=n;return this}};for(var k=0;k<px.length;k++){de=px[k].toLowerCase();if(de!=="weekday"){$P[de]=$P[de+"s"]=ef(px[k]);$N[de]=$N[de+"s"]=nf(de+"s")}}$P._ss=ef("Second");var nthfn=function(n){return function(dayOfWeek){if(this._same){return this._ss(arguments[0])}if(dayOfWeek||dayOfWeek===0){return this.moveToNthOccurrence(dayOfWeek,n)}this._nth=n;if(n===2&&(dayOfWeek===undefined||dayOfWeek===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(var l=0;l<nth.length;l++){$P[nth[l]]=(l===0)?nthfn(-1):nthfn(l)}}());(function(){var $D=Date,$P=$D.prototype,$f=[],p=function(s,l){if(!l){l=2}return("000"+s).slice(l*-1)};$D.normalizeFormat=function(format){return format};$D.strftime=function(format,time){return new Date(time*1000).$format(format)};$D.strtotime=function(time){var d=$D.parse(time);d.addMinutes(d.getTimezoneOffset()*-1);return Math.round($D.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())/1000)};$P.$format=function(format){var x=this,y,t=function(v,overrideStandardFormats){$f.push(v);return x.toString(v,overrideStandardFormats)};return format?format.replace(/(%|\\)?.|%%/g,function(m){if(m.charAt(0)==="\\"||m.substring(0,2)==="%%"){return m.replace("\\","").replace("%%","%")}switch(m){case"d":case"%d":return t("dd");case"D":case"%a":return t("ddd");case"j":case"%e":return t("d",true);case"l":case"%A":return t("dddd");case"N":case"%u":return x.getDay()+1;case"S":return t("S");case"w":case"%w":return x.getDay();case"z":return x.getOrdinalNumber();case"%j":return p(x.getOrdinalNumber(),3);case"%U":var d1=x.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),d2=x.clone().addDays(1).moveToDayOfWeek(0,-1);return(d2<d1)?"00":p((d2.getOrdinalNumber()-d1.getOrdinalNumber())/7+1);case"W":case"%V":return x.getISOWeek();case"%W":return p(x.getWeek());case"F":case"%B":return t("MMMM");case"m":case"%m":return t("MM");case"M":case"%b":case"%h":return t("MMM");case"n":return t("M");case"t":return $D.getDaysInMonth(x.getFullYear(),x.getMonth());case"L":return($D.isLeapYear(x.getFullYear()))?1:0;case"o":case"%G":return x.setWeek(x.getISOWeek()).toString("yyyy");case"%g":return x.$format("%G").slice(-2);case"Y":case"%Y":return t("yyyy");case"y":case"%y":return t("yy");case"a":case"%p":return t("tt").toLowerCase();case"A":return t("tt").toUpperCase();case"g":case"%I":return t("h");case"G":return t("H");case"h":return t("hh");case"H":case"%H":return t("HH");case"i":case"%M":return t("mm");case"s":case"%S":return t("ss");case"u":return p(x.getMilliseconds(),3);case"I":return(x.isDaylightSavingTime())?1:0;case"O":return x.getUTCOffset();case"P":y=x.getUTCOffset();return y.substring(0,y.length-2)+":"+y.substring(y.length-2);case"e":case"T":case"%z":case"%Z":return x.getTimezone();case"Z":return x.getTimezoneOffset()*-60;case"B":var now=new Date();return Math.floor(((now.getHours()*3600)+(now.getMinutes()*60)+now.getSeconds()+(now.getTimezoneOffset()+60)*60)/86.4);case"c":return x.toISOString().replace(/\"/g,"");case"U":return $D.strtotime("now");case"%c":return t("d")+" "+t("t");case"%C":return Math.floor(x.getFullYear()/100+1);case"%D":return t("MM/dd/yy");case"%n":return"\\n";case"%t":return"\\t";case"%r":return t("hh:mm tt");case"%R":return t("H:mm");case"%T":return t("H:mm:ss");case"%x":return t("d");case"%X":return t("t");default:$f.push(m);return m}}):this._toString()};if(!$P.format){$P.format=$P.$format}}());var TimeSpan=function(days,hours,minutes,seconds,milliseconds){var attrs="days hours minutes seconds milliseconds".split(/\s+/);var gFn=function(attr){return function(){return this[attr]}};var sFn=function(attr){return function(val){this[attr]=val;return this}};for(var i=0;i<attrs.length;i++){var $a=attrs[i],$b=$a.slice(0,1).toUpperCase()+$a.slice(1);TimeSpan.prototype[$a]=0;TimeSpan.prototype["get"+$b]=gFn($a);TimeSpan.prototype["set"+$b]=sFn($a)}if(arguments.length===4){this.setDays(days);this.setHours(hours);this.setMinutes(minutes);this.setSeconds(seconds)}else{if(arguments.length===5){this.setDays(days);this.setHours(hours);this.setMinutes(minutes);this.setSeconds(seconds);this.setMilliseconds(milliseconds)}else{if(arguments.length===1&&typeof days==="number"){var orient=(days<0)?-1:+1;this.setMilliseconds(Math.abs(days));this.setDays(Math.floor(this.getMilliseconds()/86400000)*orient);this.setMilliseconds(this.getMilliseconds()%86400000);this.setHours(Math.floor(this.getMilliseconds()/3600000)*orient);this.setMilliseconds(this.getMilliseconds()%3600000);this.setMinutes(Math.floor(this.getMilliseconds()/60000)*orient);this.setMilliseconds(this.getMilliseconds()%60000);this.setSeconds(Math.floor(this.getMilliseconds()/1000)*orient);this.setMilliseconds(this.getMilliseconds()%1000);this.setMilliseconds(this.getMilliseconds()*orient)}}}this.getTotalMilliseconds=function(){return(this.getDays()*86400000)+(this.getHours()*3600000)+(this.getMinutes()*60000)+(this.getSeconds()*1000)};this.compareTo=function(time){var t1=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds()),t2;if(time===null){t2=new Date(1970,1,1,0,0,0)}else{t2=new Date(1970,1,1,time.getHours(),time.getMinutes(),time.getSeconds())}return(t1<t2)?-1:(t1>t2)?1:0};this.equals=function(time){return(this.compareTo(time)===0)};this.add=function(time){return(time===null)?this:this.addSeconds(time.getTotalMilliseconds()/1000)};this.subtract=function(time){return(time===null)?this:this.addSeconds(-time.getTotalMilliseconds()/1000)};this.addDays=function(n){return new TimeSpan(this.getTotalMilliseconds()+(n*86400000))};this.addHours=function(n){return new TimeSpan(this.getTotalMilliseconds()+(n*3600000))};this.addMinutes=function(n){return new TimeSpan(this.getTotalMilliseconds()+(n*60000))};this.addSeconds=function(n){return new TimeSpan(this.getTotalMilliseconds()+(n*1000))};this.addMilliseconds=function(n){return new TimeSpan(this.getTotalMilliseconds()+n)};this.get12HourHour=function(){return(this.getHours()>12)?this.getHours()-12:(this.getHours()===0)?12:this.getHours()};this.getDesignator=function(){return(this.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator};this.toString=function(format){this._toString=function(){if(this.getDays()!==null&&this.getDays()>0){return this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}else{return this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())}};this.p=function(s){return(s.toString().length<2)?"0"+s:s};var me=this;return format?format.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(format){switch(format){case"d":return me.getDays();case"dd":return me.p(me.getDays());case"H":return me.getHours();case"HH":return me.p(me.getHours());case"h":return me.get12HourHour();case"hh":return me.p(me.get12HourHour());case"m":return me.getMinutes();case"mm":return me.p(me.getMinutes());case"s":return me.getSeconds();case"ss":return me.p(me.getSeconds());case"t":return((me.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return(me.getHours()<12)?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()};return this};Date.prototype.getTimeOfDay=function(){return new TimeSpan(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())};var TimePeriod=function(years,months,days,hours,minutes,seconds,milliseconds){var attrs="years months days hours minutes seconds milliseconds".split(/\s+/);var gFn=function(attr){return function(){return this[attr]}};var sFn=function(attr){return function(val){this[attr]=val;return this}};for(var i=0;i<attrs.length;i++){var $a=attrs[i],$b=$a.slice(0,1).toUpperCase()+$a.slice(1);TimePeriod.prototype[$a]=0;TimePeriod.prototype["get"+$b]=gFn($a);TimePeriod.prototype["set"+$b]=sFn($a)}if(arguments.length===7){this.years=years;this.months=months;this.setDays(days);this.setHours(hours);this.setMinutes(minutes);this.setSeconds(seconds);this.setMilliseconds(milliseconds)}else{if(arguments.length===2&&arguments[0] instanceof Date&&arguments[1] instanceof Date){var d1=years.clone();var d2=months.clone();var temp=d1.clone();var orient=(d1>d2)?-1:+1;this.years=d2.getFullYear()-d1.getFullYear();temp.addYears(this.years);if(orient===+1){if(temp>d2){if(this.years!==0){this.years--}}}else{if(temp<d2){if(this.years!==0){this.years++}}}d1.addYears(this.years);if(orient===+1){while(d1<d2&&d1.clone().addMonths(1)<=d2){d1.addMonths(1);this.months++}}else{while(d1>d2&&d1.clone().addDays(-d1.getDaysInMonth())>d2){d1.addMonths(-1);this.months--}}var diff=d2-d1;if(diff!==0){var ts=new TimeSpan(diff);this.setDays(ts.getDays());this.setHours(ts.getHours());this.setMinutes(ts.getMinutes());this.setSeconds(ts.getSeconds());this.setMilliseconds(ts.getMilliseconds())}}}return this};
////Appending Script  == >appzillon.js
var Apz=function(){this.app={};this.ranges=[];this.rangesmap={};this.appFactory={};this.compFactory={};this.version="1.0.0.0";this.expiryDate=null;this.serverToken=null;this.otpReqd=null;this.otaReqd=null;this.serverUrl=null;this.trackLocation=false;this.serverToken=null;this.firstPage=null;this.firstPageLayout=null;this.defaultAuthorization=null;this.dataIntegrity="N";this.encryption="N";this.dateFormat="";this.timeFormat="";this.dateTimeFormat="";this.dfltDecimals=2;this.decimalSep=".";this.thousandSep=",";this.numberMask="MILLION";this.theme="";this.baseThemesMap="";this.language="en";this.enableAnimations=true;this.encryptionKeyFileName="";this.bindingEngine="APPZILLON";this.genTheme=null;this.idSep="__";this.recSep="_";this.webPath="";this.deviceId="SIMULATOR";this.deviceGroup=null;this.deviceGroupDet=null;this.deviceType="SIMULATOR";this.screenSize=null;this.screenPpi=null;this.stdPpi=160;this.nativeServiceCBName="Apz.nativeServiceCB";this.angularscope=null;this.latitude="0";this.longitude="0";this.orientation="PORTRAIT";this.lockRotation=false;this.sessionId=null;this.userId=null;this.userFirstName=null;this.userLastName=null;this.userExtId=null;this.userProfilePic=null;this.lastLogin=null;this.ifaces=[];this.ifacesMap=[];this.scrs=[];this.scrDefs=[];this.scrDefsMap=[];this.firstPagesMap=[];this.loDefsMap=[];this.loMap=[];this.scrHtmls=[];this.loadDiv="page_1";this.currDiv="page_2";this.currScr="";this.childScr="";this.msgs=[];this.lovs=[];this.lits=[];this.ccys=[];this.convMap=[];this.workflows=[];this.scrMetaData=null;this.scrReq=null;this.scrResp=null;this.privs={};this.privs.screens={};this.privs.ifaces={};this.privs.controls={};this.appsMap={};this.keyValuePair={};this.procIdCntr=0;this.ns=new Apz.Ns(this);this.log=new Apz.Log(this);if(Apz.Data){this.data=new Apz.Data(this)}if(Apz.Audit){this.audit=new Apz.Audit(this)}if(Apz.Val){this.val=new Apz.Val(this)}if(Apz.Mca){this.mca=new Apz.Mca(this)}if(Apz.Server){this.server=new Apz.Server(this)}if(Apz.Offline){this.offline=new Apz.Offline(this)}if(Apz.Wf){this.workflow=new Apz.Wf(this)}if(Apz.Lov){this.lov=new Apz.Lov(this)}if(Apz.Qunit){this.qunit=new Apz.Qunit(this)}if(Apz.Customizer){this.customizer=new Apz.Customizer(this)}if(Apz.ConvUI){this.convui=new Apz.ConvUI(this)}if(Apz.OWASP){this.owasp=new Apz.OWASP(this)}if(Apz.Products){this.products=new Apz.Products(this)}define("jquery",[],function(){return jQuery});require.config({waitSeconds:200})};Apz.rict=false;;Apz.mcaApp=false;;Apz.customizerApp=false;;Apz.apzNativeServiceDet=[];Apz.dispMsgCBParams=null;Apz.dispMsgCB=function(value,evnt){var params=Apz.dispMsgCBParams;if(params){params.choice=true;if(apz.isNull(evnt)&&value.currentTarget.className=="cancel"){params.choice=false;var value=""}params.val=value;Apz.dispMsgCBParams=null;if(typeof params.callBack=="function"){if(params.callBackObj){params.callBack.call(params.callBackObj,params)}else{params.callBack(params)}}}};Apz.nativeServiceCB=function(res){if(typeof res=="string"){res=JSON.parse(res)}var id=res.id;if(res.id){var cbDet=Apz.apzNativeServiceDet[id];res.proc=cbDet.proc;res.fwdData=cbDet.fwdData;res.callBack=cbDet.callBack;res.callBackObj=cbDet.callBackObj;res.userCallBack=cbDet.userCallBack;res.userCallBackObj=cbDet.userCallBackObj;cbDet.owner.procThreadCompleted.call(cbDet.owner,res);if(!res.keepAlive){delete Apz.apzNativeServiceDet[id]}}};Apz.appendLog=function(type,msg){apz.log.log(type,msg)};Apz.prototype={initNativeService:function(req){if(req){if(this.isNull(req.id)){req.id=this.getProcId()}var cbDet={};cbDet.id=req.id;cbDet.owner=this;cbDet.callBack=req.callBack;cbDet.callBackObj=req.callBackObj;cbDet.userCallBack=req.userCallBack;cbDet.userCallBackObj=req.userCallBackObj;cbDet.proc=req.proc;cbDet.fwdData=req.fwdData;Apz.apzNativeServiceDet[req.id]=cbDet;if(req.proc){req.proc=null}if(req.fwdData){req.fwdData=null}if(req.runnerObj){req.runnerObj=null}if(req.runner){req.runner=null}if(req.callBack){req.callBack=null}if(req.callBackObj){req.callBackObj=null}if(req.userCallBack){req.userCallBack=null}if(req.userCallBackObj){req.userCallBackObj=null}}},getProcId:function(){this.procIdCntr=this.procIdCntr+1;return"PROC_"+this.procIdCntr},startProc:function(proc){var noOfThreads=proc.threads.length;proc.noOfThreads=noOfThreads;proc.successCount=0;proc.failureCount=0;if(noOfThreads>0){for(var i=0;i<noOfThreads;i++){var params=proc.threads[i];params.proc=proc;params.runner.call(params.runnerObj,params)}}else{if(this.isFunction(proc.callBack)){if(proc.callBackObj){proc.callBack.call(proc.callBackObj,proc)}else{proc.callBack(proc)}}}},procThreadCompleted:function(params){if(params){try{if(this.isFunction(params.callBack)){if(params.callBackObj){params.callBack.call(params.callBackObj,params)}else{params.callBack(params)}}if(params.proc){if(!params.status){params.proc.failureCount=params.proc.failureCount+1}else{params.proc.successCount=params.proc.successCount+1}if(params.proc.noOfThreads){params.proc.noOfThreads=params.proc.noOfThreads-1;if(params.proc.noOfThreads===0){if(this.isFunction(params.proc.callBack)){if(params.proc.callBackObj){params.proc.callBack.call(params.proc.callBackObj,params.proc)}else{params.proc.callBack(params.proc)}}}}}}catch(e){console.log("Error :"+e.message+"\n"+e.stack)}}},getFile:function(params){var content=null;if(this.getDataType(params)=="STRING"){var path=params;params={};params.path=path}var myobj=$(this)[0];if(this.isNull(params.async)){params.async=false}$.ajax({type:"GET",url:params.path,dataType:"text",async:params.async,success:function(data){params.status=true;params.content=data;myobj.procThreadCompleted(params);content=data},error:function(data){params.status=false;params.content=null;myobj.procThreadCompleted(params)}});return content},startLoader:function(){var status=true;if(this.isFunction(this.app.preStartLoader)){status=this.app.preStartLoader()}if(status){$("#apzloader").removeClass("sno ssp");$("body").addClass("loader-start")}},stopLoader:function(){var status=true;if(this.isFunction(this.app.preStopLoader)){status=this.app.preStopLoader()}if(status){$("#apzloader").addClass("sno");$("body").removeClass("loader-start")}},startSpinner:function(elmId){$("#"+elmId+"_spinner").removeClass("sno");$("#"+elmId).attr("aria-busy","true")},stopSpinner:function(elmId){var status=true;if(this.isFunction(this.app.preStopSpinner)){status=this.app.preStopSpinner()}if(status){$("#"+elmId+"_spinner").addClass("sno");$("#"+elmId).removeAttr("aria-busy")}},isNull:function(obj){return(!((obj!==null)&&(obj!=="")&&(obj!=="undefined")&&(obj!==undefined)))},getBoolean:function(flag){return(flag=="Y")},containsKey:function(obj,key){return key in obj},copyJSONObject:function(obj){var newObj=null;try{newObj=JSON.parse(JSON.stringify(obj))}catch(err){}return newObj},copyJSONObjectWithFilter:function(fromObj,excludeKeys,targetObj){var newObj=targetObj||{};try{for(var k in fromObj){if(fromObj.hasOwnProperty(k)&&excludeKeys.indexOf(k)==-1){newObj[k]=fromObj[k]}}}catch(err){}return newObj},copyObjByVal:function(){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){if(arguments[i].hasOwnProperty(key)){var val=arguments[i][key];if(Array.isArray(val)){arguments[0][key]=this.copyObjByVal(arguments[0][key]||[],val)}else{if(typeof val==="object"&&val!=null){arguments[0][key]=this.copyObjByVal(arguments[0][key]||{},val)}else{arguments[0][key]=val}}}}}return arguments[0]},clearJSONObject:function(obj){for(var m in obj){delete obj[m]}},sleep:function(millis,callBack){setTimeout(function(){if(callBack!==null){callBack()}},millis)},getFloat:function(str){var flt=null;try{flt=parseFloat(str)}catch(err){flt=null}if(flt.toString()=="NaN"){flt=null}return flt},getInt:function(str){var intVal=null;try{intVal=parseInt(str)}catch(err){intVal=null}if(intVal.toString()=="NaN"){intVal=null}return intVal},getDataType:function(object){if(object===null){return"null"}else{if(object===undefined){return"undefined"}else{if(object.constructor===String){return"STRING"}else{if(object.constructor===Array){return"Array"}else{if(object.constructor===Object){return"Object"}else{if(object==""){return"STRING"}else{return"none"}}}}}}},isFunction:function(obj){return(typeof obj=="function")},renameNode:function(params){try{if(params.oldName!=params.newName){var lstr=JSON.stringify(params.node);params.parentNode[params.newName]=JSON.parse(lstr);params.node=params.parentNode[params.newName];delete params.parentNode[params.oldName]}}catch(err){}return params.node},getObjRowNumber:function(obj){var rowno=obj.getAttribute("rowno");if(this.isNull(rowno)){rowno=-1}rowno=this.getInt(rowno);return rowno},getObjIdWORowNumber:function(obj){var id=obj.id;var lrecno=this.getObjRowNumber(obj);var idx=-1;if(lrecno!=-1){idx=id.lastIndexOf("_");id=id.substr(0,idx)}return id},getElmObjIdWORowNumber:function(obj){var id="";if(!this.isNull(obj)){id=obj.id;var lrecno=this.getElmObjRowNumber(obj);var idx=-1;if(lrecno!=-1){idx=id.lastIndexOf("_");id=id.substr(0,idx)}}return id},getElmObjRowNumber:function(obj){var rowno="";var trObj=$(obj).closest("[rowno]");if(trObj.length>0){var rowno=trObj.attr("rowno")}if(this.isNull(rowno)){rowno=-1}rowno=this.getInt(rowno);return rowno},getIfaceObj:function(ifaceId,appId){var ifaceName=this.getIfaceName(ifaceId);if(this.isNull(appId)){appId=this.currAppId}return this.ifacesMap[appId][ifaceName]},getIfaceType:function(iface,appId){var type="APPZILLON";var ifaceName=this.getIfaceName(iface);try{type=this.getIfaceObj(ifaceName,appId).type}catch(err){type="APPZILLON"}return type},getReqRoot:function(ifaceName){return ifaceName+"_Req"},getResRoot:function(ifaceName){var type=this.getIfaceType(ifaceName);var root=ifaceName+"_Res";if(type=="DATABASE"){root=ifaceName+"_Req"}return root},getIfaceIdFromDml:function(iface,dml){var dmlInd="";if(dml=="RES"){dmlInd="_Res"}else{if(dml=="REQ"){dmlInd="_Req"}}return iface+dmlInd},getNodeId:function(params){var id="";if(!this.isNull(params.node)){var dmlInd="i";if((params.dml=="RES")||(params.dml=="o")){dmlInd="o"}id=params.iface+this.idSep+dmlInd+this.idSep+params.node}return id},getNodeName:function(nodeId){var nodeName=nodeId;if(this.containsKey(this.scrMetaData.nodesMap,nodeId)){nodeName=this.scrMetaData.nodesMap[nodeId].name}return nodeName},getElmId:function(nodeId,elm){return nodeId+this.idSep+elm},getElmName:function(elmId){var elmName=elmId;if(this.containsKey(this.scrMetaData.elmsMap,elmId)){elmName=this.scrMetaData.elmsMap[elmId].name}return elmName},getElmIface:function(elmId){var iface="";var ind=elmId.indexOf(this.idSep);if(ind>=0){iface=elmId.substring(0,ind)}return iface},isDMLElm:function(elmId){var dmlElm=false;var elmDet=elmId.split(this.idSep);if(elmDet.length==5){if((!this.isNull(elmDet[0]))&&(!this.isNull(elmDet[0]))&&(!this.isNull(elmDet[0]))&&(!this.isNull(elmDet[0]))){dmlElm=true}}return dmlElm},readjustHeight:function(){try{var x,y;if(self.innerHeight){x=self.innerWidth;y=self.innerHeight}else{if(document.documentElement&&document.documentElement.clientHeight){x=document.documentElement.clientWidth;y=document.documentElement.clientHeight}else{if(document.body){x=document.body.clientWidth;y=document.body.clientHeight}}}var hdrHeight=jQuery("#header").height();if(this.isNull(hdrHeight)){hdrHeight=0}var ftrHeight=jQuery("#footer").height();if(this.isNull(ftrHeight)){ftrHeight=0}var pageHeight=y-(hdrHeight+ftrHeight);var pageWidth=x;var sidebarHeight=0;var body=document.getElementById("page-body");var sidebar=document.getElementById("sidebar");if(pageHeight<75){return false}else{body.style.paddingTop=hdrHeight+"px";body.style.paddingBottom=ftrHeight+"px";if(!this.isNull(sidebar)){sidebar.style.top=hdrHeight+"px";sidebar.style.bottom=ftrHeight+"px";sidebarHeight=sidebar.clientHeight}}if(body.clientHeight<=sidebarHeight){if(pageHeight>=sidebarHeight){sidebar.style.minHeight=pageHeight+"px"}}}catch(e){}},getEncryptionKey:function(){var key=this.encryptionKey;if(!this.isNull(key)){key=key.replace("$APPID",this.appId).replace("$DEVICEID",this.deviceId).replace("$USERID",this.userId)}return key},getDeviceGroup:function(){var path=this.getConfigPath()+"/devicegroups.json";var params={};params.path=path;params.async=false;params.id="DEVICEGROUP";params.callBack=null;params.content=this.getFile(params);var deviceGroups=JSON.parse(params.content);deviceGroups=deviceGroups.deviceGroups;var deviceGroup=null;var sw=this.screenSize.split("X")[0];var sh=this.screenSize.split("X")[1];sw=Math.round(sw/(this.screenPpi/this.stdPpi));sh=Math.round(sh/(this.screenPpi/this.stdPpi));var dw=0;var dh=0;var dt=0;var minDiff=999999;for(var i=0;i<deviceGroups.length;i++){if((deviceGroups[i].os=="ALL")||(deviceGroups[i].os==this.deviceOs)){dw=Math.abs(sw-deviceGroups[i].width);dh=Math.abs(sh-deviceGroups[i].height);if(dw==0&&dh==0){deviceGroup=deviceGroups[i].name;this.deviceGroupDet=deviceGroups[i];break}else{dt=dw+dh;if(dt<minDiff){deviceGroup=deviceGroups[i].name;minDiff=dt;this.deviceGroupDet=deviceGroups[i]}}}}return deviceGroup},onOrientationChange:function(params){if(this.isFunction(this.app.preOrientationChange)){this.app.preOrientationChange(params.orientation)}if(params.event=="orientation_change"){var currScr=this.currScr;var currLayout=this.getLayout({scr:currScr});this.orientation=params.orientation;var recLayout=this.getLayout({scr:currScr});if(currLayout!=recLayout){this.data.buildData();var args={};args.scr=currScr;this.launchScreen(args)}}if(this.isFunction(this.app.postOrientationChange)){this.app.postOrientationChange(params.orientation)}},getServerDateFormat:function(node){var format="";var ifaceName=this.scrMetaData.nodesMap[node].ifaceName;var appId=ifaceName.split("__")[0];var appInfo=this.ifacesMap[appId];if(appInfo&&appInfo[ifaceName]){format=appInfo[ifaceName].dateFormat}if(this.isNull(format)){if(this.isNull(this[this.appId].dateFormat)){format="yyyy-MM-dd"}else{format=this[this.appId].dateFormat}}return format},getServerTimeFormat:function(node){var format="";var ifaceName=this.scrMetaData.nodesMap[node].ifaceName;var appId=ifaceName.split("__")[0];var appInfo=this.ifacesMap[appId];if(appInfo&&appInfo[ifaceName]){format=appInfo[ifaceName].timeFormat}if(this.isNull(format)){if(this.isNull(this[this.appId].timeFormat)){format="hh:mm:ss"}else{format=this[this.appId].timeFormat}}return format},getServerDateTimeFormat:function(node){var format="";var ifaceName=this.scrMetaData.nodesMap[node].ifaceName;var appId=ifaceName.split("__")[0];var appInfo=this.ifacesMap[appId];if(appInfo&&appInfo[ifaceName]){format=appInfo[ifaceName].dateTimeFormat}if(this.isNull(format)){if(this.isNull(this[this.appId].dateTimeFormat)){format="yyyy-MM-dd"}else{format=this[this.appId].dateTimeFormat}}return format},formatDate:function(params){var value="";if(!this.isNull(params.val)){try{if(params.fromFormat!=params.toFormat){var ldate=null;if(params.fromFormat=="sssssssssssss"){ldate=new Date();ldate.setTime(params.val)}else{ldate=Date.parseExact(encodeURIComponent(params.val),encodeURIComponent(params.fromFormat))}if(params.toFormat=="sssssssssssss"){value=ldate.getTime()}else{value=ldate.toString(params.toFormat)}if(this.isNull(value)){value=params.val}}else{value=params.val}}catch(err){value=params.val}}return value},formatJqueryDate:function(params){var value="";if(!this.isNull(params.val)){try{var ldate=null;ldate=Date.parseExact(encodeURIComponent(params.val),encodeURIComponent(params.fromFormat));value=ldate}catch(err){value=null}}return value},getDecimalPoints:function(elmData,recNo){var decPoints=this.dfltDecimals;if(!this.isNull(elmData)){if(elmData.dataType=="INTEGER"){decPoints=0}else{var relId=elmData.relElm;if(!this.isNull(relId)){if(recNo!==-1){relId=relId+"_"+recNo}if(relId!="__"){var relObj=document.getElementById(relId);if(!this.isNull(relObj)){var ccy=this.getObjValue(relObj);if(!this.isNull(ccy)){try{decPoints=this.ccys[ccy];if(this.isNull(decPoints)){decPoints=this.dfltDecimals}}catch(e){decPoints=this.dfltDecimals}}}}}else{decPoints=elmData.maxDec;if(this.isNull(decPoints)){decPoints=this.dfltDecimals}}}if((this.isNull(decPoints))||(elmData.dataType!="INTEGER"&&decPoints==0)){decPoints=2}}return decPoints},million:function(params){if(params.decSep=="."){thouSep=","}else{thouSep="."}x=params.value.split(".");x1=x[0];x2=x.length>1&&!this.isNull(x[1])?params.decSep+x[1]:"";var rgx=/(\d+)(\d{3})/;while(rgx.test(x1)){x1=x1.replace(rgx,"$1"+thouSep+"$2")}if(x2.length>1&&params.decPoint>0){x2=params.decSep+x2.substring(1,params.decPoint+1);if((x[1].length)<=params.decPoint){for(i=0;i<(params.decPoint-x[1].length);i++){x2=x2+0}}}else{for(i=0;i<params.decPoint;i++){if(i==0){x1=x1+params.decSep+"0"}else{x1=x1+"0"}}}return(x1+x2)},lakh:function(params){if(params.decSep=="."){thouSep=","}else{thouSep="."}var runTime="N";var x=params.value.split(".");var value=x[0];var len=value.length;var len1=len-3;var i=value.substring(len-3,len);var j=value.substring(0,len-3);var result="";if(len>3){var a=2;if(len1%2==0){for(var count=0;count<len1;count++){result+=j.substring(count,a)+thouSep;count=count+1;a=a+2}}else{var k=value.substring(0,1)+thouSep;var l=j.substring(1,j.length);for(var count=0;count<l.length;count++){result+=l.substring(count,a)+thouSep;count=count+1;a=a+2}result=k+result}}result=result+i;if(x.length>1&&params.decPoint>0){result=result+params.decSep+x[1].substring(0,params.decPoint);if(x[1].length<params.decPoint){for(i=0;i<(params.decPoint-x[1].length);i++){result=result+0}}}else{for(i=0;i<params.decPoint;i++){if(i==0){result=result+params.decSep+"0"}else{result=result+"0"}}}return result},formatNumber:function(params){var lvalue="";if(params.decimalSep=="."){thousandSep=","}else{thousandSep="."}if(!this.isNull(params.value)){var decSep=params.decimalSep;var maskSep=thousandSep;var value=parseFloat(params.value);value=value.toString();if(value!==params.value.toString()){value=params.value.toString()}var lvalue=value.trim();var minus=lvalue.split(/-/g).length-1;if(minus>0){lvalue=lvalue.substring(1,lvalue.length)}if(params.displayAsLiteral=="Y"){if(params.mask=="MILLION"){if(lvalue>=10000000){lvalue=(lvalue/1000000000).toFixed(1)+"B"}else{if(lvalue>=100000){lvalue=(lvalue/1000000).toFixed(1)+"M"}else{if(lvalue>=1000){lvalue=(lvalue/1000).toFixed(1)+"K"}}}}else{if(params.mask=="LAKH"){if(lvalue>=10000000){lvalue=(lvalue/10000000).toFixed(1)+"C"}else{if(lvalue>=100000){lvalue=(lvalue/100000).toFixed(1)+"L"}else{if(lvalue>=1000){lvalue=(lvalue/1000).toFixed(1)+"K"}}}}}}else{var args={};args.value=lvalue;args.decSep=decSep;args.decPoint=params.decimalPoints;if(params.mask=="MILLION"){lvalue=this.million(args)}else{if(params.mask=="LAKH"){lvalue=this.lakh(args)}}}if(minus>0){lvalue="-"+lvalue}}return lvalue},formatNumberControl:function(obj){var id=obj.id;var elmData=null;var recNo=-1;recNo=this.getObjRowNumber(obj);id=this.getObjIdWORowNumber(obj);try{elmData=this.scrMetaData.elmsMap[id]}catch(e){elmData=null}var value=this.getObjValue(obj);if(!this.isNull(value)){var errorMsg=apz.val.validateNumber(obj,value,elmData.displayAsLiteral);if(this.isNull(errorMsg)){this.val.removeClass(obj);var params={};params.value=value;params.decimalSep=this.decimalSep;params.mask=this.numberMask;params.displayAsLiteral=elmData.displayAsLiteral;var decimalPoints=this.getDecimalPoints(elmData,recNo);params.decimalPoints=decimalPoints;value=this.unFormatNumber(params);params.value=value;value=this.formatNumber(params);this.setObjValue(obj,value)}else{if($(obj).hasClass("iosnumber")){obj.value=""}var params={code:errorMsg};this.val.addClass(obj);this.dispMsg(params)}}},formatNumberUIControl:function(obj){var id=obj.id;var elmData=null;var recNo=-1;recNo=this.getObjRowNumber(obj);id=this.getObjIdWORowNumber(obj);try{elmData=this.scrMetaData.elmsMap[id]}catch(e){elmData=null}var value=this.getObjValue(obj);if(!this.isNull(value)){value=this.unFormatNumber({decimalSep:this.decimalSep,displayAsLiteral:elmData.displayAsLiteral,value:value});if(apz.val.isNumber(value)){var decimalPoints=this.getDecimalPoints(elmData,recNo);var params={};params.value=value;params.decimalSep=this.decimalSep;params.decimalPoints=decimalPoints;params.mask=this.numberMask;params.displayAsLiteral=elmData.displayAsLiteral;value=this.unFormatNumber(params);value=this.formatNumber(params);this.setObjValue(obj,value)}else{var params={code:"APZ-CNT-078"};this.dispMsg(params)}}},unFormatNumber:function(params){if(params.decimalSep=="."){thousandSep=","}else{thousandSep="."}var lvalue=params.value;if(!this.isNull(params.value)){if(!this.isNull(params.displayAsLiteral)){if(params.displayAsLiteral=="Y"){var lastChar=lvalue.slice(-1);var val=lvalue.split(lastChar)[0];if(!$.isNumeric(lastChar)){lastChar=lastChar.toUpperCase();val=Number(val);if(lastChar=="C"){lvalue=val*10000000}else{if(lastChar=="L"){lvalue=val*100000}else{if(lastChar=="K"){lvalue=val*1000;lvalue=numeral().unformat(lvalue)}else{if(lastChar=="B"){lvalue=val*1000000000}else{if(lastChar=="M"){lvalue=val*1000000}else{lvalue=params.value}}}}}}}else{lvalue=params.value.toString();var regex=null;if(thousandSep=="."){regex=new RegExp(thousandSep,"g");lvalue=lvalue.replace(/\./g,"");regex=new RegExp(",","g");lvalue=lvalue.replace(regex,".")}else{regex=new RegExp(thousandSep,"g");lvalue=lvalue.replace(regex,"")}}}}return lvalue},dispMsg:function(params){Apz.dispMsgCBParams=params;var desc="";var placeHolder="";var type="E";var typeCls="";var cssClasses=null;var image=null;var lables={};var msgType=params.msgtype;var widgetId=params.widgetId;if(params.ignoreDispMsg){if(typeof params.callBack=="function"){if(params.callBackObj){params.callBack.call(params.callBackObj,params)}else{params.callBack(params)}}return}try{if(!this.isNull(params.message)||msgType=="INLINEMESSAGE"){desc=params.message;if(params.type){type=params.type}}else{var appId=params.appId;if(this.isNull(appId)){appId=this.currAppId}desc=this.msgs[appId]?this.msgs[appId][params.code]:"";if(this.isNull(desc)){desc=this.msgs[this.appId][params.code]}type=desc.substring(0,1);desc=desc.substring(1);if(!this.isNull(params.args)){var argsLen=0;var args=params.args.split("<#>");argsLen=args.length;for(var a=0;a<argsLen;a++){arg=args[a];if(arg.indexOf("<#>")>=0){arg="Invalid Argument"}ind=desc.indexOf("<#>");if(ind>=0){desc=desc.substring(0,ind)+arg+desc.substring(ind+3)}}}}}catch(err){desc="Error Code "+params.code+" is Missing. Please Contact Helpdesk.";type="E"}if(msgType=="LOG"){var closeOnClick=params.closeonclick;var logMsgPosition=params.logposition;if(apz.isNull(logMsgPosition)){logMsgPosition="top right"}alertify.logPosition(logMsgPosition);if(type=="S"&&!closeOnClick){alertify.closeLogOnClick(false).success(desc,Apz.dispMsgCB);typeCls="suc"}else{if(type=="E"&&!closeOnClick){alertify.closeLogOnClick(false).error(desc,Apz.dispMsgCB);typeCls="err"}else{if(type=="S"&&closeOnClick){alertify.closeLogOnClick(true).success(desc,Apz.dispMsgCB);typeCls="suc"}else{if(type=="E"&&closeOnClick){alertify.closeLogOnClick(true).error(desc,Apz.dispMsgCB);typeCls="err"}else{if(type=="W"&&!closeOnClick){alertify.closeLogOnClick(false).log(desc,Apz.dispMsgCB);typeCls="war"}else{if(type=="W"&&closeOnClick){alertify.closeLogOnClick(true).log(desc,Apz.dispMsgCB);typeCls="war"}else{if(closeOnClick){alertify.closeLogOnClick(true).log(desc,Apz.dispMsgCB);typeCls="inf"}else{alertify.closeLogOnClick(false).log(desc,Apz.dispMsgCB);typeCls="inf"}}}}}}}}else{if(msgType=="INLINEMESSAGE"){var parentElm;var $msgObj;var msgClass;if(type=="S"){$msgObj=$("#apz-message-success");msgClass="suc"}else{if(type=="W"){$msgObj=$("#apz-message-warning");msgClass="war"}else{if(type=="E"){$msgObj=$("#apz-message-error");msgClass="err"}else{$msgObj=$("#apz-message-info");msgClass="inf"}}}if(params.animClass){msgClass=msgClass+" animated "+params.animClass}if(params.parent!=undefined){parentElm=$(document.getElementById(params.parent));var cln=$msgObj[0].cloneNode(true);if(widgetId!=undefined){cln=document.getElementById(widgetId)}parentElm[0].appendChild(cln);$msgObj=$(cln)}if(!this.isNull(params.title)&&type=="I"){$msgObj.find("p").html(desc);desc=params.title}$msgObj.find("h4").html(desc);$msgObj.removeClass("sno");if(widgetId!=undefined){$msgObj.addClass("message pnt-ialt "+msgClass)}var delay=params.delay?params.delay:5000;setTimeout(function(){$msgObj.addClass("sno");if(parentElm&&parentElm.length!=0){if(widgetId!=undefined){parentElm.find($msgObj).addClass("sno");$msgObj.removeClass("message pnt-ialt "+msgClass)}else{parentElm.find($msgObj).remove()}}},delay)}else{if(!this.isNull(params.labels)&&(params.labels.length>=1)){lables=params.labels;if(lables.length==1){alertify.okBtn(this.getLabel(lables[0]))}else{if(lables.length==2){alertify.okBtn(this.getLabel(lables[0]));alertify.cancelBtn(this.getLabel(lables[1]))}}}else{if(type==="E"){alertify.okBtn(this.getLabel("LIT_OK"))}else{alertify.okBtn(this.getLabel("LIT_OK"));alertify.cancelBtn(this.getLabel("LIT_CANCEL"))}}if(type==="C"){alertify.confirm(desc,Apz.dispMsgCB,Apz.dispMsgCB);typeCls="con"}else{if(type==="P"){alertify.prompt(desc,Apz.dispMsgCB,Apz.dispMsgCB);typeCls="pro"}else{alertify.alert(desc,Apz.dispMsgCB,Apz.dispMsgCB);if(type==="S"){typeCls="suc"}else{if(type==="W"){typeCls="war"}else{if(type==="E"){typeCls="err"}else{typeCls="inf"}}}}}}}$(".alertify").addClass("pnt-alts "+typeCls);$(".alertify").children(".dialog").attr("role","alert")},hide:function(id){var obj=document.getElementById(id);if(!this.isNull(obj)){$(obj).addClass("sno")}},hideContainer:function(id){var obj;if(!this.isNull(this.scrMetaData.containersMap[id])){obj=document.getElementById(id)}else{if(!this.isNull(this.scrMetaData.chartsMap[id])){obj=document.getElementById(id+"_chart")}else{if(!this.isNull(this.scrMetaData.gaugesMap[id])){obj=document.getElementById(id+"_gauge")}}}if(!this.isNull(obj)){$(obj).addClass("sno")}},hideElement:function(pid){var id=pid;var tdid;var elementData=this.scrMetaData.elmsMap[id];if(!this.isNull(elementData)){tdid="td_"+id}else{var id=this.getElmObjIdWORowNumber(document.getElementById(id));elementData=this.scrMetaData.elmsMap[id];if(!this.isNull(elementData)){tdid="td_"+pid}else{id=id.slice(3);elementData=this.scrMetaData.elmsMap[id];tdid=pid}}if(!this.isNull(elementData)){var containerId=elementData.container;var containerData=this.scrMetaData.containersMap[containerId];var containerType=containerData.type;if(containerType=="FORM"){obj=document.getElementById(id+"_ul")}else{if(containerType=="LIST"||containerType=="NAVBAR"){var elmType=elementData.type;var spanElms=["DROPDOWN","INPUT","INPUTWITHBUTTON","SLIDER","TAGS","TEXTAREA"];if(spanElms.indexOf(elmType)!=-1){obj=$("#"+pid).parents("span.ecn:first")[0]}else{if(elmType=="FILEBROWSER"||elmType=="STEPPER"){obj=$("#"+pid).parents("ul:first")[0]}else{if(elmType=="PROGRESSBAR"){obj=$("#"+pid).parents("div.ecn:first")[0]}else{if(elmType=="CHECKBOX"){obj=$("#"+pid).parents("span.etb-chek:first")[0]}else{obj=document.getElementById(pid)}}}}}else{obj=document.getElementById(tdid)}}if(!this.isNull(obj)){$(obj).addClass("sno")}}else{$("#"+pid).addClass("sno")}var unmapelm=apz.isDMLElm(id);if(!unmapelm){var obj2=document.getElementById(id+"_title");if(!this.isNull(obj2)){$(obj2).addClass("sno")}}else{var elmId=this.getElmName(pid);var titleId=this.currAppId+"__"+this.currScr+"_Scr__"+elmId+"_title";var obj3=document.getElementById(titleId);if(!this.isNull(obj3)){$(obj3).addClass("sno")}}},hideColumn:function(id){var tdid,indx,recs;var elementData=this.scrMetaData.elmsMap[id];if(!this.isNull(elementData)){tdid="td_"+id+"_0"}else{var id=this.getElmObjIdWORowNumber(document.getElementById(id));elementData=this.scrMetaData.elmsMap[id];if(!this.isNull(elementData)){tdid="td_"+id+"_0"}else{id=id.slice(3);elementData=this.scrMetaData.elmsMap[id];tdid="td_"+id+"_0"}}var containerId=elementData.container;var containerData=this.scrMetaData.containersMap[containerId];var containerType=containerData.type;if(containerType=="LIST"||containerType=="NAVBAR"){var $id=$("#"+id+"_0");recs=$id.closest("li").children("span");indx=recs.index($id.parent("span").parent());$("#"+containerId).find("ul.alist").find("li").children(":nth-child("+(indx+1)+")").addClass("sno")}else{if(containerType=="TABLE"){var $tdid=$("#"+tdid);recs=$tdid.parent("tr").find("td");indx=recs.index($tdid);$("#"+containerId+"_table").find("tr").children(":nth-child("+(indx+1)+")").addClass("sno")}}},show:function(id){var obj=document.getElementById(id);if(!this.isNull(obj)){$(obj).removeClass("ssp sno")}},showContainer:function(id){var obj;if(!this.isNull(this.scrMetaData.containersMap[id])){obj=document.getElementById(id)}else{if(!this.isNull(this.scrMetaData.chartsMap[id])){obj=document.getElementById(id+"_chart")}else{if(!this.isNull(this.scrMetaData.gaugesMap[id])){obj=document.getElementById(id+"_gauge")}}}if(!this.isNull(obj)){$(obj).removeClass("sno")}},showElement:function(pid){var id=pid;var tdid;var elementData=this.scrMetaData.elmsMap[id];if(!this.isNull(elementData)){tdid="td_"+id}else{var id=this.getElmObjIdWORowNumber(document.getElementById(id));elementData=this.scrMetaData.elmsMap[id];if(!this.isNull(elementData)){tdid="td_"+pid}else{id=id.slice(3);elementData=this.scrMetaData.elmsMap[id];tdid=pid}}if(!this.isNull(elementData)){var containerId=elementData.container;var containerData=this.scrMetaData.containersMap[containerId];var containerType=containerData.type;if(containerType=="FORM"){obj=document.getElementById(id+"_ul")}else{if(containerType=="LIST"||containerType=="NAVBAR"){var elmType=elementData.type;var spanElms=["DROPDOWN","INPUT","INPUTWITHBUTTON","SLIDER","TAGS","TEXTAREA"];if(spanElms.indexOf(elmType)!=-1){obj=$("#"+pid).parents("span.ecn:first")[0]}else{if(elmType=="FILEBROWSER"||elmType=="STEPPER"){obj=$("#"+pid).parents("ul:first")[0]}else{if(elmType=="PROGRESSBAR"){obj=$("#"+pid).parents("div.ecn:first")[0]}else{if(elmType=="CHECKBOX"){obj=$("#"+pid).parents("span.etb-chek:first")[0]}else{obj=document.getElementById(pid)}}}}}else{obj=document.getElementById(tdid)}}if(!this.isNull(obj)){$(obj).removeClass("sno")}}else{$("#"+pid).removeClass("sno")}},showColumn:function(id){var tdid,indx,recs;var elementData=this.scrMetaData.elmsMap[id];if(!this.isNull(elementData)){tdid="td_"+id+"_0"}else{var id=this.getElmObjIdWORowNumber(document.getElementById(id));elementData=this.scrMetaData.elmsMap[id];if(!this.isNull(elementData)){tdid="td_"+id+"_0"}else{id=id.slice(3);elementData=this.scrMetaData.elmsMap[id];tdid="td_"+id+"_0"}}var containerId=elementData.container;var containerData=this.scrMetaData.containersMap[containerId];var containerType=containerData.type;if(containerType=="LIST"||containerType=="NAVBAR"){var $id=$("#"+id+"_0");recs=$id.closest("li").children("span");indx=recs.index($id.parent("span").parent());$("#"+containerId).find("ul.alist").find("li").children(":nth-child("+(indx+1)+")").removeClass("sno")}else{if(containerType=="TABLE"){var $tdid=$("#"+tdid);recs=$tdid.parent("tr").find("td");indx=recs.index($tdid);$("#"+containerId+"_table").find("tr").children(":nth-child("+(indx+1)+")").removeClass("sno")}}},getLabel:function(title,appId){var label=title;if(!this.isNull(title)){try{if(this.isNull(appId)){appId=this.currAppId}label=this.lits[appId]?this.lits[appId][title]:"";if(this.isNull(label)){label=this.lits[appId][this.language][title]}if(this.isNull(label)){label=this.lits[this.appId][title]}if(this.isNull(label)){label=this.lits[this.appId][this.language][title]}if(this.isNull(label)){label=title}}catch(e){label=title}}return label},replace:function(params){var lstring=params.string;lstring=lstring.replace(new RegExp(""+params.key+""),params.replaceData);return lstring},replaceAll:function(params){var lstring=params.string;lstring=lstring.replace(new RegExp(""+params.key+"","g"),params.replaceData);return lstring},getMaskedValue:function(maskFormat,value){var elemMaskFormatLength=maskFormat.length;var elemMaskFormat=maskFormat;var lmaskFormat=elemMaskFormat.replace(/[^\w\s]/gi,"");var lvalue=value;var j=0,i=0;var pattern=new RegExp(/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/);if(value.length<=lmaskFormat.length){while(i<elemMaskFormatLength){if(isNaN(elemMaskFormat[j])&&!pattern.test(elemMaskFormat[j])){j++;i++}else{if(pattern.test(elemMaskFormat[j])){j++}else{elemMaskFormat=elemMaskFormat.split("");elemMaskFormat[j]=lvalue[i];elemMaskFormat=elemMaskFormat.join("");j++;i++}}}}else{elemMaskFormat=lvalue}return elemMaskFormat},isObjectEmpty:function(obj){return jQuery.isEmptyObject(obj)},changeStyleTheme:function(newTheme){if(this.theme!=newTheme){var linkArr=$("link");if(this.baseThemesMap[this.theme]!==this.baseThemesMap[newTheme]){var lhref=linkArr[0].href;lhref=lhref.replace("styles/themes/"+this.baseThemesMap[this.theme]+"/css/"+this.baseThemesMap[this.theme]+".css","styles/themes/"+this.baseThemesMap[newTheme]+"/css/"+this.baseThemesMap[newTheme]+".css");$(linkArr[0]).attr("href",lhref)}for(var i=1;i<linkArr.length;i++){var lhref=linkArr[i].href;lhref=lhref.replace("styles/themes/"+this.theme,"styles/themes/"+newTheme);$(linkArr[i]).attr("href",lhref)}this.theme=newTheme}},changeLanguage:function(langCode,appId){if(this.language!=langCode){this.language=langCode;if(this.isNull(appId)){appId=this.currAppId}var def=this.getFile(this.getConfigPath(this.appId)+"/prjdef.json");def=JSON.parse(def);this.msgs[appId]=def.msgs[this.language];this.lits[appId]=def.lits[this.language]}},populateDropdown:function(obj,options){var opt="";var variation="";this.clearHtml(obj.id);var id=this.getObjIdWORowNumber(obj);var rowNo=this.getObjRowNumber(obj);var dropdownObj=this.copyJSONObject(this.scrMetaData.uiInitsMap[id]);if(dropdownObj){dropdownObj[0]=obj.id;if(rowNo!=-1&&rowNo!=0){var objId=id+"_"+rowNo;dropdownObj[0]=objId}variation=dropdownObj[6]}else{variation="filterTable"}var params={};params.obj=obj;params.options=options;params.dropdownObj=dropdownObj;if((variation==""||variation=="SIMPLE")&&obj.tagName=="INPUT"){var childUl=document.createElement("ul");for(var i=0;i<options.length;i++){var opt=$("<li id='"+obj.id+"_option_"+options[i].desc+"' tabindex='0' data-value='"+options[i].val+"'>"+options[i].desc+"</li>");if(i==0){$(opt).addClass("is-selected");$(obj).val(options[i].desc)}childUl.appendChild(opt[0])}var appender=$(obj).siblings("div");$(appender[0]).children().remove();$(appender[0]).append(childUl);this.initDropDownObj(dropdownObj,obj)}else{if(variation=="WITHSUBOPTIONS"){this.populateDropdownSublevels(params)}else{if(variation=="MULTISELECTCHECKBOX"){this.populateDropdownMultiselect(params)}else{if(obj.tagName=="INPUT"){var selectTag=$("#"+obj.id+"_select")[0];this.clearHtml(obj.id+"_select");this.clearHtml(obj.id+"_so");var ulTag=$("#"+obj.id+"_so")[0];$(ulTag).data("options","");var optLi="",optInput="",optLabel="";if(!apz.isNull(selectTag)&&!apz.isNull(ulTag)){for(var i=0;i<options.length;i++){opt=document.createElement("li");opt.setAttribute("data-value",options[i].val);opt.innerHTML=options[i].desc;selectTag.appendChild(opt);optLi=$('<li id="'+obj.id+"_option_"+options[i].desc+"\" class='form-group--checkbox' data-value=\""+options[i].val+'"></li>');optInput=$('<input id="'+obj.id+"_option_"+options[i].desc+"_input\" type='checkbox'  />");optLabel=$('<label id="'+obj.id+"_option_"+options[i].desc+'_label" for="'+obj.id+"_option_"+options[i].desc+'_input">'+options[i].desc+"</label>");ulTag.appendChild(optLi[0]);$(optLi).append(optInput[0]).append(optLabel[0])}}apz.initFilterElements(obj)}else{for(var i=0;i<options.length;i++){opt=document.createElement("option");opt.value=options[i].val;opt.innerHTML=options[i].desc;obj.appendChild(opt)}if(variation=="AUTOCOMPLETE"||variation=="MULTISELECTTAGS"){$(obj).siblings("span.select2").remove();this.initDropDownObj(dropdownObj,obj)}}}}}},populateDropdownSublevels:function(params){var optLi="",optSpan="";this.clearHtml(params.obj.id);if(params.obj.tagName=="INPUT"){var fragment=document.createDocumentFragment();var ul='<ul id="ul0">';var args={};args.ElmObj=params.obj;args.Arr=params.options;args.fragment=fragment;args.helper={currentUl:0,currentLi:"",incrementer:0};args.html={html:ul};this.createRecursiveDropdownLevels(args);var appender=$(params.obj).siblings("div");$(appender[0]).children().remove();$(fragment).append(args.html.html);$(appender[0]).append(fragment);this.initDropDownObj(params.dropdownObj,params.obj)}},populateDropdownMultiselect:function(params){var optLi="",optInput="",optLabel="";this.clearHtml(params.obj.id);if(params.obj.tagName=="INPUT"){var childUl=document.createElement("ul");for(var i=0;i<params.options.length;i++){optLi=$("<li id='"+params.obj.id+"_option_"+params.options[i].desc+"' tabindex='0' class='form-group--checkbox' data-value='"+params.options[i].val+"'></li>");optInput=$("<input id='"+params.obj.id+"_option_"+params.options[i].desc+"_input' type='checkbox'  />");optLabel=$("<label id='"+params.obj.id+"_option_"+params.options[i].desc+"_label' for='"+params.obj.id+"_option_"+params.options[i].desc+"_input'>"+params.options[i].desc+"</label>");if(i==0){$(params.obj).val(params.options[i].desc);$(optInput).prop("checked",true)}$(optLi).append(optInput[0]).append(optLabel[0]);childUl.appendChild(optLi[0]);if(!this.isNull(params.options[i].childs)&&params.options[i].childs.length>0){var childArr=params.options[i].childs;var $childUl1=document.createElement("ul");for(var i=0,len=childArr.length;i<len;i++){var $optLi1=$("<li id='"+params.obj.id+"_option_child"+childArr[i].desc+"' tabindex='0' class='form-group--checkbox' data-value='"+childArr[i].val+"'></li>");var $optInput1=$("<input id='"+params.obj.id+"_option_child"+childArr[i].desc+"_input' type='checkbox'  />");var $optLabel1=$("<label id='"+params.obj.id+"_option_child"+childArr[i].desc+"_label' for='"+params.obj.id+"_option_child"+childArr[i].desc+"_input'>"+childArr[i].desc+"</label>");$($optLi1).append($optInput1[0]).append($optLabel1[0]);$childUl1.appendChild($optLi1[0])}childUl.appendChild($childUl1)}}var appender=$(params.obj).siblings("div");$(appender[0]).children().remove();$(appender[0]).append(childUl);this.initDropDownObj(params.dropdownObj,params.obj)}},populateROSelect:function(obj,options){var dd="";var lclass=$($(obj).find("dd"))[0].classList;var classStr=lclass.toString();for(var i=0;i<options.length;i++){dd=document.createElement("dd");$(dd).attr("id",obj.id+"_"+i);$(dd).attr("value",options[i].val);$(dd).addClass(classStr);dd.innerHTML=options[i].desc;obj.appendChild(dd)}},createRecursiveDropdownLevels:function(params){var drdnObj=params.ElmObj;var myObj=this;for(var k=0;k<params.Arr.length;k++){var obj=params.Arr[k];for(var property in obj){var objDesc=obj.desc;if(obj.hasOwnProperty(property)){if(obj[property].constructor==Array){var ind=params.helper.incrementer+1;var ul='<ul id="ul'+ind+'">';params.html.html=params.html.html+ul;var newObj=this.copyJSONObject(params);newObj.fragment=params.fragment;newObj.ElmObj=drdnObj;newObj.helper.incrementer=ind;newObj.helper.currentUl=ind;newObj.Arr=obj[property];newObj.html=params.html;myObj.createRecursiveDropdownLevels(newObj)}else{if(property=="val"){var $li="<li data-value='"+obj[property]+"' id='"+params.ElmObj.id+"_option_"+objDesc+"' tabindex='0'>";var hasChild=false;for(var a in obj){if(obj.hasOwnProperty("property")&&obj.property.constructor==Array){hasChild=true}}var $optSpan="<span id='"+params.ElmObj.id+"_option_child"+objDesc+"' class='menu-expand'></span>";var tempHtml=params.html.html;if(!hasChild){params.html.html=tempHtml+$li+obj.desc+"</li>"}else{params.html.html=tempHtml+$li+$optSpan+obj.desc+"</li>"}params.helper.currentLi=params.ElmObj.id+"_option_"+objDesc}}}}if(k==params.Arr.length-1){params.html.html=params.html.html+"</ul>";params.helper.currentUl=params.helper.currentUl-1}}},getRecordNumber:function(container,recNo){var currPage=this.scrMetaData.containersMap[container].currPage;var pageSize=this.scrMetaData.containersMap[container].pageSize;var recNo=(pageSize*(currPage-1))+recNo;return recNo},toggleRowSelection:function(tableId){var checkboxId=$($($("#"+tableId).find("thead th")[0]).find("input")).attr("id");if($("#"+checkboxId).prop("checked")){apz.selectAllRows(tableId)}else{apz.unSelectAllRows(tableId)}},selectAllRows:function(tableId){var select=true;if(this.isFunction(this.app.preSelectAll)){select=this.app.preSelectAll(tableId);if(this.isNull(select)){select=true}}if(select){var ltableId="#"+tableId+" .group-checkable";$(ltableId).each(function(){if($(this).css("visibility")!=="hidden"){$(this).prop("checked",true)}})}if(this.isFunction(this.app.postSelectAll)){this.app.postSelectAll(tableId)}},unSelectAllRows:function(tableId){var unSelect=true;if(this.isFunction(this.app.preUnSelectAll)){unSelect=this.app.preUnSelectAll(tableId);if(this.isNull(unSelect)){unSelect=true}}if(unSelect){var ltableId="#"+tableId+" .group-checkable";$(ltableId).prop("checked",false)}if(this.isFunction(this.app.postUnSelectAll)){this.app.postUnSelectAll(tableId)}},changeTypeToText:function(obj){if($(obj).hasClass("iosnumber")){$(obj).attr("type","text")}},addScriptsPath:function(appId,scripts){if(!this.isNull(scripts)){var count=scripts.length;for(var i=0;i<count;i++){if(scripts[i].substring(0,4)=="cwd/"){scripts[i]=this.getInfraPath()+"/"+scripts[i]}else{scripts[i]=this.getScriptsPath(appId)+"/"+scripts[i]}}}},setSelectedFileName:function(obj){var id=obj.id;var spanLi=$("#"+id).parent().parent().siblings().find("#selectedfiles");$(spanLi).children().remove();var result=$(obj)[0].files;for(var x=0;x<result.length;x++){var file=result[x];$(spanLi).append("<p>"+file.name+", </p>")}},changeTypeToNumber:function(obj){var val=this.getObjValue(obj);if(!this.isNull(val)){var params={};params.value=val;params.decimalSep=this.decimalSep;val=this.unFormatNumber(params);obj.value=val}$(obj).attr("type","number")},onRowElmChange:function(obj,event){if($(obj).closest("tr").length>0){var obj=$(obj).closest("tr")[0];this.data.rowClicked(obj,event)}},getID:function(elmData,recNo){var id=elmData.id;if(!this.isNull(recNo)){if(recNo!=-1){id=id+this.recSep+recNo}}return id},getHtml:function(id){return $("#"+id).html()},setHtml:function(id,html){if(this.bindingEngine=="ANGULAR"){angular.element(document).injector().invoke(function($compile){var loadDiv=$("#"+id);loadDiv.html(html);$compile(loadDiv.contents())(apz.data.angularAppScope);apz.data.angularAppScope.data=apz.data.scrdata})}else{if(apz.deviceType=="WIN8SURFACE"||apz.deviceType=="WIN8.1SURFACE"||apz.deviceType=="WIN8.1PHONE"){MSApp.execUnsafeLocalFunction(function(){$("#"+id).html(html)})}else{$("#"+id).html(html)}}},clearHtml:function(id){$("#"+id).empty()},getElmValue:function(id){return this.getObjValue(document.getElementById(id))},getValue:function(elmData,recNo){var id=this.getID(elmData,recNo);var value="";var obj=document.getElementById(id);if(!this.isNull(obj)){if(elmData.type=="GAUGE"){}else{if(!this.isNull(elmData.mask)){value=$("#"+id).attr("apzvalue")}else{value=this.getObjValue(obj);var dataType=elmData.dataType;var presetDataType=elmData.preset;var nodeId=elmData.nodeId;if(dataType=="NUMBER"||dataType=="INTEGER"){if(elmData.skipFormat=="N"){var params={};params.value=value;params.decimalSep=this.decimalSep;params.displayAsLiteral=elmData.displayAsLiteral;value=this.unFormatNumber(params)}}else{if(dataType=="TIME"){var serverTimeFormat=this.getServerTimeFormat(nodeId);value=this.formatTime(value,this.timeformat,serverTimeFormat)}else{if(dataType=="DATETIME"){var serverDateTimeFormat=this.getServerDateTimeFormat(nodeId);var params={};params.val=value;params.fromFormat=this.dateTimeFormat;params.toFormat=serverDateTimeFormat;value=this.formatDate(params)}else{if(dataType=="DATE"){var serverdateFormat=this.getServerDateFormat(nodeId);var params={};params.val=value;params.fromFormat=this.dateFormat;params.toFormat=serverdateFormat;value=this.formatDate(params)}}}}}}if(elmData.isArray=="Y"){if(value.indexOf(",")>0){value=value.split(",")}else{value=new Array(value)}}}return value},getObjValue:function(obj){var value="";var tagName=obj.tagName;var elmData="";var idType=$(obj).attr("apztype");var objRowNo=this.getObjRowNumber(obj);if(objRowNo!=-1){var objRowId=this.getObjIdWORowNumber(obj);elmData=this.scrMetaData.elmsMap[objRowId]}else{elmData=this.scrMetaData.elmsMap[obj.id]}if(!this.isNull(elmData)&&elmData.custom=="Y"){var custObj=apz[elmData.type];if(custObj&&apz.isFunction(custObj.getObjValue)){value=custObj.getObjValue(obj)}}else{if(tagName=="INPUT"||(tagName=="SPAN"&&!this.isNull(elmData)&&elmData.type=="DROPDOWN")){var id=obj.id;var type=$("#"+id).attr("type");if(type=="hidden"){if(obj.classList.contains("appzillon_date")){try{value=$("#"+id)[0].nextElementSibling.firstChild.data}catch(e){value=""}}}else{if(type=="CHECKBOX"){if($(obj).prop("indeterminate")){value=$(obj).attr("indeterminateval")}else{var checkedAttr=$(obj).attr("checked");if(checkedAttr!=null&&checkedAttr!=undefined){value=$(obj).attr("checkedval")}else{value=$(obj).attr("uncheckedval")}}}else{if(!this.isNull(elmData)&&elmData.type=="DROPDOWN"){var dropDownDiv=document.getElementById(obj.id+"_div");var opts=$(dropDownDiv).find("ul li");var noOfElem=$(dropDownDiv).find("ul li").length;var allVals=[];if($(obj).parent().hasClass("is-multi-tiered")){var indx;var labelOpts=$(dropDownDiv).find("label");var chkOpts=$(dropDownDiv).find("input");for(i=0;i<opts.length;i++){if($(opts[i]).find("input").prop("checked")){allVals.push(opts[i].getAttribute("data-value"))}}}else{var valArr=$(dropDownDiv).find("ul .is-selected");if(valArr[0]){var valArrlength=valArr.length;for(i=0;i<valArrlength;i++){allVals.push(valArr[i].getAttribute("data-value"))}}}if(allVals.length>0){value=allVals.join(",")}else{value=""}}else{if(!this.isNull(elmData)&&elmData.type=="DROPDOWNWITHINPUT"){var valArr=$(obj).siblings("div").find("ul li.is-selected");if(valArr.length>0){value=valArr[0].getAttribute("value")}else{value=""}}else{value=obj.value}}}}}else{if((tagName=="LI")||(tagName=="DIV")){if(idType=="toggleswitch"){var id0=obj.id+"_00";var id1=obj.id+"_11";var id0Obj=document.getElementById(id0);var id1Obj=document.getElementById(id1);if(id0Obj.checked){value=$(id0Obj).val()}else{value=$(id1Obj).val()}}else{if(idType=="radiogroup"){$(obj).find("input").each(function(){if($(this).attr("type")=="radio"){var checked=$(this).is(":checked");if(checked){value=$(this).val()}}})}else{if(idType=="progress"){value=obj.style.width.split("%")[0];value=+value/100}}}}else{if(tagName=="SELECT"){if(!this.isNull(elmData)&&elmData.isArray=="Y"){value=$(obj).val()}else{var selOpts=$("#"+obj.id+" option:selected");var allVal=[];for(var i=0;i<selOpts.length;i++){allVal.push($(selOpts[i]).attr("value"))}value=allVal.toString()}}else{if(tagName=="TEXTAREA"){value=obj.value}else{if(tagName=="DD"){value=obj.textContent}else{if(tagName=="DL"){var ddList=$(obj).find("dd");if(ddList.length>0){for(var i=0;i<ddList.length;i++){if(!$(ddList[i]).hasClass("sno")){value=$(ddList[i]).attr("value");break}}}}else{if(tagName=="P"||tagName=="H1"||tagName=="H2"||tagName=="H3"||tagName=="H4"||tagName=="H5"||tagName=="H6"){var currObj=$(obj).find("#"+obj.id+"_txtcnt");if(currObj.length==0){currObj=obj}value=$(currObj).text()}else{if(tagName=="A"){if(obj.classList.contains("editable")&&elmData.type=="DROPDOWN"){value=$(obj).attr("value")}else{var currObj=$(obj).find("#"+obj.id+"_txtcnt");if(currObj.length==0){currObj=obj}value=$(currObj).text()}}else{if(tagName=="IMG"||(tagName=="SPAN"&&obj.getAttribute("type")=="SVG")){if(tagName=="SPAN"&&obj.getAttribute("type")=="SVG"){value=obj.innerHTML}else{var source=obj.src;if(source!=null&&source!=""&&(source.indexOf(".")==-1)){if(source.indexOf("data:image/svg+xml;base64,")>-1){value=source}else{value=source.substr(22,source.length)}}else{value=source}}}else{if(tagName=="svg"){var classes=obj.getAttribute("class").split("icon-");if(classes.length>1){value="icon-"+classes[1].split(" ")[0]}}else{if(tagName=="PROGRESS"){value=obj.value}else{if(tagName=="SPAN"){if(idType=="radiogroup"){var id=obj.id;$("#"+id).find("input").each(function(){if($(this).attr("type")=="radio"){var checked=$(this).is(":checked");if(checked){value=$(this).val()}}})}else{value=obj.textContent}}else{if(tagName=="BUTTON"){if($(obj).hasClass("with-dropddown")){var valArr=$(obj).siblings("div").find("ul li");var valArrlength=valArr.length;for(i=0;i<valArrlength;i++){if(valArr[i].getAttribute("value")==obj.value){value=valArr[i].getAttribute("value")}}}else{var currObj=$(obj).find("#"+obj.id+"_txtcnt");if(currObj.length==0){currObj=obj}value=$(currObj).text()}}else{if(!this.isNull(elmData)&&elmData.type=="SORTCODEACCOUNT"){for(var i=1;i<=4;i++){value=value+$("#"+obj.id+"_"+i).val();if(i!=4){value=value+"-"}}}}}}}}}}}}}}}}}return value},setElmValue:function(id,value){this.setObjValue(document.getElementById(id),value)},setValue:function(params){var id=this.getID(params.elmData,params.recNo);var obj=document.getElementById(id);var value=params.value;if(this.isNull(value)){value=""}if(!this.isNull(obj)){if(params.elmData.type=="GAUGE"){var myObj=this;if(!apz.isNull(value)){requirejs([this.getInfraPath()+"/appzillon/gauges.js"],function(){var gaugeId=myObj.getObjIdWORowNumber(obj);var gaugeObj=myObj.scrMetaData.gaugesMap[gaugeId];var newGaugeObj=myObj.copyJSONObject(gaugeObj);newGaugeObj.uiId=id;newGaugeObj.value=value;try{var gauges=new Apz.Gauges(myObj);gauges.paintGauge(newGaugeObj)}catch(e){console.log("Problems with Gauges Library")}})}}else{if(!this.isNull(params.elmData.mask)){$("#"+id).attr("apzvalue",value);value=this.getMaskedValue(params.elmData.mask,value)}else{var dataType=params.elmData.dataType;if(dataType!="STRING"){var nodeId=params.elmData.nodeId;var presetDataType=params.elmData.preset;if((dataType=="NUMBER"||dataType=="INTEGER")){if(params.elmData.skipFormat=="N"){var decPoints=this.getDecimalPoints(params.elmData,params.recNo);var args={};args.value=value;args.decimalSep=this.decimalSep;args.decimalPoints=decPoints;args.mask=this.numberMask;args.displayAsLiteral=params.elmData.displayAsLiteral;value=this.formatNumber(args)}}else{if(dataType=="TIME"){var serverTimeFormat=this.getServerTimeFormat(nodeId);value=this.formatTime(params.value,serverTimeFormat,this.timeFormat)}else{if(dataType=="DATETIME"){var serverDateTimeFormat=this.getServerDateTimeFormat(nodeId);var param={};param.val=value;param.fromFormat=serverDateTimeFormat;param.toFormat=this.dateTimeFormat;value=this.formatDate(param)}else{if(dataType=="DATE"){var ltype=$("#"+id).attr("type");var param={};param.val=value;param.toFormat=this.dateFormat;var serverdateFormat=this.getServerDateFormat(nodeId);param.fromFormat=serverdateFormat;if($("#"+id).hasClass("form-control--datepicker")){value=this.formatJqueryDate(param)}else{value=this.formatDate(param)}}}}}}if(obj.tagName=="IMG"){if((this.isNull(params.elmData.nodeId))&&(this.isNull(params.elmData.name))){value=obj.getAttribute("src")}}if(!this.isNull(params.elmData.mask)){$("#"+id).attr("apzvalue",value);value=this.getMaskedValue(params.elmData.mask,value)}}}if(params.elmData.isArray=="Y"){if(Array.isArray(params.value)){value=params.value.toString()}}if(params.elmData.type!="GAUGE"){this.setObjValue(obj,value)}}},setObjValue:function(obj,value){var tagName=obj.tagName;var elmData="";if(this.isNull(value)){value=""}var $obj=$(obj);var objRowNo=this.getObjRowNumber(obj);if(objRowNo!=-1){var objRowId=this.getObjIdWORowNumber(obj);elmData=this.scrMetaData.elmsMap[objRowId]}else{elmData=this.scrMetaData.elmsMap[obj.id]}var idType=$(obj).attr("apztype");if(!this.isNull(elmData)&&elmData.custom=="Y"){var custObj=apz[elmData.type];if(custObj&&apz.isFunction(custObj.setObjValue)){custObj.setObjValue(obj,value)}}else{if(tagName=="INPUT"||(tagName=="SPAN"&&!this.isNull(elmData)&&elmData.type=="DROPDOWN")){var id=obj.id;var type=$("#"+id).attr("type");if(type=="hidden"){if(obj.classList.contains("appzillon_date")){$("#"+id)[0].nextElementSibling.innerHTML=value}}else{if(type=="CHECKBOX"){var checkedVal=$obj.attr("checkedval");var uncheckedVal=$obj.attr("uncheckedval");var indeterminateVal=$obj.attr("indeterminateval");obj.indeterminate=false;if(value==checkedVal){obj.value=checkedVal;$obj.prop("checked",true)}else{if(value==indeterminateVal){obj.value=indeterminateVal;obj.indeterminate=true}else{obj.value=uncheckedVal;$obj.prop("checked",false)}}}else{if(!this.isNull(elmData)&&elmData.type=="DROPDOWN"){var dropDownDiv=document.getElementById(obj.id+"_div");var opts=$(dropDownDiv).find("ul li");var noOfElem=$(dropDownDiv).find("ul li").length;var isWithCheckbox=false;var isWithSubOpt=false;if(tagName!="SPAN"){if($(opts[0]).find("label").length>0){isWithCheckbox=true}else{if($(opts[0]).find("span").length>0){isWithSubOpt=true}}}if($(obj).parent().hasClass("is-multi-tiered")){var indx;var resArr=[];var valArr=value.split(",");var labelOpts=$(dropDownDiv).find("label");var chkOpts=$(dropDownDiv).find("input");for(i=0;i<opts.length;i++){indx=valArr.indexOf(opts[i].getAttribute("data-value"));if(indx>-1){resArr.push(labelOpts[i].innerHTML);$(chkOpts[i]).prop("checked",true)}else{$(chkOpts[i]).prop("checked",false)}}resArr=resArr.toString();$(obj).val(resArr)}else{if(isWithSubOpt){for(var i=0;i<noOfElem;i++){if(opts[i].getAttribute("data-value")==value){obj.value=$(opts[i]).text();$(opts[i]).addClass("is-selected")}else{$(opts[i]).removeClass("is-selected")}}}else{for(var i=0;i<noOfElem;i++){if(opts[i].getAttribute("data-value")==value){if(tagName!="SPAN"){obj.value=opts[i].innerHTML}else{obj.innerHTML=opts[i].innerHTML}$(opts[i]).addClass("is-selected")}else{$(opts[i]).removeClass("is-selected")}}if($(opts[0]).parent().find(".is-selected").length==0){if(tagName!="SPAN"){obj.value=""}else{obj.innerHTML=""}}}}if(!this.isNull(obj.getAttribute("onChange"))&&!this.isNull(value)){$("#"+obj.id).trigger("change")}}else{if(!this.isNull(elmData)&&elmData.type=="DROPDOWNWITHINPUT"){var opts=$(obj).siblings("div").find("ul li");var noOfElem=$(obj).siblings("div").find("ul li").length;var inputid=$(obj).parents("li:first").siblings("li").find("input")[0].id;for(var i=0;i<noOfElem;i++){if(opts[i].getAttribute("value")==value){var inputBoxId=$(obj).attr("id");$("#"+inputid).val(opts[i].innerHTML);$(opts[i]).addClass("is-selected")}else{$(opts[i]).removeClass("is-selected")}}if($(opts[0]).parent().find(".is-selected").length==0){$("#"+inputid).val("")}}else{if(type=="text"&&idType=="tags"){$(obj).importTags(value);if(!apz.isNull($(obj).attr("readonly"))||!apz.isNull($(obj).attr("disabled"))){$(obj).parent().find(".tagsinput").find("a").remove()}}else{if(idType=="stepper"){var minVal=parseFloat(obj.getAttribute("min"));var maxVal=parseFloat(obj.getAttribute("max"));var minusObj=$(obj).parent().siblings("li:first").children("button");var plusObj=$(obj).parent().siblings("li:last").children("button");obj.value=value;if(value<=minVal){minusObj.attr("disabled","disabled");plusObj.removeAttr("disabled")}else{if(value>=maxVal){plusObj.attr("disabled","disabled");minusObj.removeAttr("disabled")}else{if(!isNaN(value)){plusObj.removeAttr("disabled");minusObj.removeAttr("disabled")}}}}else{if(type!="file"){this.changeTypeToText(obj);obj.value=value}}}}}}}}else{if(tagName=="LI"||tagName=="DIV"){if(idType=="toggleswitch"){var id0=obj.id+"_00";var id1=obj.id+"_11";if($("#"+id0).val()==value){$("#"+id0)[0].checked=true;$("#"+id1)[0].checked=false}else{$("#"+id1)[0].checked=true;$("#"+id0)[0].checked=false}}else{if(idType=="radiogroup"){$obj.attr("value",value);var lid=obj.id;var id=lid+"_option_"+value;$("#"+id).attr("checked",true)}else{if(idType=="progress"){value=+value;value=value*100;$(obj).css("width",""+value+"%")}}}}else{if(tagName=="SELECT"){var noOfElem=obj.options.length;var makeNull=true;if($(obj).parent().hasClass("mltt")){var valArr=value.split(",");var indx;var appender;var tagArr=[];$(obj).parent().find(".select2-selection__rendered .select2-selection__choice").remove();for(var i=0;i<noOfElem;i++){indx=valArr.indexOf(obj.options[i].value);if(indx>-1){makeNull=false;tagArr.push($(obj.options[i]).attr("value"))}else{$(obj.options[i]).prop("selected",false)}}if(makeNull){$(obj).val("").trigger("change")}else{$(obj).val(tagArr).trigger("change")}}else{var optVal="";for(var i=0;i<noOfElem;i++){if(obj.options[i].value==value){makeNull=false;obj.selectedIndex=i;if($(obj).parent().hasClass("acpt")){optVal=$(obj.options[i]).attr("value");$(obj).val(optVal).trigger("change")}}}if(makeNull){obj.selectedIndex="";if($(obj).parent().hasClass("acpt")){$("#"+obj.id).val("").trigger("change")}}}if(!this.isNull(obj.getAttribute("onChange"))&&!this.isNull(value)){$("#"+obj.id).trigger("change")}}else{if(tagName=="TEXTAREA"){obj.value=value}else{if(tagName=="DD"){obj.innerHTML=value}else{if(tagName=="DL"){var ddList=$(obj).find("dd");if(ddList.length>0){ddList.addClass("sno");var dropValue=value.split(",");for(var i=0;i<ddList.length;i++){if(dropValue.indexOf($(ddList[i]).attr("value"))!=-1){$(ddList[i]).removeClass("sno")}}}}else{if(tagName=="P"||tagName=="H1"||tagName=="H2"||tagName=="H3"||tagName=="H4"||tagName=="H5"||tagName=="H6"){var currObj=$(obj).find("#"+obj.id+"_txtcnt");if(currObj.length==0){currObj=obj}$(currObj).text(value)}else{if(tagName=="A"){var currObj=$(obj).find("#"+obj.id+"_txtcnt");if(currObj.length==0){currObj=obj}$(currObj).text(value);if(!this.isNull(value)&&$(obj).hasClass("mbsc-comp editable")){var format="";if(elmData.dataType=="DATE"){format=this.dateformat}else{if(elmData.dataType=="DATETIME"){format=this.datetimeformat}}var functionParam=mobiscroll.util.datetime.parseDate(format,value);$(obj).mobiscroll("setDate",functionParam)}if($(obj).data("editable")&&value!=null){$(obj).editable("setValue",value);$(obj).attr("value",value)}}else{if(tagName=="IMG"||(tagName=="SPAN"&&obj.getAttribute("type")=="SVG")){var myStatus;var isSVG=false;if((tagName=="SPAN"&&obj.getAttribute("type")=="SVG")){isSVG=true}if(value!=null&&value!=""&&(value.indexOf(".")==-1)){if(isSVG){obj=this.swipeIdsForImage(obj)}myStatus=value.indexOf("data:image/");if(myStatus==-1){myStatus=value.indexOf("data:image/jpg;base64,");if(myStatus==-1){obj.src="data:image/png;base64,"+value}else{obj.src=value}}else{obj.src=value}}else{if((value.indexOf("<svg")==0)||(value.indexOf("<?xml")==0)||(value.indexOf("<!DOCTYPE")==0)||(value.substr(value.length-4))==".svg"){if(!isSVG){obj=this.swipeIdsForImage(obj)}var $obj=$(obj);if((value.substr(value.length-4))==".svg"){var currTheme=this.theme;myStatus=value.indexOf("styles/themes/"+currTheme+"/img");if(!this.isNull(myStatus)&&myStatus!=-1){var val=this.getFile(value);$obj.html(val)}else{var path=this.getStylesPath()+"/"+currTheme+"/img/"+value;var val=this.getFile(path);$obj.html(val)}}else{$obj.html(value)}}else{if(isSVG){obj=this.swipeIdsForImage(obj)}if(value!=null&&value!=""){var currTheme=this.theme;myStatus=value.indexOf("styles/themes/"+currTheme+"/img");if(!this.isNull(myStatus)&&myStatus!=-1){obj.src=value}else{obj.src=this.getStylesPath()+"/"+currTheme+"/img/"+value}}else{obj.src=value}}}}else{if(tagName=="svg"){var classes=obj.getAttribute("class").split("icon-");if(classes.length>1){$(obj).removeClass("icon-"+classes[1].split(" ")[0]).addClass(value);$(obj).find("use").attr("xlink:href","#"+value)}else{$(obj).addClass(value);$(obj).find("use").attr("xlink:href","#"+value)}}else{if(tagName=="PROGRESS"){obj.value=value}else{if(tagName=="SPAN"){if(idType=="radiogroup"){var lid=obj.id;$obj.attr("value",value);var id=lid+"_option_"+value;$("#"+id).attr("checked",true)}else{obj.innerHTML=value}}else{if(tagName=="BUTTON"){if($(obj).hasClass("with-dropddown")){var opts=$(obj).siblings("div").find("ul li");var noOfElem=$(obj).siblings("div").find("ul li").length;for(var i=0;i<noOfElem;i++){if(opts[i].getAttribute("value")==value){value=opts[i].innerHTML}}$(obj).html(value)}else{var currObj=$(obj).find("#"+obj.id+"_txtcnt");if(currObj.length==0){currObj=obj}$(currObj).text(value)}}else{if(!this.isNull(elmData)&&elmData.type=="SORTCODEACCOUNT"){var codes=value.split("-");for(var i=0;i<4;i++){if(codes[i]){$("#"+obj.id+"_"+(i+1)).val(codes[i])}}}}}}}}}}}}}}}}}},getHTMLFileName:function(scr,lo,tmpl){return scr+"_"+lo+"_"+tmpl+"_"+this.language+".html"},getIfaceName:function(iface){var len=iface.length;if(len>4){var end4=iface.substr(len-4);var end2=iface.substr(len-2);if((end4=="_Req")||(end4=="_Res")){iface=iface.substr(0,len-4)}else{if((end4=="_i")||(end4=="_o")){iface=iface.substr(0,len-2)}else{var ind=iface.lastIndexOf("_");if(ind>=0){var action=iface.substring(ind+1);if(!this.isNull(action)){if((action=="Query")||(action=="New")||(action=="Modify")||(action=="Delete")||(action=="Authorize")){iface=iface.substring(0,ind)}}}}}}return iface},getLayout:function(params){var layout="";if(!this.isNull(this.firstPageLayout)){layout=this.firstPageLayout;delete this.firstPageLayout}else{var appId=params.appId?params.appId:this.currAppId;var scr=params.scr?params.scr:this.currScr;var deviceGroup=params.deviceGroup?params.deviceGroup:this.deviceGroup;var orientation=params.orientation?params.orientation:this.orientation;var loObj=this.loMap[appId][scr];if(!loObj){layout=this.loMap[appId][Object.keys(this.loMap[appId])[0]][deviceGroup][orientation]}else{layout=loObj[deviceGroup][orientation]}}return layout},getDesigns:function(params){var appId=params.appId?params.appId:this.currAppId;var scr=params.scr?params.scr:this.currScr;var layout=params.layout?params.layout:this.getLayout(params);var deviceGroup=params.deviceGroup?params.deviceGroup:this.deviceGroup;var orientation=params.orientation?params.orientation:this.orientation;var customizer=params.customizer?params.customizer:"N";var key=scr+this.idSep+layout,design="";var res={};if(!this.containsKey(this.loDefsMap[appId],key)){params={};params.id="LODEF";params.scr=scr;params.lo=layout;params.runnerObj=this;params.runner=this.getFile;params.callBack=this.loadLayoutDef;params.callBackObj=this;params.path=this.getScrDefPath(appId)+"/"+scr+"_"+layout+".json";params.appId=appId;params.async=false;this.getFile(params)}var designInfo=this.loDefsMap[appId][key];design=designInfo.defaultTemplate;if(this.customizer&&designInfo.customize=="Y"){key=scr+this.idSep+layout+this.idSep+designInfo.defaultTemplate;if(!this.containsKey(this.customizer.config[appId],key)){params={scr:scr,lo:layout,customizer:customizer,appId:appId};params.id="CUSTOMIZERSERVICE";params.template="";this.customizer.getTemplateCustomizedInfo(params)}key=scr+this.idSep+layout+this.idSep+params.template;var config=this.customizer.config[appId][key];if(config&&config.isModified){design=config.template}}res.icons=designInfo.icons;res.designs=designInfo.designs;res.currentDesign=design;res.designDisplayNames=designInfo.designDisplayNames;return res},getScreens:function(appId,type){var res={};appId=appId?appId:this.currAppId;res.screens=this.scrs[appId];if(type=="PG"){res.currentScreen=this.currScr}else{res.currentScreen=this.childScr}return res},getOrientations:function(deviceGroupName){var res={};res.orientations=[];for(var i=0;i<this.deviceGroups.length;i++){var group=this.deviceGroups[i];if(deviceGroupName==group.name){if(group.orientation=="ANY"){res.orientations.push("LANDSCAPE","PORTRAIT")}else{res.orientations.push(group.orientation)}}}res.currentOrientation=this.orientation;return res},getDeviceGroupNames:function(){var res={};res.groupNames=[];for(var i=0;i<this.deviceGroups.length;i++){var group=this.deviceGroups[i];res.groupNames.push(group.name)}res.currentGroupName=this.deviceGroup;return res},initScrDef:function(scrMeta){var noOfNodes=scrMeta.nodes.length;for(var n=0;n<noOfNodes;n++){if(scrMeta.nodes[n].relType=="1:N"){scrMeta.nodes[n].currRec=-1}else{scrMeta.nodes[n].currRec=0}}var noOfContainers=scrMeta.containers.length;for(var c=0;c<noOfContainers;c++){scrMeta.containers[c].pageRows=0;scrMeta.containers[c].totalRecs=0;scrMeta.containers[c].currRec=-1;scrMeta.containers[c].currPage=0;scrMeta.containers[c].totalPages=0}},appendScrDef:function(parentMeta,childMeta){var noOfChildIfaces=childMeta.ifaces.length;var noOfChildNodes=childMeta.nodes.length;var noOfChildElms=childMeta.elms.length;var noOfChildCntnrs=childMeta.containers.length;var noOfChildGroups=childMeta.groups.length;var noOfChildScreens=childMeta.childScreens.length;var noOfParentIfaces=parentMeta.ifaces.length;var noOfParentNodes=parentMeta.nodes.length;var noOfParentElms=parentMeta.elms.length;var noOfParentCntnrs=parentMeta.containers.length;var noOfParentGroups=parentMeta.groups.length;var noOfParentScreens=parentMeta.childScreens.length;var noOfChildCharts=childMeta.charts.length;var noOfParentCharts=parentMeta.charts.length;var noOfChildGauges=childMeta.gauges.length;var noOfParentGauges=parentMeta.gauges.length;for(key in childMeta){if(key=="containers"||key=="containersMap"){if(key=="containers"){for(var i=0;i<noOfChildCntnrs;i++){var containerName=childMeta.containers[i].name;if(!parentMeta.containersMap[containerName]){parentMeta.containers[noOfParentCntnrs]=childMeta.containers[i];parentMeta.containersMap[containerName]=childMeta.containers[i];noOfParentCntnrs++}}}}else{if(key=="ifaces"||key=="ifacesMap"){if(key=="ifaces"){for(var i=0;i<noOfChildIfaces;i++){var lifacename=childMeta.ifaces[i].name;if(!parentMeta.ifacesMap[lifacename]){parentMeta.ifaces[noOfParentIfaces]=childMeta.ifaces[i];parentMeta.ifacesMap[lifacename]=childMeta.ifaces[i];noOfParentIfaces++}}}}else{if(key=="groups"||key=="groupsMap"){if(key=="groups"){for(var i=0;i<noOfChildGroups;i++){var lgroupname=childMeta.groups[i].name;if(!parentMeta.groupsMap[lgroupname]){parentMeta.groups[noOfParentGroups]=childMeta.groups[i];parentMeta.groupsMap[lgroupname]=childMeta.groups[i];noOfParentGroups++}}}}else{if(key=="nodes"||key=="nodesMap"){if(key=="nodes"){for(var i=0;i<noOfChildNodes;i++){var nodeId=childMeta.nodes[i].id;if(!parentMeta.nodesMap[nodeId]){parentMeta.nodes[noOfParentNodes]=childMeta.nodes[i];parentMeta.nodesMap[nodeId]=childMeta.nodes[i];noOfParentNodes++}}}}else{if(key=="elms"||key=="elmsMap"){if(key=="elms"){for(var i=0;i<noOfChildElms;i++){var emlmId=childMeta.elms[i].id;if(!parentMeta.elmsMap[emlmId]){parentMeta.elms[noOfParentElms]=childMeta.elms[i];parentMeta.elmsMap[emlmId]=childMeta.elms[i];noOfParentElms++}}}}else{if(key=="elmsExtMap"){this.copyJSONObjectWithFilter(childMeta[key],[],parentMeta[key])}else{if(key=="childScreens"){for(var i=0;i<noOfChildScreens;i++){var childName=childMeta.childScreens[i].name;parentMeta.childScreens[noOfParentScreens]=this.copyJSONObject(childMeta.childScreens[i]);noOfParentScreens++}}else{if(key=="uiInits"){if(!parentMeta.uiInits){parentMeta.uiInits={}}for(key in childMeta.uiInits){if(!parentMeta.uiInits[key]){parentMeta.uiInits[key]=[]}var allKeys=childMeta.uiInits[key];var parentScrKeys=parentMeta.uiInits[key].length;for(var i=0;i<allKeys.length;i++){parentMeta.uiInits[key][parentScrKeys]=allKeys[i];parentScrKeys++}}}else{if(key=="charts"||key=="chartsMap"){if(key=="charts"){for(var i=0;i<noOfChildCharts;i++){var containerName=childMeta.charts[i].name;if(!parentMeta.chartsMap[containerName]){parentMeta.charts[noOfParentCharts]=childMeta.charts[i];parentMeta.chartsMap[containerName]=childMeta.charts[i];noOfParentCharts++}}}}else{if(key=="gauges"||key=="gaugesMap"){if(key=="gauges"){for(var i=0;i<noOfChildGauges;i++){var gaugeName=childMeta.gauges[i].name;if(!parentMeta.gaugesMap[gaugeName]){parentMeta.gauges[noOfParentGauges]=childMeta.gauges[i];parentMeta.gaugesMap[gaugeName]=childMeta.gauges[i];noOfParentGauges++}}}}else{parentMeta[key]=childMeta[key]}}}}}}}}}}}},loadDeviceInfo:function(info){this.deviceId=info.deviceId;this.deviceOs=info.deviceOs;this.deviceType=info.deviceType;this.screenSize=info.screenSize;this.screenPpi=info.screenPpi;this.deviceGroup=info.deviceGroup;this.orientation=info.orientation;this.lockRotation=info.lockRotation},loadUserPrefs:function(res){if(res){if(res.userPrefs){var prefs=res.userPrefs;this.dateFormat=prefs.dateFormat?prefs.dateFormat:"dd-MMM-yyyy";this.dateTimeFormat=prefs.dateTimeFormat?prefs.dateTimeFormat:"dd-MMM-yyyy  HH-mm-ss";this.timeFormat=prefs.timeFormat?prefs.timeFormat:"HH-mm-ss";this.dfltDecimals=prefs.dfltDecimals?prefs.dfltDecimals:this.dfltDecimals;this.decimalSep=prefs.decimalSep?prefs.decimalSep:this.decimalSep;this.thousandSep=prefs.thousandSep?prefs.thousandSep:this.thousandSep;this.numberMask=prefs.numberMask?prefs.numberMask:this.numberMask;this.theme=prefs.theme?prefs.theme:this.theme;this.defaultTheme=prefs.theme?prefs.theme:this.theme;this.language=prefs.language?prefs.language:this.language;this.baseThemesMap=prefs.baseThemesMap?JSON.parse(prefs.baseThemesMap):this.baseThemesMap;this.enableAnimations=true}}},loadAppProps:function(res){var props=res.props;this.appId=props.appId;this.currAppId=props.appId;this.scrDefsMap[this.appId]={};this.firstPagesMap[this.appId]=apz.firstPage||props.firstPage;this.loDefsMap[this.appId]={};if(this.customizer){this.customizer.config[this.appId]={};this.customizer.configMeta[this.appId]={}}if(!this[this.appId]){this[this.appId]={}}this.scrHtmls[this.appId]={};this.ifacesMap[this.appId]={};this.version=props.version;this.expiryDate=props.expiryDate;this.serverToken=props.serverToken;this.authenticationType=props.authenticationType;this.otpReqd=this.getBoolean(props.otpReqd);this.otaReqd=this.getBoolean(props.otaReqd);this.serverUrl=props.serverUrl;this.trackLocation=this.getBoolean(props.trackLocation);this.serverToken=props.serverToken;this.encryptionKey=props.encryptionKey;this.enableAnimations=this.getBoolean(props.enableAnimations);this.encryptionKeyFileName=props.encryptionKeyFileName;this.auditLogReqd=this.getBoolean(props.auditLogReqd);this.logLevel=props.logLevel;this.sendLog=props.sendLog;this.noOfLogLines=props.noOfLogLines;this.firstPage=apz.firstPage||props.firstPage;this.firstPageLayout=props.firstPageLayout;this.mockServer=props.enableMockServer;this.defaultAuthorization=props.defaultAuthorization;this.googleMapsKey=props.googleMapsKey;this.dataIntegrity=props.dataIntegrity;this.encryption=props.payloadEncryption;if(this.deviceOs=="WEB"||this.deviceOs=="SIMULATOR"){this.offlineSupport="N"}else{this.offlineSupport=props.offlineSupport}try{this.animationsSupported=Modernizr.cssanimations}catch(e){this.animationsSupported=false}if(!this.animationsSupported){this.enableAnimations=false}},loadProjDef:function(params){def=JSON.parse(params.content);this.loadAppProps(def);this.loadUserPrefs(def);this.msgs[this.currAppId]=def.msgs[this.language];this.lovs[this.currAppId]=def.lovs;this.appsMap[this.currAppId]=this.copyObjByVal({},{scripts:def.scripts});this.lits[this.currAppId]=def.lits[this.language];this.ccys=def.ccys;this.workflows=def.workflows;this.prjScripts=def.scripts;this.chartStyles=def.chartstyles;this.internalInterfaces=def.internalInterfaces;this.addScriptsPath(this.currAppId,this.prjScripts);var proc={};proc.threads=[];proc.id="USERPREFLOAD";var params={};params.id="USERPREFS";params.runnerObj=this.ns;params.runner=this.ns.getUserPrefs;params.callBack=this.loadUserPrefs;params.callBackObj=this;proc.threads[proc.threads.length]=params;this.startProc(proc);if(this.workflow){this.workflow.buildWFArray()}this.scrs[this.currAppId]=def.screens;this.deviceGroups=def.deviceGroups;this.loMap[this.currAppId]=def.loMap;this.convMap[this.currAppId]=def.conversations;if(Apz.customizerApp&&this.isFunction(this.customizer.init)){this.customizer.init()}},storeIfaceDef:function(appId,iface,def){this.ifacesMap[appId][iface]=def},storeScrDef:function(args){var key=args.scr+this.idSep+args.lo+this.idSep+args.template;this.scrDefsMap[args.appId][key]=args.def},storeScrHtml:function(appId,scr,lo,tmpl,html){var key=this.getHTMLFileName(scr,lo,tmpl);this.scrHtmls[appId][key]=html},loadIfaceDef:function(params){def=JSON.parse(params.content);var getArrayMember=function(obj,ind,def){var val=def;if(obj){val=obj[ind]}return val};var ifaceObj={};ifaceObj.extMap={};iface=def.name;ifaceObj.name=def.name;ifaceObj.type=def.type;ifaceObj.dateFormat=def.dateFormat;ifaceObj.dateTimeFormat=def.dateTimeFormat;ifaceObj.timeFormat=def.timeFormat;ifaceObj.offline=def.offline;ifaceObj.amountMask=def.amountMask;ifaceObj.decimalSep=def.decimalSep;ifaceObj.thousandSep=def.thousandSep;ifaceObj.session=def.session;ifaceObj.encrypt=this.getBoolean(def.encrypt);ifaceObj.targetNs=def.targetNs;ifaceObj.endPointUrl=def.endPointUrl;ifaceObj.noOfReqNodes=def.noOfReqNodes;ifaceObj.noOfResNodes=def.noOfResNodes;ifaceObj.noOfFaultNodes=def.noOfReqNodes;ifaceObj.correctReq=this.getBoolean(def.correctReq);ifaceObj.correctRes=this.getBoolean(def.correctRes);ifaceObj.nsList=def.nsList;ifaceObj.ignoreNs=def.ignoreNs;var eCntr=0;var noOfNodes=def.nodes.length;ifaceObj.nodes=[];ifaceObj.nodesMap=[];ifaceObj.elms=[];ifaceObj.elmsMap=[];if(noOfNodes>0){for(var n=0;n<noOfNodes;n++){var dml="REQ";if(n>=def.noOfReqNodes){dml="RES"}if(def.type=="DATABASE"){dml=""}var nodeObj={};var args={};args.iface=iface;args.dml=dml;nodeObj.dml=dml;nodeObj.name=def.nodes[n];args.node=nodeObj.name;nodeObj.id=this.getNodeId(args);nodeObj.ifaceName=iface;nodeObj.ifaceId=this.getIfaceIdFromDml(iface,dml);nodeObj.extName=getArrayMember(def.nExtName,n,"");args.node=getArrayMember(def.nParent,n,"");nodeObj.parent=this.getNodeId(args);nodeObj.multiRec=getArrayMember(def.nMultiRec,n,"N");args.node=getArrayMember(def.nMrParent,n,"");nodeObj.mrParent=this.getNodeId(args);nodeObj.relType=getArrayMember(def.nRelType,n,"1:1");nodeObj.ns=getArrayMember(def.nNs,n,"");nodeObj.nsAlias=getArrayMember(def.nNsAlias,n,"");nodeObj.isoTags=getArrayMember(def.nIsoTags,n,"");var parents=getArrayMember(def.nParents,n,"");nodeObj.parents=[];var nodeExtKey="";if(!this.isNull(parents)){var arr=parents.split("~");for(var s=0;s<arr.length;s++){args.node=arr[s];var pnrtId=this.getNodeId(args);nodeObj.parents[s]=pnrtId;if(dml=="RES"){var prntExtName=ifaceObj.nodesMap[pnrtId].extName;if(this.isNull(nodeExtKey)){nodeExtKey=prntExtName}else{nodeExtKey=nodeExtKey+"~"+prntExtName}}}if(dml=="RES"){if(this.isNull(nodeExtKey)){nodeExtKey=nodeObj.extName}else{nodeExtKey=nodeExtKey+"~"+nodeObj.extName}ifaceObj.extMap[nodeExtKey]=nodeObj.name}}else{ifaceObj.extMap[nodeObj.name]=nodeObj.name}var childs=getArrayMember(def.nChilds,n,"");nodeObj.childs=[];if(!this.isNull(childs)){var arr=childs.split("~");for(var s=0;s<arr.length;s++){args.node=arr[s];nodeObj.childs[s]=this.getNodeId(args)}}nodeObj.elms=[];nodeObj.elmsMap=[];var noOfNodeElms=getArrayMember(def.noOfNodeElms,n,0);for(var e=eCntr;e<(eCntr+noOfNodeElms);e++){var elmObj={};elmObj.name=def.elms[e];elmObj.id=this.getElmId(nodeObj.id,elmObj.name);elmObj.dml=dml;elmObj.nodeId=nodeObj.id;elmObj.nodeName=nodeObj.name;elmObj.ifaceName=iface;elmObj.ifaceId=nodeObj.ifaceId;elmObj.extName=getArrayMember(def.eExtName,e,"");elmObj.dataType=getArrayMember(def.eDataType,e,"STRING");elmObj.relNode=getArrayMember(def.eRelNode,e,"");elmObj.relElm=getArrayMember(def.eRelElm,e,"");elmObj.cents=getArrayMember(def.eCents,e,"N");elmObj.pad=getArrayMember(def.ePad,e,"N");elmObj.padChar=getArrayMember(def.ePadChar,e,"");elmObj.mand=getArrayMember(def.eMand,e,"N");elmObj.pattern=getArrayMember(def.ePattern,e,"");elmObj.maxDec=this.getInt(getArrayMember(def.eMaxDec,e,9));elmObj.lenType=getArrayMember(def.eLenTyp,e,"V");elmObj.maxLen=this.getInt(getArrayMember(def.eMaxLen,e,0));elmObj.minLen=this.getInt(getArrayMember(def.eMinLen,e,0));elmObj.maxVal=this.getFloat(getArrayMember(def.eMaxVal,e,0));elmObj.minVal=this.getFloat(getArrayMember(def.eMinVal,e,0));elmObj.ns=getArrayMember(def.eNs,e,"");elmObj.nsAlias=getArrayMember(def.eNsAlias,e,"");elmObj.isArray=getArrayMember(def.eArr,e,"N");if(dml=="RES"){var elmExtKey=nodeExtKey+"~"+elmObj.extName;ifaceObj.extMap[elmExtKey]=elmObj.name}nodeObj.elms[e-eCntr]=elmObj;nodeObj.elmsMap[elmObj.id]=elmObj;ifaceObj.elms[e]=elmObj;ifaceObj.elmsMap[elmObj.id]=elmObj}eCntr=eCntr+noOfNodeElms;ifaceObj.nodes[n]=nodeObj;ifaceObj.nodesMap[nodeObj.id]=nodeObj}}this.storeIfaceDef(params.appId,iface,ifaceObj)},loadScrDef:function(params){def=JSON.parse(params.content);var scr=params.scr;var lo=params.lo;var template=params.template;var type=params.type;var scrMeta={};scrMeta.htmls=[];var ifaceCntr=0;var nodeCntr=0;var elmCntr=0;var elmLovRfCntr=0;var elmLovBvCntr=0;var noOfIfaces=0;if(def.ifaces){noOfIfaces=def.ifaces.length}scrMeta.ifaces=[];scrMeta.ifacesMap=[];scrMeta.nodes=[];scrMeta.nodesMap=[];scrMeta.icon=def.icon?def.icon:"";scrMeta.scrType=def.screenType?def.screenType:"MAIN";scrMeta.scripts=def.scripts;this.addScriptsPath(params.appId,scrMeta.scripts);for(var i=0;i<noOfIfaces;i++){var ifaceId=def.ifaces[i];var ifaceName=this.getIfaceName(ifaceId);var ifaceObj=apz.copyObjByVal({},this.getIfaceObj(ifaceName,params.appId));if(!this.containsKey(scrMeta.ifacesMap,ifaceName)){var noOfScrIfaces=scrMeta.ifaces.length;scrMeta.ifaces[noOfScrIfaces]=ifaceObj;scrMeta.ifacesMap[ifaceName]=ifaceObj;var noOfScrNodes=scrMeta.nodes.length;var noOfIfaceNodes=ifaceObj.nodes.length;for(var n=0;n<noOfIfaceNodes;n++){var nodeObj=ifaceObj.nodes[n];scrMeta.nodes[noOfScrNodes]=nodeObj;scrMeta.nodesMap[nodeObj.id]=nodeObj;noOfScrNodes=noOfScrNodes+1}}}scrMeta.containers=[];scrMeta.containersMap=[];scrMeta.elms=[];scrMeta.elmsMap=[];scrMeta.elmsExtMap={};var noOfCntnrs=0;if(!this.isNull(def.containers)){if(!this.isNull(def.containers.name)){noOfCntnrs=def.containers.name.length}}for(var c=0;c<noOfCntnrs;c++){var cntnrObj={};cntnrObj.name=def.containers.name[c];cntnrObj.ui=def.containers.ui[c];cntnrObj.id=def.containers.name[c];cntnrObj.type=def.containers.type[c];cntnrObj.custom=def.containers.custom[c];cntnrObj.multiRec=def.containers.multiRec[c];cntnrObj.paginationStyle=def.containers.pgStyle[c];cntnrObj.readOnly=def.containers.ro[c];cntnrObj.pageSize=def.containers.pgSize[c];var childs=def.containers.childs[c];cntnrObj.childs=childs.split("~");if(!this.isNull(childs)){cntnrObj.childs=childs.split("~")}else{cntnrObj.childs=[]}scrMeta.containers[c]=cntnrObj;scrMeta.containersMap[cntnrObj.name]=cntnrObj;var noOfIfaces=def.containers.noOfIfaces[c];cntnrObj.ifaces=[];if(noOfIfaces>0){for(var i=ifaceCntr;i<(ifaceCntr+noOfIfaces);i++){var ifaceName=def.containers.ifaces[i];cntnrObj.ifaces[i-ifaceCntr]=ifaceName}ifaceCntr=ifaceCntr+noOfIfaces}if(def.containers.noOfNodes){var noOfCntrNodes=def.containers.noOfNodes[c];cntnrObj.nodes=[];if(noOfCntrNodes>0){for(var n=nodeCntr;n<(nodeCntr+noOfCntrNodes);n++){var nodeId=def.containers.nodes[n];cntnrObj.nodes[n-nodeCntr]=nodeId}nodeCntr=nodeCntr+noOfCntrNodes}}var noOfCntrElms=def.containers.noOfElms[c];cntnrObj.elms=[];cntnrObj.elmsMap=[];cntnrObj.elmsExtMap={};if(noOfCntrElms>0){for(var e=elmCntr;e<(elmCntr+noOfCntrElms);e++){var elmObj={};var elmId=def.containers.elms[e];var elmType=def.containers.elmType[e];var uiElm=def.containers.eUi[e];cntnrObj.elms[e-elmCntr]=elmObj;cntnrObj.elmsMap[elmId]=elmObj;scrMeta.elms[e]=elmObj;scrMeta.elmsMap[elmId]=elmObj;elmObj.id=elmId;elmObj.name=elmId;elmObj.container=cntnrObj.name;elmObj.type=elmType;elmObj.ui=uiElm;elmObj.custom=def.containers.eCustom[e];elmObj.readOnly=def.containers.eRo[e];if(def.containers.eEmail){elmObj.email=def.containers.eEmail[e]}if(def.containers.eTextdecoration){elmObj.textdecoration=def.containers.eTextdecoration[e]}elmObj.mask=def.containers.eMask[e];elmObj.runtimeFormat=def.containers.eRtFmt[e];elmObj.skipFormat=def.containers.eSkipFmt[e];elmObj.displayAsLiteral=def.containers.eLiteral[e];elmObj.lovId=def.containers.eLovId[e];elmObj.lovWidthClass=def.containers.eLovWidth[e];elmObj.lovMinWidth=def.containers.eLovMinWidth[e];elmObj.staticOptions=(def.containers.staticOptions)?def.containers.staticOptions[e]:"";elmObj.defVal=(def.containers.defVal)?def.containers.defVal[e]:"";var noOfLovRf=def.containers.noOfeLovRf[e];elmObj.returnFields=[];if(noOfLovRf>0){for(var rf=elmLovRfCntr;rf<(elmLovRfCntr+noOfLovRf);rf++){elmObj.returnFields.push(def.containers.eLovRf[rf])}elmLovRfCntr=elmLovRfCntr+noOfLovRf}var noOfLovBv=def.containers.noOfeLovBv[e];elmObj.bindVariables=[];if(noOfLovBv>0){for(var bv=elmLovBvCntr;bv<(elmLovBvCntr+noOfLovBv);bv++){elmObj.bindVariables.push(def.containers.eLovBv[bv])}}elmLovBvCntr=elmLovBvCntr+noOfLovBv;if(uiElm=="Y"){elmObj.name=elmId}else{var elmDet=elmId.split(this.idSep);if(elmDet.length>=5){var lelmIfaceObjname=elmDet[0]+this.idSep+elmDet[1];var ifaceObj=this.getIfaceObj(lelmIfaceObjname,params.appId);if(ifaceObj){var ifaceElmObj=ifaceObj.elmsMap[elmId];elmObj.name=ifaceElmObj.name;elmObj.id=ifaceElmObj.id;elmObj.nodeName=ifaceElmObj.nodeName;elmObj.nodeId=ifaceElmObj.nodeId;elmObj.ifaceName=ifaceElmObj.ifaceName;elmObj.ifaceId=ifaceElmObj.ifaceId;elmObj.dataType=ifaceElmObj.dataType;elmObj.relNode=ifaceElmObj.relNode;elmObj.relElm=ifaceElmObj.relElm;elmObj.cents=ifaceElmObj.cents;elmObj.pad=ifaceElmObj.pad;elmObj.padChar=ifaceElmObj.padChar;elmObj.mand=ifaceElmObj.mand;elmObj.pattern=ifaceElmObj.pattern;elmObj.maxDec=ifaceElmObj.maxDec;elmObj.lenType=ifaceElmObj.lenType;elmObj.maxLen=ifaceElmObj.maxLen;elmObj.minLen=ifaceElmObj.minLen;elmObj.maxVal=ifaceElmObj.maxVal;elmObj.minVal=ifaceElmObj.minVal;elmObj.isArray=ifaceElmObj.isArray;scrMeta.elmsExtMap[params.appId+"__"+scr+"__"+ifaceElmObj.extName]=elmId;cntnrObj.elmsExtMap[params.appId+"__"+scr+"__"+ifaceElmObj.extName]=elmId}}}}elmCntr=elmCntr+noOfCntrElms}}scrMeta.charts=[];scrMeta.chartsMap=[];var noOfCharts=0;if(!this.isNull(def.charts)){noOfCharts=def.charts.length}if(noOfCharts>0){for(var c=0;c<noOfCharts;c++){var chartObj=def.charts[c];chartObj.type="CHART";chartObj.id=chartObj.name;chartObj.dispose=true;scrMeta.charts[c]=chartObj;scrMeta.chartsMap[chartObj.name]=chartObj;scrMeta.containers[noOfCntnrs]=chartObj;scrMeta.containersMap[chartObj.name]=chartObj;noOfCntnrs=noOfCntnrs+1}}scrMeta.gauges=[];scrMeta.gaugesMap=[];var noOfGauges=0;if(!this.isNull(def.gauges)){noOfGauges=def.gauges.length}if(noOfGauges>0){for(var c=0;c<noOfGauges;c++){var gaugeObj=def.gauges[c];gaugeObj.type="GAUGE";gaugeObj.id=gaugeObj.name;gaugeObj.dispose=true;scrMeta.gauges[c]=gaugeObj;scrMeta.gaugesMap[gaugeObj.name]=gaugeObj;if(gaugeObj.widgetCategory=="CONTAINER"){scrMeta.containers[noOfCntnrs]=gaugeObj;scrMeta.containersMap[gaugeObj.name]=gaugeObj;noOfCntnrs=noOfCntnrs+1}}}scrMeta.groups=[];scrMeta.groupsMap=[];var groupnodeCntr=0;var groupContainerCntr=0;var noOfGroups=0;if(!this.isNull(def.groups)&&!this.isNull(def.groups.name)){noOfGroups=def.groups.name.length}for(var g=0;g<noOfGroups;g++){var groupObj={};groupObj.name=def.groups.name[g];var noOfGroupNodes=def.groups.noOfNodes[g];groupObj.nodes=[];groupObj.nodesMap=[];if(noOfGroupNodes>0){var i=0;for(var n=groupnodeCntr;n<(groupnodeCntr+noOfGroupNodes);n++){var grpNode=def.groups.nodes[n];groupObj.nodes[i]=grpNode;groupObj.nodesMap[grpNode]=grpNode;scrMeta.nodesMap[grpNode].group=groupObj.name;i=i+1}groupnodeCntr=groupnodeCntr+noOfGroupNodes}var noOfGroupContainers=def.groups.noOfContainers[g];groupObj.containers=[];groupObj.containersMap=[];if(noOfGroupContainers>0){for(var c=groupContainerCntr;c<(groupContainerCntr+noOfGroupContainers);c++){var grpContainer=def.groups.containers[c];groupObj.containers[c-groupContainerCntr]=grpContainer;groupObj.containersMap[grpContainer]=grpContainer;scrMeta.containersMap[grpContainer].group=groupObj.name}groupContainerCntr=groupContainerCntr+noOfGroupContainers}scrMeta.groups[g]=groupObj;scrMeta.groupsMap[groupObj.name]=groupObj}scrMeta.childScreens=[];if(!this.isNull(def.childScreens)){var noOfChildScreens=def.childScreens.name.length}if(noOfChildScreens>0){for(var k=0;k<noOfChildScreens;k++){scrMeta.childScreens[k]={};scrMeta.childScreens[k].name=def.childScreens.name[k];scrMeta.childScreens[k].type=def.childScreens.type[k];scrMeta.childScreens[k].target=def.childScreens.target[k];scrMeta.childScreens[k].appId=params.appId}}if(def.scrProps){scrMeta.scrProps=def.scrProps}scrMeta.uiInits=def.uiInits?def.uiInits:{};this.initScrDef(scrMeta);var args={};args.appId=params.appId;args.scr=scr;args.lo=lo;args.template=template;args.def=scrMeta;this.storeScrDef(args)},loadProject:function(){this.startLoader();this.currAppId=this.appId;var proc={};proc.threads=[];proc.id="PROJECTLOAD";proc.callBack=this.projectLoaded;proc.callBackObj=this;var params=null;params={};params.id="DEVICEINFO";params.runnerObj=this.ns;params.runner=this.ns.getDeviceInfo;params.callBack=this.loadDeviceInfo;params.callBackObj=this;proc.threads[proc.threads.length]=params;if(this.bindingEngine=="ANGULAR"){this.data.init()}params={};params.id="PROJDEF";params.runnerObj=this;params.runner=this.getFile;params.callBack=this.loadProjDef;params.callBackObj=this;params.path=this.getConfigPath()+"/prjdef.json";params.async=true;proc.threads[proc.threads.length]=params;this.startProc(proc);params={};params.id="STARTORIENTATIONLISTENER";params.callBack=this.onOrientationChange;params.callBackObj=this;this.ns.startOrientationListener(params);if(this.deviceOs!="MCA"&&this.deviceOs!="RICT"&&this.deviceOs!="WEB"&&this.deviceOs!="SIMULATOR"){params={};params.id="KEYBOARDLISTENER";params.callBack=this.keyboardAction;params.callBackObj=this;this.ns.startKeyboardListener(params)}this.initOneTimeEvents()},projectLoaded:function(proc){this[this.currAppId]={};var myObj=this;var scripts=[];scripts=this.prjScripts;requirejs(scripts,function(){myObj.enableAnimations=true;if(myObj.isFunction(myObj.app.projectLoaded)){myObj.app.projectLoaded()}if(Apz.customizerApp&&myObj.isFunction(myObj.customizer.fnDesignerInitialise)){myObj.customizer.fnDesignerInitialise()}var params={};params.scr=myObj.firstPage;params.animation=0;params.userObj={};if(myObj.isFunction(myObj[myObj.currAppId].checkParams)){myObj[myObj.currAppId].checkParams(params)}myObj.launchScreen(params)})},isAppLaunched:function(appId){return this.appsMap[appId]},resetCurrAppId:function(appId){this.currAppId=appId},closeSubScreen:function(params){if(!this.isNull(params.appId)&&this[params.appId]){delete this[params.appId]}if(!this.isNull(params.div)){var parentObj=document.getElementById(params.div);if(!this.isNull(parentObj)){parentObj.innerHTML=""}if(typeof params.callBack=="function"){if(params.callBackObj){params.callBack.call(params.callBackObj,params.params)}else{params.callBack(params.params)}}}else{console.log("Given DIV does not exist")}},launchApp:function(params){params.oldAppId=this.currAppId;this.currAppId=params.appId;if(this.isAppLaunched(params.appId)){this.appLoaded(params)}else{params.callBack=this.microAppDefLoaded;params.callBackObj=this;params.runnerObj=this;params.path=this.getConfigPath(params.appId)+"/prjdef.json";this.getFile(params)}},microAppDefLoaded:function(params){if(params.content){var def=JSON.parse(params.content);this.scrDefsMap[params.appId]={};this.firstPagesMap[params.appId]=def.props.firstPage;this.loDefsMap[params.appId]={};if(this.customizer){this.customizer.config[params.appId]={};this.customizer.configMeta[params.appId]={}}if(!this[params.appId]){this[params.appId]={}}this.scrHtmls[params.appId]={};this.ifacesMap[params.appId]={};this.loMap[params.appId]=def.loMap;this.msgs[params.appId]=def.msgs[this.language];this.lovs[params.appId]=def.lovs;this.scrs[params.appId]=def.screens;this.lits[params.appId]=def.lits;this.appsMap[params.appId]={scripts:def.scripts};this.appLoaded(params)}else{this.currAppId=params.oldAppId;var param={code:"APZ-CNT-226"};this.dispMsg(param)}},appLoaded:function(params){if(this.isNull(params.scr)){params.scr=this.firstPagesMap[params.appId]}var def=this.copyObjByVal({},this.appsMap[params.appId]);this.addScriptsPath(params.appId,def.scripts);var myObj=this;if(myObj.isFunction(myObj.app.projectLoaded)){myObj.app.projectLoaded()}var scripts=[];scripts=def.scripts;requirejs(scripts,function(){if(myObj.scrs[params.appId].indexOf(params.scr)>-1){if(!myObj.isNull(params.div)){myObj.launchSubScreen(params)}else{myObj.launchScreen(params)}}else{myObj.currAppId=params.oldAppId;var param={code:"APZ-VAL-009"};myObj.dispMsg(param)}})},launchScreen:function(params){var lo;if(this.isNull(params.layout)){lo=this.getLayout({appId:params.appId,scr:params.scr})}else{lo=params.layout}var proc={};proc.scr=params.scr;proc.lo=lo;proc.type="PG";proc.animation=params.animation?params.animation:0;proc.template=params.template?params.template:"";proc.userObj=params.userObj?params.userObj:{};proc.scroll=params.scroll;proc.appId=params.appId?params.appId:this.currAppId;proc.newDiv=this.loadDiv;proc.oldDiv=this.currDiv;this.loadScreen(proc)},launchSubScreen:function(params){params.type="CF";var parent=document.getElementById(params.div);if(this.isNull(parent)){console.log("Launch subscreen failed due to invalid parent id")}else{this.launchInDiv(params)}},launchInDiv:function(params){var lo;if(this.isNull(params.layout)){lo=this.getLayout({appId:params.appId,scr:params.scr})}else{lo=params.layout}var proc={};proc.scr=params.scr;proc.lo=lo;proc.type=params.type;proc.animation=params.animation?params.animation:0;proc.template=params.template?params.template:"";proc.userObj=params.userObj?params.userObj:{};proc.scroll=params.scroll;proc.appId=params.appId?params.appId:this.currAppId;proc.newDiv=params.div;proc.origDiv=proc.newDiv;var div1=proc.newDiv+"_apz_1";var div2=proc.newDiv+"_apz_2";var html=this.getHtml(proc.newDiv);var divObj=document.getElementById(proc.newDiv);var div1Obj=document.createElement("div");div1Obj.setAttribute("id",div1);var div2Obj=document.createElement("div");div2Obj.setAttribute("id",div2);this.clearHtml(proc.newDiv);divObj.appendChild(div1Obj);divObj.appendChild(div2Obj);$("#"+div1).addClass("lcol12");$("#"+div2).addClass("lcol12 sno ssp");this.setHtml(div1,html);proc.oldDiv=div1;proc.newDiv=div2;this.loadScreen(proc)},loadScreen:function(proc){var authStatus=true;if(!this.isNull(Apz.Server)&&this.defaultAuthorization=="Y"){authStatus=this.server.accessScreen(proc.appId,proc.scr)}if(authStatus||proc.type=="CF"){if(!authStatus&&(proc.type=="CF")){$("#"+proc.origDiv).addClass("sno")}else{$("#"+proc.origDiv).removeClass("sno")}this.startLoader();proc.threads=[];proc.id="SCRLOAD";proc.callBack=this.getScreenCustomizedInfo;proc.callBackObj=this;if(!this.enableAnimations){proc.animation=0}var params=null;var key=proc.scr+this.idSep+proc.lo;if(!this.containsKey(this.loDefsMap[proc.appId],key)){params={};params.id="LODEF";params.scr=proc.scr;params.lo=proc.lo;params.appId=proc.appId;params.runnerObj=this;params.runner=this.getFile;params.callBack=this.loadLayoutDef;params.callBackObj=this;params.path=this.getScrDefPath(proc.appId)+"/"+proc.scr+"_"+proc.lo+".json";params.async=true;proc.threads[proc.threads.length]=params}this.startProc(proc)}else{var params={code:"APZ-NOT-ALLOWED"};this.dispMsg(params)}},loadLayoutDef:function(params){var key=params.scr+this.idSep+params.lo;var appId=params.appId?params.appId:this.currAppId;var def=JSON.parse(params.content);this.loDefsMap[appId][key]=def},getScreenCustomizedInfo:function(proc){var key=proc.scr+this.idSep+proc.lo;proc.id="SCRCUSTOMIZEDINFO";proc.callBack=this.layoutDefLoaded;proc.callBackObj=this;proc.threads=[];var proceed=true;var loDef=this.loDefsMap[proc.appId][key];if(this.customizer&&loDef.customize=="Y"){var defaultTemplate=loDef.defaultTemplate;var template=proc.template?proc.template:defaultTemplate;key=key+this.idSep+template;if(this.containsKey(this.customizer.config[proc.appId],key)){if(this.isNull(proc.template)){var config=this.customizer.config[proc.appId][key];if(config.isModified){proc.template=this.customizer.config[proc.appId][key].template}else{proc.template=defaultTemplate}}key=proc.scr+this.idSep+proc.lo+this.idSep+proc.template;if(!this.containsKey(this.customizer.configMeta[proc.appId],key)){var params={scr:proc.scr,lo:proc.lo,appId:proc.appId};params.id="CUSTOMIZERMETA";params.runnerObj=this;params.runner=this.getFile;params.callBack=this.updatescrCustomizedMeta;params.callBackObj=this;params.async=true;params.template=proc.template;params.path=this.getDataFilesPath(proc.appId)+"/"+proc.scr+"cz.json";proc.threads[proc.threads.length]=params}}else{proceed=false;proc.launchScreen=true;if(this.isNull(proc.template)){proc.defaultTemplate=defaultTemplate}this.customizer.getTemplateCustomizedInfo(proc)}}if(proceed){this.startProc(proc)}},updatescrCustomizedMeta:function(params){var key=params.scr+this.idSep+params.lo+this.idSep+params.template;var def=JSON.parse(params.content);this.customizer.configMeta[params.appId][key]=def},layoutDefLoaded:function(params){var proc={};proc.scr=params.scr;proc.lo=params.lo;proc.appId=params.appId;proc.type=params.type;proc.animation=params.animation;proc.newDiv=params.newDiv;proc.oldDiv=params.oldDiv;proc.userObj=params.userObj;proc.scroll=params.scroll;proc.origDiv=proc.newDiv;var key=proc.scr+this.idSep+proc.lo;if(this.isNull(params.template)){proc.template=this.loDefsMap[proc.appId][key].defaultTemplate}else{proc.template=params.template}proc.callBack=this.scrFilesLoaded;proc.callBackObj=this;proc.threads=[];key=proc.scr+this.idSep+proc.lo+this.idSep+proc.template;if(!this.containsKey(this.scrDefsMap[proc.appId],key)){params={};params.id="SCRDEF";params.runnerObj=this;params.runner=this.getFile;params.callBack=this.scrDefLoaded;params.callBackObj=this;params.path=this.getScrDefPath(proc.appId)+"/"+proc.scr+"_"+proc.lo+"_"+proc.template+".json";params.async=true;proc.threads[proc.threads.length]=params}key=this.getHTMLFileName(proc.scr,proc.lo,proc.template);if(!this.containsKey(this.scrHtmls[proc.appId],key)){params={};params.id="SCRHTML";params.runnerObj=this;params.runner=this.getFile;params.callBack=this.scrHtmlLoaded;params.callBackObj=this;params.path=this.getScrPath(proc.appId)+this.getHTMLFileName(proc.scr,proc.lo,proc.template);params.async=true;proc.threads[proc.threads.length]=params}this.startProc(proc)},scrDefLoaded:function(params){params.proc.loadScrDef=true;params.proc.scrDef=params.content},scrHtmlLoaded:function(params){this.storeScrHtml(params.proc.appId,params.proc.scr,params.proc.lo,params.proc.template,params.content);params.proc.scrHtml=params.content},scrFilesLoaded:function(proc){proc.threads=[];proc.id="SCRLOAD";proc.callBack=this.ifacesLoaded;proc.callBackObj=this;if(proc.loadScrDef){var params=null;var def=JSON.parse(proc.scrDef);var noOfIfaces=0;if(def.ifaces){noOfIfaces=def.ifaces.length}for(var i=0;i<noOfIfaces;i++){if(!this.containsKey(this.ifacesMap[proc.appId],def.ifaces[i])){params={};params.id="IFACEDEF";params.appId=proc.appId;params.runnerObj=this;params.runner=this.getFile;params.callBack=this.loadIfaceDef;params.callBackObj=this;params.path=this.getIfaceDefPath(proc.appId)+"/"+def.ifaces[i]+".json";params.async=true;proc.threads[proc.threads.length]=params}}}this.startProc(proc)},ifacesLoaded:function(proc){if(proc.loadScrDef){var params={};params.content=proc.scrDef;params.appId=proc.appId;params.scr=proc.scr;params.lo=proc.lo;params.template=proc.template;params.type=proc.type;this.loadScrDef(params)}this.loadScrContent(proc)},loadScrContent:function(proc){var key=proc.scr+this.idSep+proc.lo+this.idSep+proc.template;var scrMeta=apz.copyObjByVal({},this.scrDefsMap[proc.appId][key]);key=this.getHTMLFileName(proc.scr,proc.lo,proc.template);proc.scrHtml=this.scrHtmls[proc.appId][key];this.childScr=proc.scr;proc.uiInits=scrMeta.uiInits;if(proc.type!="CF"){this.currScr=proc.scr;this.scrMetaData=this.copyJSONObjectWithFilter(scrMeta,["childScreens"]);this.scrMetaData.childScreens=this.copyJSONObject(scrMeta.childScreens);this.setHtml(proc.newDiv,proc.scrHtml)}else{this.appendScrDef(this.scrMetaData,scrMeta);var newHtml=$('<div id="scr__'+proc.appId+"__"+proc.scr+'__main"></div>');var links="",fileHtml=$(proc.scrHtml);if(fileHtml.length>0){links=fileHtml.filter("link")}newHtml=newHtml.append(fileHtml.find(".pagebody").children()).append(links);newHtml=newHtml[0].outerHTML;this.setHtml(proc.newDiv,newHtml)}var ids=$("#"+proc.oldDiv+" [id]").map(function(){if(this.id!=proc.oldDiv){this.id=this.id+"_Dummy";if(this.id=="sidebar_Dummy"){$(this).css("display","none")}}});if(proc.type!="PG"){$("div#scr__"+proc.appId+"__"+proc.scr+"__main .pagebody").each(function(elm,val){val.id="page-body_"+proc.scr;$("div#scr__"+proc.appId+"__"+proc.scr+"__main .pagebody").removeClass("pagebody");$("div#scr__"+proc.appId+"__"+proc.scr+"__main .header").removeClass("header");$("div#scr__"+proc.appId+"__"+proc.scr+"__main .footer").removeClass("footer");$("div#scr__"+proc.appId+"__"+proc.scr+"__main").removeClass("rolepage")})}if(this.defaultTheme!==this.theme){var imgArr=$("img");for(var j=0;j<imgArr.length;j++){var src=$(imgArr[j]).attr("src");src=src.split("/");src[3]=this.theme;src=src.join("/");$(imgArr[j]).attr("src",src)}var portions=$("nav");for(var k=0;k<portions.length;k++){var bgimg=$(portions[k]).css("background-image");bgimg=bgimg.split("/");bgimg.splice(-3,1,this.theme);bgimg=bgimg.join("/");$(portions[k]).css("background-image",bgimg)}}var myObj=this;var scripts=[];scripts=this.copyObjByVal(scripts,this.scrMetaData.scripts);this.undefScripts(scripts);requirejs(scripts,function(){myObj.scrScriptsLoaded(proc)})},undefScripts:function(scriptsArr){if(!this.isNull(scriptsArr)&&scriptsArr.length>0){for(i=0;i<scriptsArr.length;i++){require.undef(scriptsArr[i])}}},scrScriptsLoaded:function(proc){this.init(proc);var onLoad="onLoad_"+proc.scr;if(this.app[onLoad]){var scrObj={appId:proc.appId,scr:proc.scr,layout:proc.lo,design:proc.template};this.app[onLoad](proc.userObj,scrObj)}var childScrData=this.scrMetaData.childScreens;if(childScrData.length>0){var children=childScrData[0];var targetId=children.target;var params={};params.div=targetId;params.scr=children.name;params.appId=children.appId;this.launchSubScreen(params);childScrData.shift()}this.screenLoaded(proc)},screenLoaded:function(proc){var key=proc.scr+this.idSep+proc.lo;if(Apz.customizerApp&&this.isFunction(this.customizer.refreshDesigner)){this.customizer.refreshDesigner(proc)}if(this.customizer&&this.loDefsMap[proc.appId][key].customize=="Y"&&this.isFunction(this.customizer.customize)){key=proc.scr+this.idSep+proc.lo+this.idSep+proc.template;if(!apz.isNull(this.customizer.config[proc.appId][key])){this.customizer.customize(this.customizer.config[proc.appId][key],this.customizer.configMeta[proc.appId][key])}}if(proc.animation>0){var animator=new Apz.Anim(this);animator.animate(proc)}else{this.scrShowScreen(proc)}},scrShowScreen:function(proc){if(proc.type=="PG"){this.clearHtml(proc.oldDiv);this.flipPages()}else{$("#"+proc.oldDiv).remove();$("#scr__"+proc.appId+"__"+proc.scr+"__main").unwrap()}if(proc.scroll){var offsetInf=$("#"+proc.origDiv).offset();window.scrollTo(offsetInf.left,offsetInf.top)}this.scrInit(proc);var onShown="onShown_"+proc.scr;if(this.app[onShown]){var scrObj={appId:proc.appId,scr:proc.scr,layout:proc.lo,design:proc.template};this.app[onShown](proc.userObj,scrObj)}var scrdefsKey=proc.scr+"__"+proc.lo+"__"+proc.template;var tempScrDefMap=this.scrDefsMap[proc.appId][scrdefsKey];if(proc.userObj&&(this.isNull(proc.userObj.launchDefaultProduct)||proc.userObj.launchDefaultProduct)){if(tempScrDefMap&&!this.isNull(tempScrDefMap.defaultProducts)){for(var i=0;i<tempScrDefMap.defaultProducts.length;i++){var param={};param.div=tempScrDefMap.defaultProducts[i]+"_Scr_div";console.log("scr show :"+param.div+":"+scrdefsKey);if(!this.isNull($("#"+param.div)[0])){if(this.isNull($("#"+param.div).children()[0])){var subProdId=tempScrDefMap.defaultProducts[i];param.newDiv=param.div;param.origDiv=param.div;param.processHtml=true;param.loaderRequired=true;param.procType="CF";param.productId=subProdId;param.launchDefaultProduct=proc.userObj.launchDefaultProduct;this.products.getScreenContent(param)}}}}}},flipPages:function(proc){var bkp=this.currDiv;this.currDiv=this.loadDiv;this.loadDiv=bkp;$("#"+this.loadDiv).addClass("sno");$("#"+this.currDiv).removeClass("sno ssp")},scrInit:function(proc){this.initDependentWidgets(proc);if(proc.animation==0){this.readjustHeight()}this.stopLoader();this.ns.hideSplash({})},getScreenWidth:function(){return $(window).width()},getScreenHeight:function(){return screen.height},getInfraPath:function(){var path="appzillon/scripts";if(this.deviceOs=="MCA"){path="appzillon/controllers"}return path},getInfraStylesPath:function(){var path="appzillon/styles";return path},getScrPath:function(appId){if(!appId){appId=this.currAppId}var path="apps/"+appId+"/screens/";if(this.deviceOs=="MCA"){path=this.mca.mcaSourcepath+"views/"}return path},getScrDefPath:function(appId){var path=this.getScrPath(appId)+"scrdef";return path},getIfaceDefPath:function(appId){var path=this.getScrPath(appId)+"ifacedef";return path},getMockRespPath:function(appId){var path=this.getScrPath(appId)+"mockresponses";return path},getConfigPath:function(appId){var path=this.getScrPath(appId)+"config";return path},getDataFilesPath:function(appId){var path=this.getScrPath(appId)+"datafiles";return path},getStylesPath:function(){var path="apps/styles/themes";return path},getScriptsPath:function(appId){if(!appId){appId=this.currAppId}var path="apps/"+appId+"/scripts";if(this.deviceOs=="MCA"){path=this.mca.mcaSourcepath+"controllers"}return path},callLov:function(elmId,cntnrId){this.lov.callLov(elmId,cntnrId)},store:function(key,value){this.keyValuePair[key]=value},retrieve:function(key){return this.keyValuePair[key]},searchRecords:function(pcontainer,psearchcontent,filterObj){var lsearchcontent=psearchcontent.toUpperCase();var params={};var searchRecords=true;if(this.isFunction(this.app.presearchRecords)){searchRecords=this.app.presearchRecords(pcontainer,lsearchcontent)}if(searchRecords){var lcontainerobj=this.scrMetaData.containersMap[pcontainer];var lcontainertype=lcontainerobj.type;var lnodes=lcontainerobj.nodes;var node=lnodes[0];var mrParent=this.scrMetaData.nodesMap[node].mrParent;var relCntrs=this.getRelatedContainers(pcontainer);var proceedSearch=true;if(this.isRelatedContainerSearched(relCntrs)){proceedSearch=false;if(this.isFunction(this.app.resetSearchedContainers)){proceedSearch=this.app.resetSearchedContainers(relCntrs)}}if(proceedSearch){if(this.data.scrDataBackup[mrParent]){var scrDataPtr=this.getParentPointer(mrParent);var nodeName=this.getNodeName(mrParent);scrDataPtr[nodeName]=this.data.scrDataBackup[mrParent]}if(!this.isNull(psearchcontent)||(!this.isNull(filterObj)&&(Object.keys(filterObj).length>0))){var lnode;var lnoofnodes=lnodes.length;var actNodes=new Array();for(var m=0;m<lnoofnodes;m++){var allParents=this.scrMetaData.nodesMap[lnodes[m]].parents;if(allParents.length>0){for(var x=0;x<allParents.length;x++){if($.inArray(apz.getNodeName(allParents[x]),actNodes)==-1){actNodes.push(apz.getNodeName(allParents[x]))}}}actNodes.push(apz.getNodeName(lnodes[m]))}var lsearchednodes=new Array();var mrParentNodes=new Array();var indexArr=new Array();if(lcontainertype=="TABLE"||lcontainertype=="LIST"&&!this.isNull(psearchcontent)){var lfinaloutput=this.getAllRecords(lcontainerobj);for(var k=0;k<Object.keys(lfinaloutput).length;k++){const key=Object.keys(lfinaloutput)[k];if(!this.data.scrDataBackup[key]){this.data.scrDataBackup[key]=lfinaloutput[key]}}for(var x=0;x<lnoofnodes;x++){lnode=lnodes[x];if($.inArray(this.scrMetaData.nodesMap[lnode].mrParent,mrParentNodes)==-1){mrParentNodes.push(this.scrMetaData.nodesMap[lnode].mrParent)}}for(var r=0;r<mrParentNodes.length;r++){indexArr=[];var mrParNode=mrParentNodes[r];if(!this.containsKey(lsearchednodes,mrParNode)&&lfinaloutput[mrParNode]){lfinaloutput[mrParNode]=$.grep(lfinaloutput[mrParNode],function(n,i){lsearchednodes.push(mrParNode);var params={};params.parentObj=n;params.obj=n;params.searchContent=lsearchcontent;params.actNodes=actNodes;params.searchedNodes=lsearchednodes;params.indexArr=indexArr;params.index=i;params.containerId=pcontainer;params.mrParentNode=mrParNode;params.currentNode=mrParNode;params.filterObj=filterObj;var searchRes=apz.searchNodeRecords(params);if(searchRes){return searchRes}},false);if(!this.scrMetaData.containersMap[pcontainer].searchIndex){}var parPointer=this.getParentPointer(mrParNode);if(!this.isNull(parPointer)){parPointer[apz.getNodeName(mrParNode)]=lfinaloutput[mrParNode]}}}}}else{delete this.data.scrDataBackup[mrParent];this.scrMetaData.containersMap[pcontainer].searchIndex=null}params={};params.containerId=pcontainer;params.dataRecNo=0;params.action="C";params.tracker=[];this.data.getData(params);var searchData=this.copyJSONObject(this.data.scrdata)}}if(this.isFunction(this.app.postsearchRecords)){this.app.postsearchRecords(pcontainer,lsearchcontent,searchData)}},searchNodeRecords:function(params){var pparentobj=params.parentObj;var pobj=params.obj;var psearchcontent=params.searchContent;var pnodes=params.actNodes;var psearchednodes=params.searchedNodes;var indexArr=params.indexArr;var index=params.index;var containerId=params.containerId;var mrParentNode=params.mrParentNode;var currentNode=params.currentNode;var containerElms=this.scrMetaData.containersMap[containerId].elmsMap;var actNodeId="";var lsearchednodes=psearchednodes;var filterObj=params.filterObj;var matchedCount=0;for(i in pobj){if(!apz.isNull(pobj[i])){var lval=pobj[i].toString().toUpperCase();if($.type(pobj[i])!="object"){var elmId=currentNode+"__"+i;if(!apz.isNull(psearchcontent)&&lval.indexOf(psearchcontent)!=-1){if(containerElms[elmId]){return pparentobj}}else{if(!apz.isNull(filterObj)&&!(apz.isNull(filterObj[i]))&&filterObj[i].indexOf(lval)!=-1){if(containerElms[elmId]){matchedCount++}}}}else{if($.type(pobj[i])=="object"&&$.inArray(i,pnodes)!=-1){var presNode=mrParentNode;var elmIdIndex=presNode.lastIndexOf("__");var nodePref=presNode.substring(0,elmIdIndex+2);var newCurrentNode=nodePref+i;lsearchednodes.push(nodePref+i);var newObj=this.copyJSONObject(params);newObj.obj=pobj[i];newObj.searchedNodes=lsearchednodes;newObj.currentNode=newCurrentNode;var litem=apz.searchNodeRecords(newObj);if(!apz.isNull(litem)){return litem}}}}}if(!apz.isNull(filterObj)&&matchedCount==Object.keys(filterObj).length){return pparentobj}},sortRecords:function(params){var containerId=params.container;var element=params.element;var sortType=params.sortType;var containerObj=this.scrMetaData.containersMap[containerId];var containerType=containerObj.type;var obj={};obj.containerId=containerId;obj.action="C";obj.tracker=[];obj.dataPointers=[];this.data.setData(obj);if(containerObj.multiRec=="Y"){var node;var nodes=containerObj.nodes;var noOfNodes=nodes.length;var elmObj=this.scrMetaData.elmsMap[element.substring(0,element.length-2)];var parents=apz.scrMetaData.nodesMap[elmObj.nodeId].parents;if(apz.scrMetaData.nodesMap[elmObj.nodeId].relType=="1:N"){params.node=elmObj.nodeId;this.sortRows(params)}else{for(var k=parents.length-1;k>=0;k--){if(apz.scrMetaData.nodesMap[parents[k]].relType=="1:N"){params.node=parents[k];this.sortRows(params);break}}}for(var x=0;x<noOfNodes;x++){node=nodes[x];if(parents.indexOf(node)<0&&apz.scrMetaData.nodesMap[node].relType=="1:N"){params.node=node;this.sortRows(params)}}}obj={};obj.containerId=containerId;obj.dataRecNo=0;obj.action="C";obj.tracker=[];this.data.getData(obj)},sortRows:function(params){var containerId=params.container;var node=params.node;var element=params.element;var sortType=params.sortType;var containerObj=this.scrMetaData.containersMap[containerId];var containerType=containerObj.type;var proceed=true;var lnodes=containerObj.nodes;if(this.isFunction(this.app.preSortRows)){proceed=this.app.preSortRows(containerId,node,element,sortType)}if(proceed){if(containerType=="TABLE"||containerType=="LIST"){var finalOutput=this.getAllRecords(containerObj);var nodeElm=element;nodeElm=nodeElm.substring(0,nodeElm.length-2);var elmType=containerObj.elmsMap[nodeElm].dataType;var elmName=containerObj.elmsMap[nodeElm].name;params.node=node;params.currElement=elmName;params.elmType=elmType;params.reverse=params.sortType;finalOutput[node].sort(this.sortNode(params));var ifaceID=apz.scrMetaData.nodesMap[node].ifaceName;var dmlType=apz.scrMetaData.nodesMap[node].dml;if(dmlType==""){dmlType="REQ"}ifaceID=apz.getIfaceIdFromDml(ifaceID,dmlType);if(!this.isNull(this.data.scrdata[ifaceID])){var parentPtr=this.data.getParentDataPointer(node,0);var nodeName=this.getNodeName(node);parentPtr[nodeName]=finalOutput[node]}else{this.data.scrdata[ifaceID]={};var parentPtr=this.data.getParentDataPointer(node,0);var nodeName=this.getNodeName(node);parentPtr[nodeName]=finalOutput[node]}}}if(this.isFunction(this.app.postSortRows)){this.app.postSortRows(containerId,node,element,sortType)}},sortNode:function(params){var reverse=params.reverse;var element=params.currElement;var currNode=params.node;var currNodeName=apz.getNodeName(currNode);var parentNode=params.parentNode;var elmType=params.elmType;var apzObj=this;reverse=!reverse?1:-1;return function(a,b){var currElmNodeParentNode="";var nodesArr=[];var getNodePath=function(currNode){if(apz.scrMetaData.nodesMap[currNode].relType!="1:N"){var allParentNodes=apz.scrMetaData.nodesMap[currNode].parents;for(var x=allParentNodes.length;x>0;x--){if(apz.scrMetaData.nodesMap[allParentNodes[x-1]].relType=="1:N"){if(nodesArr.length==0){nodesArr.push(currNode)}break}else{nodesArr.push(allParentNodes[x-1])}}}else{nodesArr=""}return nodesArr};var getNodeValue=function(nodePath,obj,currNode,currElm){var nodesLen=nodePath.length;var val="";var newObj=obj;if(nodesLen>0){for(var q=0;q<nodesLen;q++){var nodeName=apz.getNodeName(nodePath[q]);newObj=newObj[nodeName]}if(currNode==apz.getNodeName(nodePath[nodesLen-1])){val=newObj[currElm]}else{if(newObj[currNode]){val=newObj[currNode][currElm]}else{val={}}}}else{val=obj[currElm]}return val};var valNodePath=getNodePath(currNode);var val1=getNodeValue(valNodePath,a,currNodeName,element);var val2=getNodeValue(valNodePath,b,currNodeName,element);if(elmType=="DATE"){var fromFormat=apzObj.getServerDateFormat(currNode);var toFormat=apzObj.dateFormat;val1=apz.formatDate({val:val1,fromFormat:fromFormat,toFormat:toFormat});val2=apz.formatDate({val:val2,fromFormat:fromFormat,toFormat:toFormat});return a,b,reverse*((Date.parseExact(encodeURIComponent(val1),encodeURIComponent(toFormat))>Date.parse(encodeURIComponent(val2),encodeURIComponent(toFormat)))-(Date.parse(encodeURIComponent(val2),encodeURIComponent(toFormat))>Date.parse(encodeURIComponent(val1),encodeURIComponent(toFormat))))}else{if(elmType=="DATETIME"){var fromFormat=apzObj.getServerDateTimeFormat(currNode);var toFormat=apzObj.dateTimeFormat;val1=apz.formatDate({val:val1,fromFormat:fromFormat,toFormat:toFormat});val2=apz.formatDate({val:val2,fromFormat:fromFormat,toFormat:toFormat});return a,b,reverse*((Date.parseExact(encodeURIComponent(val1),encodeURIComponent(toFormat))>Date.parse(encodeURIComponent(val2),encodeURIComponent(toFormat)))-(Date.parse(encodeURIComponent(val2),encodeURIComponent(toFormat))>Date.parse(encodeURIComponent(val1),encodeURIComponent(toFormat))))}else{if(elmType=="NUMBER"){return a,b,reverse*(val1-val2)}else{return a,b,reverse*((val1>val2)-(val2>val1))}}}}},getAllRecords:function(containerObj){var finalOutput={};var dataPointer;var nodes=containerObj.nodes;var noOfNodes=nodes.length;var node=nodes[0];var mrParent=this.scrMetaData.nodesMap[node].mrParent;var totalRecs=this.data.getNoOfRecs(mrParent);for(var r=0;r<=totalRecs;r++){for(var n=0;n<noOfNodes;n++){node=nodes[n];mrParent=this.scrMetaData.nodesMap[node].mrParent;if(node!=mrParent||(node==mrParent&&this.scrMetaData.nodesMap[node].relType=="1:N")){if(r==0){finalOutput[mrParent]=[]}dataPointer=this.data.getDataPointer(mrParent,r);if(dataPointer!==null){finalOutput[mrParent][r]=dataPointer}}}}return finalOutput},getParentPointer:function(nodeId){var lparent=this.scrMetaData.nodesMap[nodeId].parent;var parentCurrRec=-1;if(!this.isNull(lparent)){if(this.scrMetaData.nodesMap[lparent]){parentCurrRec=this.scrMetaData.nodesMap[lparent].currRec}else{parentCurrRec=0}}else{parentCurrRec=-1}var lpointer=this.data.getDataPointer(lparent,parentCurrRec);return lpointer},getCurrTimeStamp:function(){return new Date().format("%a, %d-%m-%Y %H:%M:%S")},swipeIdsForImage:function(obj){var tagName=obj.tagName;var tagId=obj.id;if(tagName=="IMG"){$("#"+tagId+"_svg").attr("id",tagId).removeClass("sno");$(obj).attr("id",tagId+"_img").addClass("sno")}else{$("#"+tagId+"_img").attr("id",tagId).removeClass("sno");$(obj).attr("id",tagId+"_svg").addClass("sno")}return $("#"+tagId)[0]},getLayoutForGroup:function(params){layout=this.loMap[params.appId][params.scr][params.deviceGroup][params.orientation];return layout},getLayoutTemplates:function(params){var path="apps/"+params.appId+"/screens/scrdef/"+params.scr+"_"+params.layout+".json";if(this.deviceOs=="MCA"){path="apps/"+params.appId+"/views/scrdef/"+params.scr+"_"+params.layout+".json"}var proc={};proc.threads=[];params.userCB=params.callBack;params.id="LODEF";params.runnerObj=this;params.runner=this.getFile;params.callBack=this.getLayoutTemplatesCB;params.callBackObj=this;params.path=path;params.async=true;proc.threads[proc.threads.length]=params;this.startProc(proc)},getLayoutTemplatesCB:function(params){var templates=JSON.parse(params.content).designs;if(this.isFunction(params.userCB)){params.userCB(templates)}},getDataObjId:function(params){var appId=params.appId?params.appId:this.currAppId;return appId+this.idSep+params.ifaceId+this.idSep+params.dmlType+this.idSep+params.nodeName+this.idSep+params.elmName},getUIObjId:function(params){var appId=params.appId?params.appId:this.currAppId;var scrId=params.scrId?params.scrId:this.currScr;return appId+this.idSep+scrId+this.idSep+params.elmName},getDataObj:function(params){return document.getElementById(this.getDataObjId(params))},getUIObj:function(params){return document.getElementById(this.getUIObjId(params))},updatePaginationRecords:function(containerId){var proceed=true;if(this.isFunction(this.app.preUpdatePageSize)){proceed=this.app.preUpdatePageSize(containerId);if(this.isNull(proceed)){proceed=true}}if(proceed){var selectedObj=document.getElementById(containerId+"_dps");var containerData=this.scrMetaData.containersMap[containerId];var selectedPageSize=selectedObj.value;var params={};params.containerId=containerId;params.action="C";params.dataPointers=[];params.tracker=[];this.data.setData(params);var oldPagSize=containerData.pageSize;if(containerData.type=="TABLE"){if($("#"+containerId+"_table").hasClass("dataTable")){$("#"+containerId).find("tbody tr").not(":first").each(function(){$("#"+containerId+"_table").DataTable().row(this).remove().draw(false)})}else{$("#"+containerId).find("tbody tr").not(":first").remove()}}else{if(containerData.type=="LIST"){$($("#"+containerId).find('[rowNo="0"]:first')[0]).siblings("li").remove()}}if(selectedPageSize=="ALL"){containerData.pageSize=containerData.totalRecs}else{containerData.pageSize=parseInt(selectedPageSize)}var newPageSize=containerData.pageSize;var currPage=containerData.currPage;var firstRec=(currPage-1)*oldPagSize;var newPage=Math.round((firstRec+1)/newPageSize);firstRec=(newPage-1)*newPageSize;if(newPage==0){newPage=1;firstRec=0}containerData.currRec=firstRec;if(newPage>0){var dataRecNo=firstRec;var params={};params.containerId=containerId;params.dataRecNo=dataRecNo;params.action="D";this.data.goToRecord(params)}}if(this.isFunction(this.app.postUpdatePageSize)){this.app.postUpdatePageSize(containerId)}},populatePaginationDropdown:function(obj,options){this.clearHtml(obj.id);for(var i=0;i<options.length;i++){opt=document.createElement("option");opt.value=options[i].val;opt.innerHTML=options[i].desc;obj.appendChild(opt)}},backUpReq:function(req){if(req){if(this.isNull(req.id)){req.id=this.getProcId()}var cbDet=this.copyJSONObjectWithFilter(req,[]);cbDet.id=req.id;Apz.apzNativeServiceDet[req.id]=cbDet;if(req.proc){req.proc=null}if(req.fwdData){req.fwdData=null}if(req.runnerObj){req.runnerObj=null}if(req.runner){req.runner=null}if(req.callBack){req.callBack=null}if(req.callBackObj){req.callBackObj=null}if(req.userCallBack){req.userCallBack=null}if(req.userCallBackObj){req.userCallBackObj=null}}},getDefaultDesign:function(params){var appId=params.appId?params.appId:this.currAppId;var scr=params.scr?params.scr:this.currScr;var layout=params.layout?params.layout:this.getLayout(params);var key=scr+this.idSep+layout,design="";if(!this.containsKey(this.loDefsMap[appId],key)){design="D0"}else{var designInfo=this.loDefsMap[appId][key];design=designInfo.defaultTemplate}return design},customUnFormatNumber:function(obj){var value=$(obj).val();var inpValue=apz.unFormatNumber({decimalSep:apz.decimalSep,displayAsLiteral:"N",value:value});if(inpValue.indexOf("(")>-1){inpValue="-"+inpValue.replace(/[()]/g,"")}$(obj).val(inpValue)},validateChar:function(obj,evt){var inpValue=$(evt.target).val();var deimalFlag=false;var decimalRepeatFlag=false;var allowed=false;var dotRestrict=true;var dotPosition=15;var lengthValue=18;var lid=apz.getObjIdWORowNumber(evt.target);var lelemobj=this.scrMetaData.elmsMap[lid];var length=inpValue.length;var minMaxError="";var lmaxval="";var lminval="";var negativeNumber=true;var charAllowed=false;var allowDot=false;var targetSelectionStart=evt.target.selectionStart;if(inpValue.indexOf("-")>-1||evt.key=="-"){dotPosition=16;lengthValue=19}if(inpValue.indexOf("-")==0&&targetSelectionStart<=inpValue.indexOf("-")){charAllowed=true}if(evt.key=="."&&inpValue.length-targetSelectionStart>2){allowDot=true}if(inpValue.indexOf(".")>-1){var inpSplitValue=inpValue.split(".");if(inpSplitValue[1].length>=2&&targetSelectionStart>inpValue.indexOf(".")&&!(evt.which==46)){deimalFlag=true}if(evt.key=="."){decimalRepeatFlag=true}if(inpSplitValue[0].length>=dotPosition&&targetSelectionStart>=inpValue.indexOf(".")){allowed=true;if(inpSplitValue[1].length<=2&&targetSelectionStart>=dotPosition){allowed=false}}if(inpValue.indexOf(".")<=dotPosition){dotRestrict=false}}var allowNegative=false;var charCode=(evt.which)?evt.which:evt.keyCode;var targetSelectionStart=evt.target.selectionStart;if(!apz.isNull(lelemobj)){if(!apz.isNull(lelemobj.minVal)){lminval=parseInt(lelemobj.minVal)}if(!apz.isNull(lelemobj.maxVal)){lmaxval=parseInt(lelemobj.maxVal)}}if(targetSelectionStart==0&&charCode==45){if(apz.isNull(lminval)||(!apz.isNull(lminval)&&lminval<0)){allowNegative=true}}if(lelemobj.dataType=="INTEGER"&&evt.key=="."){minMaxError="inValidNumber";allowDot=true}if(evt.key=="-"&&length<=15&&targetSelectionStart==0){if(!apz.isNull(lminval)&&Number("-"+inpValue)>lminval){negativeNumber=false}}if((charCode>31&&(charCode!=46&&(charCode<48||charCode>57||charCode==45))&&!allowNegative)||(evt.key!="."&&length==dotPosition&&dotRestrict)||length>=lengthValue||deimalFlag||decimalRepeatFlag||allowed||charAllowed||allowDot){if(negativeNumber){evt.preventDefault();minMaxError="inValidNumber"}}if(!this.isNull(lelemobj)){var inputValue=(inpValue.slice(0,targetSelectionStart)+evt.key+inpValue.slice(targetSelectionStart));if(!apz.isNull(lminval)){if(inputValue=="-"&&lminval>0){minMaxError="APZ-VAL-006"}else{if(inpValue+evt.key!=="-"&&inputValue<lminval){minMaxError="APZ-VAL-006"}}}if(!apz.isNull(lmaxval)){if(inputValue>lmaxval){minMaxError="APZ-VAL-005"}}}this.showPopUpOnValidationError(minMaxError,obj,lelemobj,evt)},showPopUpOnValidationError:function(minMaxError,obj,lelemobj,evt){if(apz.isNull(minMaxError)){if($(obj).data("bs.popover")){$(obj).popover("disable");$(obj).popover("hide")}}else{var msg="";var lminval=lelemobj.minVal;var lmaxval=lelemobj.maxVal;if(minMaxError=="APZ-VAL-006"){msg=apz.msgs[apz.appId]["APZ-CITI-LTMIN"];if(!apz.isNull(msg)){(msg.indexOf("$min")>-1)?msg=msg.replace("$min",lminval):msg=msg;msg=msg.slice(1)}}else{if(minMaxError=="APZ-VAL-005"){msg=apz.msgs[apz.appId]["APZ-CITI-GTMAX"];if(!apz.isNull(msg)){(msg.indexOf("$max")>-1)?msg=msg.replace("$max",lmaxval):msg=msg;msg=msg.slice(1)}if(evt){evt.preventDefault()}}else{msg=apz.msgs[apz.appId]["APZ-CITI-INVNUM"];if(!apz.isNull(msg)){(msg.indexOf("$min")>-1)?msg=msg.replace("$min",lminval):msg=msg;(msg.indexOf("$max")>-1)?msg=msg.replace("$max",lmaxval):msg=msg;msg=msg.slice(1)}if(evt){evt.preventDefault()}}}if(!apz.isNull(msg)){if(apz.isNull(lminval)&&apz.isNull(lmaxval)){if(lelemobj.decorations){var decorsLen=lelemobj.decorations.length;for(var l=0;l<decorsLen;l++){var decorName=lelemobj.decorations[l].name.split("_")[2];if(decorName.indexOf("BasicRuleSet")>-1){var decorVal=lelemobj.decorations[l].value.split("|")[0];if(decorVal=="Num"){msg=apz.msgs[apz.appId]["APZ-CITI-INVNUM1"]}else{if(decorVal=="FTxtC"){msg=apz.msgs[apz.appId]["APZ-CITI-INVNUM2"]}}if(!apz.isNull(msg)){msg=msg.slice(1)}}}}else{msg=apz.msgs[apz.appId]["APZ-CITI-INVNUM1"];if(!apz.isNull(msg)){msg=msg.slice(1)}}}}}if(!apz.isNull(msg)){if(apz.isNull($(obj).data("bs.popover"))){this.initializeErrorPopover(obj.id,msg)}else{if($(obj).data("bs.popover")){var popContent='<span class="numbrError"><svg aria-hidden="true" role="presentation" class="ett-icon icon-error px20"><use xlink:href="#icon-error"></use></svg>'+msg+"</span>";$(obj).data("bs.popover").options.content=popContent;$(obj).popover("enable");$(obj).popover("show")}}}},initializeErrorPopover:function(id,msg){var objId=apz.getObjIdWORowNumber(document.getElementById(id));var placement="bottom";if(apz.scrMetaData.containersMap[apz.scrMetaData.elmsMap[objId].container].type==="TABLE"){placement="top"}$("#"+id).popover({html:true,placement:placement,trigger:"focus",content:'<span class="numbrError"><svg aria-hidden="true" role="presentation" class="ett-icon icon-error px20"><use xlink:href="#icon-error"></use></svg>'+msg+"</span>"});$("#"+id).popover("show")},hidePopOver:function(obj){if(!apz.isNull($(obj).data("bs.popover"))){$(obj).popover("disable");$(obj).popover("hide")}},getRelatedContainers:function(containerId,containersList){var contData=this.scrMetaData.containersMap[containerId];var group,groupData,container,nodes;if(contData){group=contData.group}if(this.isNull(containersList)){containersList=[];containersList.push(containerId)}if(apz.isNull(group)){}else{groupData=apz.scrMetaData.groupsMap[group];lnoofcontainers=groupData.containers.length;if(lnoofcontainers>0){for(var c=0;c<lnoofcontainers;c++){container=groupData.containers[c];if(!(containersList.indexOf(container)>-1)&&containerId!=container){containersList.push(container)}}}nodes=groupData.nodes}if(!apz.isNull(nodes)){var noOfNodes=nodes.length;var nodeId="";var childNode;var noOfChilds=0;if(noOfNodes>0){for(var n=0;n<noOfNodes;n++){nodeId=nodes[n];noOfChilds=apz.scrMetaData.nodesMap[nodeId].childs.length;if(noOfChilds>0){for(var c=0;c<noOfChilds;c++){childNode=apz.scrMetaData.nodesMap[nodeId].childs[c];var group=apz.scrMetaData.nodesMap[childNode].group;if(!apz.isNull(group)){var containers=apz.scrMetaData.groupsMap[group].containers;if(containers.length>0){container=containers[0];if(!(containersList.indexOf(container)>-1)){containersList.push(container);this.getRelatedContainers(container,containersList)}}}}}}}}return containersList},isRelatedContainerSearched:function(relCntrs){var relCntrSearched=false;for(var c=1;c<relCntrs.length;c++){var cntrId=relCntrs[c];var cntrData=this.scrMetaData.containersMap[cntrId];var mrNode=cntrData?cntrData.nodes[0]:"";if(this.data.scrDataBackup[mrNode]){relCntrSearched=true;break}}return relCntrSearched},onDpDwnChg:function(pObj){var selVal=pObj.value;var lId=$(pObj).parents(".editable-container.editable-inline").siblings("a")[0].id;$("#"+lId).attr("value",selVal);$(pObj).closest("form").submit()}};if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(value){return this.substring(0,value.length)===value}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(str){return this.substring(this.length-str.length,this.length)===str}}if(typeof String.prototype.includes!="function"){String.prototype.includes=function(str){return this.indexOf(str)!=-1?true:false}}if(typeof String.prototype.trim!=="function"){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}if(typeof String.prototype.charAt!=="function"){String.prototype.charAt=function(pos){return this.substr(pos,1)}};
////Appending Script  == >log.js
Apz.Log=function(apz){this.apz=apz;this.logs="";this.lines=[];this.levels=[];this.levels.F=0;this.levels.E=1;this.levels.W=2;this.levels.I=3;this.levels.D=4;this.typeDescription=[];this.typeDescription.F="Fatal";this.typeDescription.E="Error";this.typeDescription.W="Warning";this.typeDescription.I="Info";this.typeDescription.D="Debug"};Apz.Log.prototype={log:function(type,msg){try{var level=this.levels[type];if((level<=this.levels[this.apz.logLevel])||(level===0)){this.appendLog(msg,type)}}catch(e){}},debug:function(msg){this.log("D",msg)},info:function(msg){this.log("I",msg)},warning:function(msg){this.log("W",msg)},error:function(msg){this.log("E",msg)},fatal:function(msg){this.log("F",msg)},appendLog:function(msg,type){var level=this.levels[type];if(this.lines.length>=this.apz.noOfLogLines){this.lines.splice(0,1)}msg="[Date : "+this.apz.getCurrTimeStamp()+"  Type : "+this.typeDescription[type]+"  Message : "+msg+"]\n";this.lines[this.lines.length]=msg;if((level===0)||(this.lines.length>=this.apz.noOfLogLines)){if(this.apz.sendLog=="Y"){this.sendLog()}else{if(this.apz.sendLog=="C"){var params={};params.code="APZ-INF-001";params.callBackObj=this;params.callBack=this.sendLogConfirm;this.apz.dispMsg(params)}}}},sendLogConfirm:function(params){if(params.choice){this.sendLog()}},sendLog:function(){var body={};body.appzillonErrorLoggingRequest={};body.appzillonErrorLoggingRequest.error=this.lines.join("\n");var params={};params.internal=true;params.id="SENDLOG";params.ifaceName="appzillonErrorLogging";params.req=body;params.callBackObj=this;params.callBack=this.sendLogCB;this.apz.server.sendReq(params)},sendLogCB:function(params){}};
////Appending Script  == >uiutils.js
Apz.prototype.accordionAction=function(obj){var proceed=true;if(this.isFunction(this.app.preAccordionAction)){proceed=this.app.preAccordionAction(obj)}if(proceed!=false){var jqueryObj=$(obj);if(jqueryObj.parent().find(".height-transition:first").hasClass("height-transition-hidden")){jqueryObj.parent().siblings().removeClass("active");jqueryObj.parent().addClass("active");jqueryObj.attr({"aria-selected":"true","aria-expanded":"true"});this.slideDownTransition(obj)}else{this.slideUpTransition(obj);jqueryObj.parent().removeClass("active");jqueryObj.attr({"aria-selected":"false","aria-expanded":"false"})}}if(this.isFunction(this.app.postAccordionAction)){this.app.postAccordionAction(obj)}},Apz.prototype.tabAction=function(obj){var proceed=true;var activeTabCont=[];var tabobj,ulObj;if(this.isFunction(this.app.preTabAction)){proceed=this.app.preTabAction(obj)}if(proceed!=false){var jqueryObj=$(obj);if(jqueryObj.parent().hasClass("acco")){if(jqueryObj.parent().hasClass("acco")&&!jqueryObj.next("div").hasClass("active")){jqueryObj.attr({"aria-selected":"true","aria-expanded":"true"});jqueryObj.next("div").addClass("active");var indx=jqueryObj.parent().parent().find(".acco").index(jqueryObj.parent());var liObj=jqueryObj.parents(".tabs-ctr:first").siblings(".tabs").find("li")[indx];$(liObj).siblings("li").removeClass("current").attr({"aria-selected":"false","aria-expanded":"false"});$(liObj).addClass("current").attr({"aria-selected":"true","aria-expanded":"true"});jqueryObj.addClass("current");jqueryObj.parent().siblings("div").children("ul").removeClass("current").attr({"aria-selected":"false","aria-expanded":"false"});jqueryObj.parent().siblings("div").children(".active").removeClass("active");activeTabCont=jqueryObj.next("div")}}else{if(!(jqueryObj).hasClass("current")){jqueryObj.addClass("current");jqueryObj.siblings("li").removeClass("current").attr({"aria-selected":"false","aria-expanded":"false"});jqueryObj.attr({"aria-selected":"true","aria-expanded":"true"})}var parentDiv=jqueryObj.parents("div.pst-tabs:first");if(parentDiv.hasClass("nrsp")){tabobj=jqueryObj.closest("div.pst-tabs").children("div.tabcontent");tabobj.removeClass("active").attr("aria-hidden","true");activeTabCont=tabobj.eq(jqueryObj.index());activeTabCont.addClass("active").attr("aria-hidden","false")}else{tabobj=jqueryObj.closest("div.pst-tabs").children("div.tabs-ctr").children("div.acco").children("div.tabcontent");ulObj=jqueryObj.parent("ul:first").siblings("div.tabs-ctr").find("div.acco").children("ul");tabobj.removeClass("active").attr("aria-hidden","true");tabobj.parent(".acco").attr("aria-hidden","true");ulObj.removeClass("current").attr({"aria-selected":"false","aria-expanded":"false"});activeTabCont=tabobj.eq(jqueryObj.index());activeTabCont.attr("aria-hidden","false").parent(".acco").attr("aria-hidden","false");activeTabCont.addClass("active").attr("aria-hidden","false").siblings("ul").addClass("current").attr({"aria-selected":"true","aria-expanded":"true"})}}}if(activeTabCont.length>0){this.initFixedHeaderTables(activeTabCont.find("table[id].fixedheader:visible"));this.initDataTables(activeTabCont.find("table[id].responsive:visible"))}if(this.isFunction(this.app.postTabAction)){this.app.postTabAction(obj)}},Apz.prototype.setTableHeight=function(containerId,destroy){if(this.scrMetaData.containersMap[containerId].type=="TABLE"&&!$("#"+containerId+"_table").hasClass("responsive")){if($(document.getElementById(containerId)).hasClass("pri")){var tableObj=document.getElementById(containerId+"_table");$tableObj=$(tableObj);$tableDiv=$(document.getElementById(containerId)).find(".tabl-ctr");var tableHeight=$tableObj.height();var usrHeight=$tableObj.data("tableheight");usrHeight=parseFloat(usrHeight);if(tableHeight<usrHeight){$tableDiv.height(tableHeight)}else{$tableDiv.height(usrHeight)}}this.initFixedHeaderTable($("#"+containerId+"_table[id].fixedheader:visible"),destroy)}},Apz.prototype.rowSelectorClicked=function(event){event.stopPropagation();if(this.isFunction(this.app.rowSelectorClicked)){this.app.rowSelectorClicked(event)}},Apz.prototype.showPageStyle2Controls=function(container){var st=0;var le=0;var tp=this.scrMetaData.containersMap[container].totalPages;var cp=this.scrMetaData.containersMap[container].currPage;var diff=cp-5;for(var i=1;i<=5;i++){if((i<=tp)&&cp<=tp){this.show(container+"_"+i+"_btn");if(cp>5){this.setElmValue(container+"_"+i+"_btn",diff+i)}else{this.setElmValue(container+"_"+i+"_btn",i)}}else{this.hide(container+"_"+i+"_btn")}}if(tp<=0){this.hide(container+"_first_btn");this.hide(container+"_prev_btn");this.hide(container+"_next_btn");this.hide(container+"_last_btn")}else{this.show(container+"_first_btn");this.show(container+"_prev_btn");this.show(container+"_next_btn");this.show(container+"_last_btn");var ps=this.getElmValue(container+"_1_btn");var pe=this.getElmValue(container+"_5_btn");var ls=cp;if(cp>pe){le=cp;ls=le-4}else{if(cp<ps){ls=cp;le=ls+4}}}$("#"+container+"_pagination_li .active").removeClass("active");$("#"+container+"_"+((cp+1)-parseInt(ps))+"_btn").addClass("active")},Apz.prototype.showPageStyle3Controls=function(container){var st=0;var le=0;var tp=this.scrMetaData.containersMap[container].totalPages;var cp=this.scrMetaData.containersMap[container].currPage;var diff=cp-4;var lastPgNo=parseInt($("#"+container+"_1_btn").parent().children("a:visible:last").text());if(cp!=tp||(cp==tp&&tp==1)||(cp==tp&&tp!=lastPgNo)){if(cp==tp&&tp!=lastPgNo){diff=cp-5}for(var i=1;i<=5;i++){if((i<=tp)&&cp<=tp){this.show(container+"_"+i+"_btn");if(cp>4){this.setElmValue(container+"_"+i+"_btn",diff+i)}else{this.setElmValue(container+"_"+i+"_btn",i)}}else{this.hide(container+"_"+i+"_btn")}}}if(tp>0){var ps=this.getElmValue(container+"_1_btn");var pe=this.getElmValue(container+"_5_btn")}$("#"+container+"_pagination_li .active").removeClass("active");$("#"+container+"_"+((cp+1)-parseInt(ps))+"_btn").addClass("active");var pageSize=this.scrMetaData.containersMap[container].pageSize;var lastRec=this.scrMetaData.containersMap[container].currPage*pageSize;var totalRecs=this.scrMetaData.containersMap[container].totalRecs;if(lastRec>totalRecs){lastRec=totalRecs}var currentRec="";var currRec=this.scrMetaData.containersMap[container].currRec;if(currRec==-1){currentRec=0}else{var rem=(currRec)%pageSize;if(rem==0){currentRec=currRec+1}else{currentRec=currRec-rem+1}}if(currentRec<=0){currentRec=1}$("#"+container+"_info").text("Showing "+currentRec+" to "+lastRec+" of "+totalRecs+" entries")},Apz.prototype.closeResponsiveTableRows=function(tableObj){var tableData=tableObj.DataTable();tableObj.find("tr.child").each(function(){var rowObj=$(this).prev();var index=rowObj.index();var row=tableData.row(index);var prevIcon=rowObj.find("[targetclass]");if(prevIcon!==""&&prevIcon!==undefined&&prevIcon.length!==0){var iconName=prevIcon.attr("targetclass");var svgIcon=prevIcon.find("svg");if(svgIcon.length>0){var svgIconName=prevIcon.find("svg").attr("class").replace("icon","").trim().split(" ")[0];prevIcon.find("svg").removeClass(svgIconName).addClass(iconName);prevIcon.find("use").attr("xlink:href","#"+iconName);prevIcon.attr("targetclass",svgIconName)}}row.child.hide();rowObj.removeClass("parent")})},Apz.prototype.breadCrumbAction=function(obj){var proceed=true;if(this.isFunction(this.app.prebreadCrumbAction)){proceed=this.app.prebreadCrumbAction(obj)}if(proceed!=false){var jqueryObj=$(obj);if(!(jqueryObj).hasClass("active")){jqueryObj.addClass("active");jqueryObj.siblings("li").removeClass("active")}}if(this.isFunction(this.app.postbreadCrumbAction)){this.app.postbreadCrumbAction(obj)}},Apz.prototype.collapsibleAction=function(obj){if(this.isFunction(this.app.preCollapsibleAction)){this.app.preCollapsibleAction(obj)}if($(obj).parent().find(".height-transition").hasClass("height-transition-hidden")){$(obj).attr({"aria-selected":"true","aria-expanded":"true"});this.slideDownTransition(obj)}else{this.slideUpTransition(obj);$(obj).attr({"aria-selected":"false","aria-expanded":"false"})}if(this.isFunction(this.app.postCollapsibleAction)){this.app.postCollapsibleAction(obj)}},Apz.prototype.equalizeColumns=function(proc){return $("#scr__"+proc.appId+"__"+proc.scr+"__main .grb.equalize").each(function(){var $row,collapsed,tallest;$row=$(this);tallest=0;collapsed=false;$row.children().each(function(i){var $this;$this=$(this);$this.css("minHeight","1px");collapsed=$this.outerWidth()===$row.outerWidth();if(!collapsed){if(!$this.hasClass("equal")){$this.addClass("equal")}if($this.outerHeight()>tallest){tallest=$this.outerHeight()}}});if(!collapsed){return $row.children().css("min-height",tallest)}})},Apz.prototype.initTables=function(proc){this.initDataTables($("#scr__"+proc.appId+"__"+proc.scr+"__main .responsive:visible"),true);this.initFixedHeaderTables($("#scr__"+proc.appId+"__"+proc.scr+"__main [id].fixedheader:visible"));this.initFilterTables($("#scr__"+proc.appId+"__"+proc.scr+"__main [id].filtertables:visible"))},Apz.prototype.initDataTables=function(obj,destroy){var jqueryObj=$(obj);apzObj=this;if(jqueryObj.length>0){jqueryObj.each(function(){apzObj.initDataTable($(this),destroy);if(!$(this).parents(".crb-tabl:first")[0].__resizeListeners__){var resizeTable=apzObj.resizeTableHandler($(this).parents(".crb-tabl:first")[0]);apzObj.addResizeListener($(this).parents(".crb-tabl:first")[0],resizeTable)}})}},Apz.prototype.initDataTable=function(obj,destroy){var jqueryObj=$(obj);var tableDiv=jqueryObj.parents(".crb-tabl:first");if(tableDiv.find("object").length>0){var backupObj=tableDiv.parent().find("object");tableDiv.find("object").remove()}var apzObj=this;if(jqueryObj.length>0){if(jqueryObj.is(":visible")&&jqueryObj.hasClass("responsive")){var proceed=true;if(this.isNull(destroy)){destroy=false}if($.fn.DataTable.isDataTable(jqueryObj[0])){if(destroy){jqueryObj.DataTable().destroy()}else{proceed=false}}else{if(jqueryObj.find("tbody tr").length==0){proceed=false}}if(proceed){var table=jqueryObj.DataTable({paging:false,ordering:false,info:false,searching:false,searchable:false});setTimeout(function(){tableDiv.attr("oldWidth",tableDiv.find(".responsive").width())},100);jqueryObj.find("tbody").off("click.apzevent").on("click.apzevent","td.dticon",function(){var tablDiv=$(this).closest(".crb-tabl");var tr=$(this).closest("tr");var table=$(this).closest("table").DataTable();var row=table.row(tr);var iconObj=$(this).children("svg");if(iconObj.length>0){iconObj.removeClass("px24");var newTargetCls=iconObj.attr("class").replace("icon","").trim();var oldTargetClass=$(this).attr("targetclass");$(this).attr("targetclass",newTargetCls);$(this).html("").append('<svg class="icon '+oldTargetClass+' px24" aria-hidden="true"><use xlink:href="#'+oldTargetClass+'"></use></svg>')}if($(tr).next("tr").hasClass("child")){var childTd=$(tr).next("tr").children();var lchilds=childTd.children().children();if(lchilds.length>0){var childElmObjs=$(lchilds).find("[rowno]");$(childElmObjs).each(function(){var targetObj=$("#"+this.id);childTd.addClass(targetObj.closest("td").attr("class"));apzObj.setObjValue(this,apzObj.getObjValue(targetObj[0]))})}}if(apzObj.isFunction(apzObj.app.postExpandAction)){apzObj.app.postExpandAction(this)}})}else{if($.fn.DataTable.isDataTable(jqueryObj[0])){jqueryObj.DataTable().columns.adjust().draw()}}}}tableDiv.append(backupObj)},Apz.prototype.initFixedHeaderTables=function(obj){var apzObj=this;var jqueryObj=$(obj);if(jqueryObj.length>0){jqueryObj.each(function(){apzObj.setTableHeight($(this).parents(".crb-tabl:first").attr("id"),false);if(!$(this).parents(".crb-tabl:first")[0].__resizeListeners__){var resizeTable=apzObj.resizeTableHandler($(this).parents(".crb-tabl:first")[0]);apzObj.addResizeListener($(this).parents(".crb-tabl:first")[0],resizeTable)}})}},Apz.prototype.initFixedHeaderTable=function(obj,destroy){var jqueryObj=$(obj);if(jqueryObj.length>0&&jqueryObj.is(":visible")&&jqueryObj.hasClass("fixedheader")){var tblWrap=jqueryObj.parents(".crb-tabl:first");if(destroy){jqueryObj.fixedHeaderTable("destroy")}else{tblWrap.find(".fht-cell").remove()}tblWrap.attr("oldWidth",tblWrap.width());jqueryObj.fixedHeaderTable({})}},Apz.prototype.initCarousels=function(proc){$("#scr__"+proc.appId+"__"+proc.scr+"__main .swiper-container").each(function(){var loop=$(this).attr("data-loop")=="y"?true:false;var swiper=new Swiper("#"+this.id,{pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:1,paginationClickable:true,spaceBetween:30,loop:loop,autoplay:false,autoHeight:false,observer:true,observeParents:true})})},Apz.prototype.initFloatingLabels=function(proc){$("#scr__"+proc.appId+"__"+proc.scr+"__main .flbl input").each(function(){function updateText(event){var input=$(this);setTimeout(function(){var val=input.val();if(val!=""){input.parents(".flbl:first").addClass("flbl-float")}else{input.parents(".flbl:first").removeClass("flbl-float")}},1)}$(".flbl input").keydown(updateText);$(".flbl input").change(updateText);$(this).trigger("change")});$("#scr__"+proc.appId+"__"+proc.scr+"__main .flbl textarea").each(function(){function updateText(event){var input=$(this);setTimeout(function(){var val=input.val();if(val!=""){input.parent().parents(".flbl:first").addClass("flbl-float")}else{input.parent().parents(".flbl:first").removeClass("flbl-float")}},1)}$(".flbl textarea").keydown(updateText);$(".flbl textarea").change(updateText);$(this).trigger("change")})},Apz.prototype.updateFloatingClass=function(obj){},Apz.prototype.initDraggables=function(proc){var element=jQuery("#scr__"+proc.appId+"__"+proc.scr+"__main .modal-draggable");var move=function(event){if(element.data("mouseMove")){var changeX=event.clientX-element.data("mouseX");var changeY=event.clientY-element.data("mouseY");var newX=parseInt(element.css("left"))+changeX;var newY=parseInt(element.css("top"))+changeY;element.css("left",newX);element.css("top",newY);element.data("mouseX",event.clientX);element.data("mouseY",event.clientY)}};element.mousedown(function(event){element.data("mouseMove",true);element.data("mouseX",event.clientX);element.data("mouseY",event.clientY)});element.parents(":last").mouseup(function(){element.data("mouseMove",false)});element.mouseout(move);element.mousemove(move)},Apz.prototype.handleMenus=function(proc){var apzObj=this;if(proc.type=="PG"){jQuery(".topnav ul").hide()}if(jQuery.fn.accordion){jQuery("#scr__"+proc.appId+"__"+proc.scr+"__main .topnav").each(function(){var accordionMenu=false;if(!apzObj.isNull($(this).attr("accordionmenu"))){accordionMenu=true}$(this).accordion({accordion:accordionMenu,speed:500,closedSign:'<svg class="icon icon-downarrow px12" aria-hidden="true"><use xlink:href="#icon-downarrow"></use></svg>',openedSign:'<svg class="icon icon-uparrow px12" aria-hidden="true"><use xlink:href="#icon-uparrow"></use></svg>'})})}},Apz.prototype.closeMenu=function(){$("#myModal").css({display:"none"})},Apz.prototype.handleLov=function(){jQuery("#lovModal").hide();jQuery("#lovwindow").hide();jQuery("#lovtoggle").show()},Apz.prototype.handlePopupMenu=function(elm){var menuObj=$(elm).closest("li").find("ul");menuObj.css("top","");menuObj.css("bottom","");menuObj.css("left","");menuObj.css("right","");var elmheight=$(elm).parent().height();var menuOffset=menuObj.offset();var menuHeight=menuObj.height();var menuWidth=menuObj.width();var parent;if($("#page-body").find(menuObj).length>0){parent=$("#page-body")}else{if($("#footer").find(menuObj).length>0){parent=$("#footer")}else{if($("#header").find(menuObj).length>0){parent=$("#header")}else{}}}if(parent!=undefined){var parentoffset=parent.offset();var parentheight=parent.height();var parentwidth=parent.width();if((menuOffset.top+menuHeight)>parentheight){menuObj.css("top","auto");menuObj.css("bottom",elmheight+"px")}if((menuOffset.left+menuWidth)>parentwidth){menuObj.css("left","auto");menuObj.css("right","0px")}}},Apz.prototype.initDependentWidgets=function(proc){this.initTables(proc)},Apz.prototype.init=function(proc){this.setScreenProps(proc);this.handleMenus(proc);this.handleLov();this.initCarousels(proc);this.initFloatingLabels(proc);this.handleCalendar();this.initControls(proc);this.initDraggables(proc);if(proc.type!="CF"&&proc.type!="SS"){this.initSidebarState()}this.initMenus(proc);this.equalizeColumns(proc);this.marginSetForSideBar();this.initTableSearch(proc);this.initPaginationDropdown();this.initModalEvent(proc);var apzObj=this;$("#scr__"+proc.appId+"__"+proc.scr+"__main").find("input").each(function(){var id=apzObj.getObjIdWORowNumber($(this)[0]);var elmObj=apzObj.scrMetaData.elmsMap[id];if(elmObj&&elmObj.externalWidgetType&&elmObj.externalWidgetType=="IPS"){apzObj.products.elasticSearch($(this)[0])}});$(document).bind("keydown",function(e){if(e.which==27&&jQuery("#lovModal").css("display")!="none"){jQuery("#lovModal").toggle(0);jQuery("#lovwindow").slideToggle(200);e.stopPropagation()}if(e.which==13&&jQuery("#lovModal").css("display")!="none"){if(e.target.id=="idFilter"){$(".icon-search").parent().trigger("click");e.stopPropagation()}}});var apzObj=this;$("#scr__"+proc.appId+"__"+proc.scr+"__main .addedAuderoCM").click(function(event){var id=this.id;var obj=this.scrMetaData.elmsMap[id].contextmenuid;var contxtId=obj+"_main_div";apzObj.handleContextMenu(contxtId,event)});var headerObj=document.getElementById("header");$.each($("#scr__"+proc.appId+"__"+proc.scr+"__main .tooltipcls"),function(key,value){position="top";if(apz.scrMetaData.uiInits.tooltip){for(i=0;i<apz.scrMetaData.uiInits.tooltip.length;i++){if(apz.scrMetaData.uiInits.tooltip[i][0]==value.id){position=apz.scrMetaData.uiInits.tooltip[i][1];break}}}$(value).tooltip({align:position})});$("#scr__"+proc.appId+"__"+proc.scr+"__main .tooltipcls").keydown(function(){$(".tooltip-inner").parent(".tooltip").fadeOut(3000)});$("#scr__"+proc.appId+"__"+proc.scr+"__main .tooltipcls").click(function(){$(".tooltip-inner").parent(".tooltip").fadeOut(0)})},Apz.prototype.setScreenProps=function(proc){var scrProps=this.scrMetaData.scrProps;if(scrProps){var $body=$("body");if(proc.type=="PG"){var $html=$("html");var bgColor="";if(!this.isNull(scrProps[1])){bgColor="#"+scrProps[1]}$body.find(".rolepage").removeClass().addClass(scrProps[0]+" rolepage");$body.css("background-color",bgColor);if(this.defaultTheme!==this.theme){var bgimg=scrProps[2].split("/");bgimg.splice(-3,1,this.theme);scrProps[2]=bgimg.join("/")}$body.css("background-image",scrProps[2]);$body.css("background-repeat",scrProps[3]);$body.css("background-attachment",scrProps[4]);$body.css("background-position",scrProps[5]);$body.css("background-size",scrProps[6]);$body.find(".rolepage").addClass(scrProps[7]);$body.removeClass("mnt mns mnp pri sec ter").addClass(scrProps[8])}else{if(!this.isNull(scrProps[8])){if(scrProps[8].indexOf("mnt")!=-1||scrProps[8].indexOf("mns")!=-1||scrProps[8].indexOf("mnp")!=-1){$body.removeClass("mnt mns mnp")}$body.addClass(scrProps[8])}}}},Apz.prototype.initMenus=function(proc){var apzObj=this;var $scr=$("#scr__"+proc.appId+"__"+proc.scr+"__main");if($scr.find(".crt-hmnu").length>0||$scr.find(".crt-vmnu").length>0){if($(window).width()>700){var resp=false}else{var resp=true}if($scr.find(".crt-hmnu").length>0){$scr.find(".crt-hmnu").each(function(){apzObj.initHorVerMenus(this,"topbar",resp)})}if($scr.find(".crt-vmnu").length>0){$scr.find(".crt-vmnu").each(function(){apzObj.initHorVerMenus(this,"sidebar",resp)})}}},Apz.prototype.initOneTimeEvents=function(){var apzObj=this;if($.fn.editable){if($.fn.editable.defaults){var editableProps=$.fn.editable.defaults;editableProps.mode="inline";editableProps.onblur="submit"}}$("html").on("click.apzevent",function(e){if($(e.target).parents(".srh:first").hasClass("srh-open")){$(".srh").not($(e.target).parents(".srh:first")).removeClass("srh-open")}else{$(".srh").removeClass("srh-open")}if($(".context-open").length>0){var tagname=$(e.target).prop("tagName");if($(e.target).closest(".context-open").length>0&&((tagname=="LI"||tagname=="A")&&$(e.target).find("i").length>0)||(tagname=="SPAN")||(tagname=="I")){}else{e.preventDefault();$(".context-open").fadeOut(500);$(".context-open").removeClass("context-open")}}else{if($(e.target).closest("#header").length>0){apzObj.handleHeader(e)}}if($(e.target).parents(".drdn-open").length==0){var trgObj=e.target;var tableObj=$(e.target).parents("table:first");if(tableObj&&tableObj.hasClass("fixedheader")){var drdnExtspan=$(".drdn-extspan");if(drdnExtspan){trgObj=drdnExtspan.find("#"+e.target.id)[0];if(e.target.id.indexOf("_selectall")!=-1){var checkedAttr=e.target.checked;trgObj.checked=checkedAttr;$(trgObj).trigger("change")}}}if($(trgObj).parents(".drdn-open").length==0){var dropDownObj="";if($(e.target).hasClass("drdn-open")){$(".drdn-open").not(e.target).each(function(){if($(".drdn-extspan").length>0){$("#"+$(".drdn-extspan").children().attr("original-id")+"_ext").append($(".drdn-extspan").children())}$(this).removeClass("is-open drdn-open")})}else{if($(".drdn-extspan").length>0){dropDownObj=$(".drdn-extspan").children().attr("original-id")+"_ext";$("#"+$(".drdn-extspan").children().attr("original-id")+"_ext").append($(".drdn-extspan").children())}$(".drdn-open").removeClass("is-open drdn-open")}if($("#"+dropDownObj).hasClass("table-selectall")){apz.filterCloseAction(dropDownObj.split("_ext")[0])}else{apz.onDropDownClose(dropDownObj)}$(".drdn-extspan").remove()}}if($(".popover").length>0){var proceed=true;if($(e.target).parents("[aria-describedby]").length>0){proceed=false}if(proceed&&!$(e.target).attr("aria-describedby")&&$(e.target).parents(".popover").length==0){if($(".popover").length>0){$(".popover").each(function(){if($(this).data("bs.popover")!=undefined){$(this).popover("hide").data("bs.popover").inState.click=false}})}}}});var windowObj=$(window);var setDrdnPos=function(){var cloneElm=$(".drdn-extspan");var $obj=$(document.getElementById(cloneElm.children().attr("original-id")));var cloneHt=cloneElm.children().height();var cloneWidth=$obj.parent().width();var objOffset=$obj.offset();var clonePosTop=objOffset.top;if((objOffset.top+$obj.outerHeight()+cloneHt>windowObj.innerHeight()+windowObj.scrollTop())&&(objOffset.top>cloneHt)){clonePosTop=objOffset.top-cloneHt-10}else{clonePosTop=objOffset.top+$obj.outerHeight()+5}$(cloneElm).css({width:cloneWidth,position:"absolute",top:clonePosTop+"px",left:objOffset.left+"px"})};windowObj.off("resize.apzevent").on("resize.apzevent",function(){if($(".drdn-extspan").length>0){setDrdnPos()}});window.addEventListener("scroll",function(){if($(".drdn-extspan").length>0){setDrdnPos()}},true);this.initResizeEvents(apzObj)},Apz.prototype.resizeTableHandler=function(trigger,e){var timeout;var tblObj=$(trigger);var apzObj=this;var func=function(tblObj){tblObj=$(tblObj);if(tblObj.is(":visible")){var tableOldWidth=tblObj.attr("oldWidth");var tableCntWidth=tblObj.width();var tableWidth=tblObj.find("#"+trigger.id+"_table").outerWidth();var isResponsive=false;if(tblObj.find("#"+trigger.id+"_table").hasClass("responsive")){isResponsive=true}if(isResponsive){if(tableOldWidth!=tableCntWidth&&Math.abs(parseInt(tableOldWidth)-parseInt(tableCntWidth))>10){apzObj.startSpinner(tblObj.attr("id"));apzObj.initDataTable(tblObj.find("table[id].responsive:visible"),true);apzObj.closeResponsiveTableRows(tblObj.find("table[id].responsive:visible"));apzObj.stopSpinner(tblObj.attr("id"))}}else{if(tableOldWidth!=tableCntWidth){apzObj.startSpinner(tblObj.attr("id"));apzObj.initFixedHeaderTable(tblObj.find("table[id].fixedheader:visible"),true);apzObj.stopSpinner(tblObj.attr("id"))}}}};var threshold=200;if(tblObj.find("table[id].fixedheader")){threshold=0}return this.debounce(func,threshold)},Apz.prototype.debounce=function(func,wait,immediate){var timeout;return function debounced(){var obj=this,args=arguments;function delayed(){timeout=null;if(!immediate){func.apply(obj,args)}}var callNow=immediate&&!timeout;if(timeout){clearTimeout(timeout)}timeout=setTimeout(delayed,wait);if(callNow){func.apply(obj,args)}}},Apz.prototype.initResizeEvents=function(apzObj){var attachEvent=document.attachEvent;var isIE=navigator.userAgent.match(/Trident/);var requestFrame=(function(){var raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(fn){return window.setTimeout(fn,20)};return function(fn){return raf(fn)}})();var cancelFrame=(function(){var cancel=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(id){return cancel(id)}})();function resizeListener(e){var win=e.target||e.srcElement;if(win.__resizeRAF__){cancelFrame(win.__resizeRAF__)}win.__resizeRAF__=requestFrame(function(){var trigger=win.__resizeTrigger__;trigger.__resizeListeners__.forEach(function(fn){fn.call(apzObj,trigger,e)})})}function objectLoad(e){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__;this.contentDocument.defaultView.addEventListener("resize",resizeListener)}Apz.prototype.addResizeListener=function(element,fn){if(!element.__resizeListeners__){element.__resizeListeners__=[];if(attachEvent){element.__resizeTrigger__=element;element.attachEvent("onresize",resizeListener)}else{if(getComputedStyle(element).position=="static"){element.style.position="relative"}var obj=element.__resizeTrigger__=document.createElement("object");obj.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;");obj.__resizeElement__=element;obj.onload=objectLoad;obj.type="text/html";$(obj).attr("tabindex","-1");if(isIE){element.appendChild(obj)}obj.data="about:blank";if(!isIE){element.appendChild(obj)}}}element.__resizeListeners__.push(fn)};Apz.prototype.removeResizeListener=function(element,fn){element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(fn),1);if(!element.__resizeListeners__.length){if(attachEvent){element.detachEvent("onresize",resizeListener)}else{element.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",resizeListener);element.__resizeTrigger__=!element.removeChild(element.__resizeTrigger__)}}}},Apz.prototype.initTableSearch=function(proc){var $scr=$("#scr__"+proc.appId+"__"+proc.scr+"__main");if($scr.find(".srh").length>0){$(".srh-icn").click(function(e){var currObj=$(this);var inputBox=$(this).siblings("span").find(".srh-inp");var srh=$(this).parent(".srh");if($(srh).hasClass("srh-open")){srh.removeClass("srh-open");inputBox.focusout()}else{srh.addClass("srh-open");inputBox.focus()}});$(".srh-inp").keydown(function(e){e.stopPropagation();var srh=$(this).parents(".srh:first");if(e.keyCode=="13"||e.keyCode=="9"){srh.removeClass("srh-open");$(this).focusout()}})}},Apz.prototype.initHorVerMenus=function(menuObj,dir,resp){var menuId=menuObj.id;var $menu=$(menuObj);$menu.find("a[rel]").each(function(){var childMenu=$(this).parent("li").next("ul");$(this).parent("li").next("ul").remove();if(!$menu.find(".allchildmenus").length>0){var divElm=document.createElement("div");$(divElm).attr("class","allchildmenus");$menu.append(divElm)}$(this).parents("#"+menuId+":first").find(".allchildmenus").append(childMenu)});ddlevelsmenu.menuclone[menuId]="";ddlevelsmenu.topitems[menuId]="";ddlevelsmenu.init(menuId,dir,resp);ddlevelsmenu.mql.addListener(function(){ddlevelsmenu.init(menuId,dir,ddlevelsmenu.mql.matches)})},Apz.prototype.handleContextMenu=function(id,event){if(id!=""){if(!this.isNull($("#"+id)[0])){var sldrHeight=0;var elm=$("#"+id);if($("#page-body").find(elm).length>0){parent=$("#page-body")}else{if($("#footer").find(elm).length>0){parent=$("#footer")}else{if($("#header").find(elm).length>0){parent=$("#header")}}}var hdrHeight=jQuery("#header").height();if(this.isNull(hdrHeight)){hdrHeight=0}if($("#sidebar").is(":visible")){var sldrHeight=jQuery("#sidebar").width();if(this.isNull(sldrHeight)){sldrHeight=0}}if(parent!=undefined){elm.css("top","auto");elm.css("right","auto");elm.css("bottom","auto");elm.css("left","auto");var parentHeight=parent.height();var parentWidth=parent.width();var posY=event.pageY-hdrHeight;var posX=event.pageX-sldrHeight;if(elm.outerHeight()>(parentHeight-posY)){elm.css("bottom",(parentHeight-posY)+"px")}else{elm.css("top",posY+"px")}if(elm.outerWidth()>(parentWidth-posX)){elm.css("right",(parentWidth-posX)+"px")}else{elm.css("left",posX+"px")}}}}},Apz.prototype.handleHeader=function(event){var divObj=document.getElementById("header");if(divObj){var nodes=divObj.getElementsByTagName("*");for(var k=0;k<nodes.length;k++){tagType=nodes[k].tagName.toLowerCase();if(tagType=="div"||tagType=="ul"||tagType=="li"){event.stopPropagation()}}}},Apz.prototype.handleCalendar=function(){this.dateformat=this.handleDateFormat();this.datetimeformat=this.handleDateTimeFormat();this.timeformat=this.handleTimeFormat()},Apz.prototype.handleDateFormat=function(){var userfrmt=this.dateFormat;userfrmt=userfrmt.toLowerCase();if(userfrmt.indexOf("yyyy")>-1){userfrmt=userfrmt.replace("yyyy","yy")}else{userfrmt=userfrmt.replace("yy","y")}userfrmt=userfrmt.replace("mmmm","MM");userfrmt=userfrmt.replace("mmm","M");if(userfrmt.indexOf("dddd")>-1){userfrmt=userfrmt.replace("dddd","DD")}else{if(userfrmt.indexOf("ddd")>-1){userfrmt=userfrmt.replace("ddd","D")}}return userfrmt},Apz.prototype.handleDateTimeFormat=function(){var userfrmt=this.dateTimeFormat;var str=[];var timeIndex=userfrmt.indexOf("h")>-1?userfrmt.indexOf("h"):userfrmt.indexOf("H");if(timeIndex>-1){str[0]=userfrmt.substring(0,timeIndex).trim();str[1]=userfrmt.substring(timeIndex).trim()}else{str[0]=userfrmt.trim();str[1]=""}str[0]=str[0].toLowerCase();if(str[0].indexOf("yyyy")>-1){str[0]=str[0].replace("yyyy","yy")}else{str[0]=str[0].replace("yy","y")}str[0]=str[0].replace("mmmm","MM");str[0]=str[0].replace("mmm","M");str[1]=str[1].replace("mm","ii");str[1]=str[1].replace("m","i");str[1]=str[1].replace("tt","A");userfrmt=str[0].concat("  ");userfrmt=userfrmt.concat(str[1]);userfrmt=userfrmt.replace("tt","a");userfrmt=userfrmt.replace("t","a");userfrmt=userfrmt.replace("TT","A");userfrmt=userfrmt.replace("T","A");if(userfrmt.indexOf("dddd")>-1){userfrmt=userfrmt.replace("dddd","DD")}else{if(userfrmt.indexOf("ddd")>-1){userfrmt=userfrmt.replace("ddd","D")}}return userfrmt.trim()},Apz.prototype.handleTimeFormat=function(){var userfrmt=this.timeFormat;userfrmt=userfrmt.replace("mm","ii");userfrmt=userfrmt.replace("m","i");userfrmt=userfrmt.replace("tt","A");return userfrmt},Apz.prototype.initControls=function(proc){var noOfElms,elms;if(this.isNull(this.scrMetaData.uiInitsMap)){this.scrMetaData.uiInitsMap=[]}var inits=proc.uiInits;var scrName=this.childScr;if(inits!=undefined){elms=inits.tag;if(elms!=undefined){noOfElms=elms.length;for(var e=0;e<noOfElms;e++){var tagObj=elms[e];var uiObj=document.getElementById(tagObj[0]);if(uiObj){var id=this.getObjIdWORowNumber(uiObj);this.scrMetaData.uiInitsMap[id]=tagObj;this.initTags(tagObj[0],tagObj[1])}}}elms=inits.date;if(elms!=undefined){noOfElms=elms.length;for(var e=0;e<noOfElms;e++){var dateObj=elms[e];var uiObj=document.getElementById(dateObj[0]);if(uiObj){var params={};params.id=dateObj[0];params.dataType=dateObj[1];params.lookAndFeel=dateObj[2];params.parentDisplay=dateObj[3];params.style=dateObj[4];params.parentPreset=dateObj[5];params.parentMinDate=dateObj[6];params.parentMaxDate=dateObj[7];params.closeOnSel=dateObj[8];params.multiSel=dateObj[9];params.parentStartYear=dateObj[10];params.parentEndYear=dateObj[11];params.parentRangePick=dateObj[12];params.secInputId=dateObj[13];params.parentMultiInput=dateObj[14];params.dateType=dateObj[15];this.initDates(params);var id=this.getObjIdWORowNumber(uiObj);this.scrMetaData.uiInitsMap[id]=dateObj}}}elms=inits.dropDown;if(elms!=undefined){noOfElms=elms.length;for(var e=0;e<noOfElms;e++){var dropdownObj=elms[e];var uiObj=document.getElementById(dropdownObj[0]);if(uiObj){this.initDropdowns(dropdownObj);var id=this.getObjIdWORowNumber(uiObj);this.scrMetaData.uiInitsMap[id]=dropdownObj}}}elms=inits.checkBox;if(elms!=undefined){noOfElms=elms.length;for(var e=0;e<noOfElms;e++){var checkboxObj=elms[e];var uiObj=document.getElementById(checkboxObj[0]);if(uiObj){this.initCheckboxs(checkboxObj[0],checkboxObj[1]);var id=this.getObjIdWORowNumber(uiObj);this.scrMetaData.uiInitsMap[id]=checkboxObj}}}elms=inits.contextMenu;if(elms!=undefined){noOfElms=elms.length;for(var e=0;e<noOfElms;e++){var contextmenuObj=elms[e];var uiObj=document.getElementById(contextmenuObj[0]);if(uiObj){this.initContextMenu(contextmenuObj[0],contextmenuObj[1]);var id=this.getObjIdWORowNumber(uiObj);this.scrMetaData.uiInitsMap[id]=contextmenuObj}}}elms=inits.dropdownWithInput;if(elms!=undefined){noOfElms=elms.length;for(var e=0;e<noOfElms;e++){var dropdownObj=elms[e];var uiObj=document.getElementById(dropdownObj[0]);if(uiObj&&$("#"+dropdownObj[0]+"_ext").find(".dropdown-list").length!=0){var dropdownListId=$("#"+dropdownObj[0]+"_ext").find(".dropdown-list")[0].id;this.initDropdownWithInput(dropdownObj[0],dropdownListId);var id=this.getObjIdWORowNumber($("#"+dropdownObj[0])[0]);this.scrMetaData.uiInitsMap[id]=dropdownObj}else{this.initNativeDropdownWithInput(dropdownObj[0]);var id=this.getObjIdWORowNumber($("#"+dropdownObj[0])[0]);this.scrMetaData.uiInitsMap[id]=dropdownObj}}}elms=inits.popover;if(elms!=undefined){noOfElms=elms.length;for(var e=0;e<noOfElms;e++){var popoverObj=elms[e];var uiObj=document.getElementById(popoverObj[0]);if(uiObj){var params={};params.elmId=popoverObj[0];params.targetId=popoverObj[1];params.position=popoverObj[3];this.initPopover(params);var id=this.getObjIdWORowNumber(uiObj);if(this.isNull(this.scrMetaData.uiInitsMap.popover)){this.scrMetaData.uiInitsMap.popover=[]}this.scrMetaData.uiInitsMap.popover[id]=popoverObj;if(this.isNull(this.scrMetaData.elmsMap[id].popoverid)){this.scrMetaData.elmsMap[id].popoverid=popoverObj[1]}}}}elms=inits.inlineeditable;if(elms!=undefined){noOfElms=elms.length;for(var e=0;e<noOfElms;e++){var inlineEditObj=elms[e];var uiObj=document.getElementById(inlineEditObj[0]);if(uiObj){var params={};params.elmId=inlineEditObj[0];params.fieldType=inlineEditObj[1];if(inlineEditObj[1]=="DROPDOWN"){params.source=inlineEditObj[3]}this.initInlineEditable(params);var id=this.getObjIdWORowNumber(uiObj);this.scrMetaData.uiInitsMap[id]=inlineEditObj}}}}},Apz.prototype.initPopover=function(params){var apzObj=this;var popoverCls=$("#"+params.targetId).attr("class");var obj=$("#"+params.targetId)[0];var triggerEvent="click";if(!this.isNull(params.trigger)){triggerEvent=params.trigger}var position=params.position.toLowerCase();$("#"+params.elmId).popover({html:true,placement:position,content:obj,trigger:triggerEvent});$("#"+params.elmId).on("show.bs.popover",function(e){var popOverObj=$(this).data("bs.popover").tip();popOverObj.addClass(popoverCls);popOverObj.removeClass("sno");$("#"+params.targetId).removeClass();apzObj.initDataTables($("#"+params.targetId+" .responsive:visible"));apzObj.initFixedHeaderTables($("#"+params.targetId+" [id].fixedheader:visible"));if(apzObj.isFunction(apzObj.app.onPopoverOpen)){apzObj.app.onPopoverOpen(this,params.targetId,e)}});$("#"+params.elmId).on("hide.bs.popover",function(e){var popOverObj=$(this).data("bs.popover").tip();if(apzObj.isFunction(apzObj.app.onPopoverOpen)){apzObj.app.onPopoverOpen(this,params.targetId,e)}})},Apz.prototype.initDropdowns=function(dropdownObj){var obj=$("#"+dropdownObj[0])[0];var id=this.getObjIdWORowNumber(obj);var containerId=this.scrMetaData.elmsMap[id].container;var cntrData=this.scrMetaData.containersMap[containerId];if(!(cntrData.type=="FORM"&&cntrData.readOnly=="Y")){this.initDropDownObj(dropdownObj,obj)}},Apz.prototype.initDropDownObj=function(dropdownObj,obj){var variation=dropdownObj[6];if(variation==""||variation=="SIMPLE"||variation=="WITHICON"){this.dropdownApz(obj)}else{if(variation=="WITHSUBOPTIONS"){this.dropdownMultitiered(obj)}else{if(variation=="MULTISELECTCHECKBOX"){this.dropdownCheckbox(obj)}else{if(variation=="AUTOCOMPLETE"||variation=="MULTISELECTAUTOCOMPLETE"){this.dropdownAutocomplete(obj)}else{if(variation=="MULTISELECTTAGS"){this.dropdownTags(obj)}}}}}},Apz.prototype.initContextPopUp=function(elmId,targetId,position){},Apz.prototype.initContextMenu=function(contextId,targetId){var doubleClicked=false;var apzObj=this;if(contextId!=""&&$("#"+targetId).parent().hasClass("etb-ctmu")){$("#"+contextId).on("contextmenu",function(e){if($("#"+targetId).hasClass("context-open")){doubleClicked=true}else{doubleClicked=false}if(doubleClicked==false){e.preventDefault();var mousePos={};var menuPos={};var menuDim={};menuDim.x=$("#"+targetId).width();menuDim.y=$("#"+targetId).height();mousePos.x=e.pageX;mousePos.y=e.pageY;if(mousePos.x+menuDim.x>$(window).width()+$(window).scrollLeft()){menuPos.x=mousePos.x-menuDim.x}else{menuPos.x=mousePos.x}if(mousePos.y+menuDim.y>$(window).height()+$(window).scrollTop()){menuPos.y=mousePos.y-menuDim.y}else{menuPos.y=mousePos.y}$("#"+targetId).css("left",menuPos.x);$("#"+targetId).css("top",menuPos.y);$("#"+targetId).fadeIn(500,apzObj.focusContextOut(contextId,targetId));$("#"+targetId).addClass("context-open")}else{e.preventDefault();$("#"+targetId).fadeOut(500);$("#"+targetId).removeClass("context-open")}$(".context-open").not($("#"+targetId)).each(function(){$(this).removeClass("context-open")})})}},Apz.prototype.focusContextOut=function(contextId,targetId){$("#"+contextId).on("click.apzevent",function(){$("#"+targetId).fadeOut(500);$("#"+contextId).off("click.apzevent");$("#"+targetId).removeClass("context-open")})},Apz.prototype.initTags=function(id,parentPlaceholder){var tagName=document.getElementById(id).tagName;if(id!=""&&tagName!="DD"){var existingdiv=$("#"+id).next();var objPlaceholder="add a tag";if(!this.isNull(parentPlaceholder)){objPlaceholder=parentPlaceholder}var interact=true;$("#"+id).attr("apztype","tags");if(!this.isNull($("#"+id).attr("readonly"))||!this.isNull($("#"+id).attr("disabled"))){interact=false}var obj={defaultText:objPlaceholder,interactive:interact};if(!existingdiv.hasClass("tagsinput")){$("#"+id).tagsInput(obj)}else{existingdiv.remove();$("#"+id).tagsInput(obj)}tagClass=$("#"+id).attr("class");$("#"+id+"_tag").addClass("tagsinput "+tagClass);tagTitle=$("#"+id).attr("title");$("#"+id+"_tag").attr("title",tagTitle)}},Apz.prototype.initMobiscrollDropdowns=function(id,autoComp,style,parentDisplay,closeOnSel,multisel,parentGroup){if(id!=""){var existingelem=$("#"+id).prev();if(existingelem.prop("tagName")=="INPUT"){existingelem.remove()}if(autoComp=="Y"){var params={};params.id=id;params.style=style;params.parentDisplay=display;this.autocomplete(params)}else{var obj={theme:style.toLowerCase(),display:parentDisplay.toLowerCase(),mode:parentMode.toLowerCase(),closeOnSelect:closeOnSel=="Y"?true:false,multiSelect:multisel=="Y"?true:false,group:parentGroup=="Y"?true:false};$("#"+id).mobiscroll().select(obj)}var atrribStatus=$("#"+id).attr("disabled");if(typeof atrribStatus!==typeof undefined&&atrribStatus!==false){if($("#"+id+"_dummy").length){$("#"+id+"_dummy").attr("disabled","disabled")}}else{if($("#"+id+"_dummy").length){$("#"+id+"_dummy").removeAttr("disabled","disabled");$("#"+id+"_dummy").removeAttr("enabled","enabled")}}}},Apz.prototype.autocomplete=function(params){var debounce,optionscontent,filtered,options=[],query="";if(params.id!=""){allOptions=$("#"+params.id).children();for(i=0;i<allOptions.length;i++){options[i]={description:allOptions[i].innerHTML,value:allOptions[i].value}}optionscontent=$.map(options,function(val,i){return{text:'<div class="selectoption" data-code="'+val.value+'"><div class="selectoption-name">'+val.description+"</div></div>",value:val.value}});filtered=optionscontent;$("#"+params.id).mobiscroll().select({theme:params.style.toLowerCase(),data:filtered,display:params.parentDisplay.toLowerCase(),layout:"fixed",showLabel:false,height:50,onMarkupReady:function(markup,inst){markup.addClass("selectoptions");$('<div style="padding:.5em"><input id="'+params.id+'_filter" class="md-filter-input" tabindex="0"placeholder="Type to filter..."/></div>').prependTo($(".dwcc",markup)).on("keydown",function(e){e.stopPropagation()}).on("keyup",function(e){var that=$("input",this);clearTimeout(debounce);debounce=setTimeout(function(){query=that.val();filtered=$.grep(optionscontent,function(val){return(val.text+", "+val.value).match(new RegExp(query,"ig"))});inst.settings.data=filtered.length?filtered:[{text:"No results",value:""}];inst.settings.parseValue(inst.settings.data[0].value);inst.refresh()},500)})},onBeforeShow:function(inst){inst.settings.data=optionscontent;inst.refresh()},onSelect:function(v,inst){$("#"+params.id+"_dummy").val($(v).find(".selectoption-name").text())},onValueTap:function(item,inst){var text=item.find(".selectoption-name").text();$("#"+id+"_filter").val(text)},onInit:function(){var v=$("#"+params.id+"_dummy").val();$("#"+params.id+"_dummy").val($(v).find(".selectoption-name").text())}})}},Apz.prototype.initCheckboxs=function(id,indeterminval){if(id!=""){$("#"+id).prop("indeterminate",true)}},Apz.prototype.initInlineEditable=function(params){var obj=$("#"+params.elmId)[0];var editableType="",editFieldClasses="",source="";if(params.fieldType=="DROPDOWN"){editableType="select";editFieldClasses="ett-slcn etb-slcn pri"}else{if(params.fieldType=="INPUTBOX"){$(obj).hasClass("form-control--datepicker")?editableType="date":editableType="text";if($(obj).hasClass("mbsc-comp")&&!this.isNull($(obj).attr("value"))){$(obj).attr("value",$(obj).attr("value"))}editFieldClasses="ett-inpt pri"}else{if(params.fieldType=="TEXTAREA"){editableType="textarea";editFieldClasses="ett-texa pri"}}}var editObj={};editObj.type=editableType;editObj.showbuttons=false;editObj.inputclass=editFieldClasses;editObj.emptytext="";if(params.fieldType=="TEXTAREA"){editObj.rows=2}else{if(params.fieldType=="DROPDOWN"){editObj.source=params.source;editObj.tpl='<select onchange="apz.onDpDwnChg(this)"></select>'}}editObj.value=obj.getAttribute("value");if($(obj).hasClass("form-control--datepicker")){if(!this.isNull(editObj.value)){editObj.value=Date.parseExact(encodeURIComponent(editObj.value),encodeURIComponent(this.dateFormat))}editObj.format=this.dateformat;editObj.datepicker={onSelect:function(v,inst){$(this).closest("form").submit()}}}editObj.unsavedclass=null;$(obj).editable(editObj);$(obj).on("shown",function(){$(".editable-input").find("input").blur(function(){if(!$(this).hasClass("hasDatepicker")){var anchorObj=$(this).parents("span .editable-container").siblings("a");$(this).closest("form").submit();if(!apz.isNull(anchorObj.attr("onblur"))){anchorObj.trigger("blur")}}});$(".editable-input").find("textarea").blur(function(){$(this).closest("form").submit()})})},Apz.prototype.initDates=function(params){var obj=$("#"+params.id)[0];var actId=this.getObjIdWORowNumber(obj);if(this.isNull(this.scrMetaData.elmsMap[actId].dataType)){this.scrMetaData.elmsMap[actId].dataType=params.dataType}if(params.dateType=="JQUERY"){this.initJqueryDates(params)}else{if(params.dateType!="OSSPECIFIC"){this.initAppzillonDates(params)}}},Apz.prototype.initAppzillonDates=function(params){var lcontrols=new Array();var objDateFormat=this.dateformat;var objTimeFormat=this.timeformat;var initid=params.id;var currDateObj=document.getElementById(initid);var $el=$(currDateObj);if(currDateObj.tagName=="A"&&!this.isNull($el.attr("value"))){$el.val($el.attr("value"))}if(params.dataType=="DATETIME"){var datetimeform=this.datetimeformat;var timeformstart=datetimeform.indexOf("h")>-1?datetimeform.indexOf("h"):datetimeform.indexOf("H");if(timeformstart!=-1){objDateFormat=datetimeform.substr(0,(timeformstart-1));objTimeFormat=datetimeform.substr(timeformstart)}else{objDateFormat=datetimeform;objTimeFormat=""}}var present=new Date();var previous=new Date((present.getFullYear()-1),present.getMonth(),present.getDate());var next=new Date((present.getFullYear()+1),present.getMonth(),present.getDate());var objMinDate=undefined;var todaysDate=present.getDate();var todaysMonth=present.getMonth();if(params.parentMinDate=="TODAY"){objMinDate=new Date(present.getFullYear(),todaysMonth,todaysDate)}else{if(params.parentMinDate!=""){objMinDate=Date.parseExact(params.parentMinDate,this.dateFormat)}}var objMaxDate=undefined;if(params.parentMaxDate=="TODAY"){objMaxDate=new Date(present.getFullYear(),todaysMonth,todaysDate)}else{if(params.parentMaxDate!=""){objMaxDate=Date.parseExact(params.parentMaxDate,this.dateFormat)}}var objPreSet=params.parentPreset;var obj={theme:params.style.toLowerCase(),display:params.parentDisplay.toLowerCase(),setOnDayTap:params.closeOnSel=="Y"?true:false,min:objMinDate,max:objMaxDate,multiSelect:params.multiSel=="Y"?true:false,dateFormat:objDateFormat,timeFormat:objTimeFormat,showOnFocus:true,showOnTap:true,onSet:function(event,inst){if($(this).hasClass("editable editable-click")){$(this).text(event.valueText);$(this).val(event.valueText)}if(apz.isFunction(apz.app.postOnSet)){apz.app.postOnSet(event,inst)}}};if(params.parentStartYear!=""){obj.startYear=params.parentStartYear}if(params.parentEndYear!=""){obj.endYear=params.parentEndYear}var readonly=false;var disabled=false;var secinputreadonly=false;var secinputdisabled=false;var secondObj="";var secObjId=params.secInputId;if(secObjId!=""){if($el.attr("rowno")){secObjId=secObjId+"_"+$el.attr("rowno");secondObj=document.getElementById(secObjId)}else{secondObj=document.getElementById(secObjId)}}if(initid!=""){if(this.ranges.indexOf(initid)<0){readonly=$el[0].readOnly;disabled=$el[0].disabled;if((params.dataType=="DATE"||params.dataType=="DATETIME")&&(params.parentPreset=="CALENDAR"||params.parentPreset=="DATE"||params.parentPreset=="CALENDAR_DATE"||params.parentPreset=="CALENDAR_DATETIME"||params.parentPreset=="CALENDAR_TIME")){if(params.parentPreset=="CALENDAR"){lcontrols=["calendar"]}else{if(params.parentPreset=="DATE"){lcontrols=["date"]}else{if(params.parentPreset=="CALENDAR_DATE"){lcontrols=["calendar","date"]}else{if(params.parentPreset=="CALENDAR_DATETIME"){lcontrols=["calendar","date","time"]}else{if(params.parentPreset=="CALENDAR_TIME"){lcontrols=["calendar","time"]}}}}}objPreSet="calendar";if(params.parentRangePick=="Y"){if(params.parentMultiInput=="Y"&&secondObj!=undefined){if($.mobiscroll.instances[secObjId]!=undefined){$(secondObj).mobiscroll("destroy")}secinputreadonly=secondObj.readOnly;secinputdisabled=secondObj.disabled;$el.mobiscroll().range($.extend(obj,{preset:objPreSet,endInput:"#"+secObjId,controls:lcontrols})).off(".dw").prop("readonly",false);$(secondObj).off(".dw").prop("readonly",false);this.ranges.push(secObjId);this.rangesmap[secObjId]=params.id}else{$el.mobiscroll().range($.extend(obj,{preset:objPreSet,controls:lcontrols})).off(".dw").prop("readonly",false)}}else{$el.mobiscroll($.extend(obj,{preset:objPreSet,controls:lcontrols})).off(".dw").prop("readonly",false)}}else{if(params.dataType=="DATETIME"&&params.parentPreset=="DATETIME"){if(params.parentRangePick=="Y"){if(params.parentMultiInput=="Y"&&secondObj!=undefined){if($.mobiscroll.instances[secObjId]!=undefined){$(secondObj).mobiscroll("destroy")}secinputreadonly=secondObj.readOnly;secinputdisabled=secondObj.disabled;$el.mobiscroll().range($.extend(obj,{endInput:"#"+secObjId,controls:["date","time"]})).off(".dw").prop("readonly",false);$(secondObj).off(".dw").prop("readonly",false);this.ranges.push(secObjId);this.rangesmap[secObjId]=params.id}else{$el.mobiscroll().range($.extend(obj,{controls:["date","time"]})).off(".dw").prop("readonly",false)}}else{$el.mobiscroll().datetime(obj).off(".dw").prop("readonly",false)}}else{if(params.dataType=="TIME"){if(params.parentRangePick=="Y"){if(params.parentMultiInput=="Y"&&secondObj!=undefined){if($.mobiscroll.instances[secObjId]!=undefined){$(secondObj).mobiscroll("destroy")}secinputreadonly=secondObj.readOnly;secinputdisabled=secondObj.disabled;$el.mobiscroll().range({theme:params.style.toLowerCase(),endInput:"#"+secObjId,display:params.parentDisplay.toLowerCase(),controls:["time"],timeFormat:objTimeFormat,mode:parentMode.toLowerCase()}).prop("readonly",false);$(secondObj).prop("readonly",false);this.ranges.push(secObjId);this.rangesmap[secObjId]=params.id}else{$el.mobiscroll().range({theme:params.style.toLowerCase(),display:params.parentDisplay.toLowerCase(),controls:["time"],timeFormat:objTimeFormat,mode:parentMode.toLowerCase()}).prop("readonly",false)}}else{$el.mobiscroll().time({theme:params.style.toLowerCase(),display:params.parentDisplay.toLowerCase(),timeFormat:objTimeFormat,mode:parentMode.toLowerCase()}).prop("readonly",false)}}else{if(params.parentRangePick=="Y"){if(params.parentMultiInput=="Y"&&secondObj!=undefined){if($.mobiscroll.instances[secObjId]!=undefined){$(secondObj).mobiscroll("destroy")}secinputreadonly=secondObj.readOnly;secinputdisabled=secondObj.disabled;$el.mobiscroll().range($.extend(obj,{endInput:"#"+secObjId,preset:params.parentPreset})).off(".dw").prop("readonly",false);$(secondObj).off(".dw").prop("readonly",false);this.ranges.push(secObjId);this.rangesmap[secObjId]=params.id}else{$el.mobiscroll().range($.extend(obj,{preset:params.parentPreset})).off(".dw").prop("readonly",false)}}else{$el.mobiscroll($.extend(obj,{preset:params.parentPreset})).off(".dw").prop("readonly",false)}}}}if(readonly){$el[0].readOnly=true}else{if(disabled){$el[0].disabled=true}}if(secinputreadonly){secondObj.readOnly=true}else{if(secinputdisabled){secondObj.disabled=true}}}}},Apz.prototype.initJqueryDates=function(param){var params={dateFormat:this.dateformat,firstDay:1,showOtherMonths:true,selectOtherMonths:true,minDate:Date.parseExact(param.parentMinDate,this.dateFormat),maxDate:Date.parseExact(param.parentMaxDate,this.dateFormat),changeMonth:true,changeYear:true};if(param.secInputId!==""&&$("#"+param.id).attr("firstinputid")==undefined){document.getElementById(param.id).setAttribute("secondinputid",param.secInputId);document.getElementById(param.secInputId).setAttribute("firstinputid",param.id)}if(param.parentRangePick=="Y"&&param.parentMultiInput=="N"){var previousDate="",fromDate="",toDate="",dateSelected="";params.beforeShow=function(inputDate){previousDate=this.value.split(" ");fromDate=new Date(previousDate[0]);toDate=new Date(previousDate[2])};params.beforeShowDay=function(date1){if(dateSelected==""){if(date1>=fromDate&&date1<=toDate){return[true,"actdate"]}}return[true,""]};params.onSelect=function(selectedDate){dateSelected=selectedDate;if(!$(this).data().datepicker.first){$(this).data().datepicker.inline=true;$(this).data().datepicker.first=selectedDate}else{if(selectedDate>$(this).data().datepicker.first){$(this).val($(this).data().datepicker.first+" - "+selectedDate)}else{$(this).val(selectedDate+" - "+$(this).data().datepicker.first)}$(this).data().datepicker.inline=false}$(".activeDates").removeClass("activeDates")};params.onClose=function(){delete $(this).data().datepicker.first;$(this).data().datepicker.inline=false;dateSelected=""}}else{if(param.eventCalender=="Y"){params.beforeShowDay=enableDays}else{if(param.parentRangePick=="Y"&&(param.parentMultiInput=="Y"&&($("#"+param.id).attr("firstinputid")!==undefined||$("#"+param.id).attr("secondinputid")!==undefined))){var dateSelected="";params.onSelect=function(selectedDate){dateSelected=selectedDate};params.onClose=function(){if(document.getElementById(param.id).hasAttribute("secondinputid")){$("#"+param.secInputId).datepicker("option","minDate",dateSelected)}else{var firstId=document.getElementById(param.id).getAttribute("firstinputid");$("#"+firstId).datepicker("option","maxDate",dateSelected)}}}}}if($("#"+param.id).hasClass("hasDatepicker")){$("#"+param.id).removeClass("hasDatepicker")}$("#"+param.id).datepicker(params)},Apz.prototype.showCalendar=function(elmId,dataType,rangePicker,multiInput,secInputId){if($("#"+elmId).hasClass("hasDatepicker")){$("#"+elmId).trigger("focus")}else{if($("#"+elmId)[0].tagName=="A"&&$("#"+elmId).hasClass("form-control--datepicker")){event.stopPropagation();$("#"+elmId).editable("toggle")}else{if(elmId!=""){if(($("#"+elmId).attr("disabled")==undefined)&&($("#"+elmId).attr("readonly")==undefined)){var objVal=$("#"+elmId).val();var origId=elmId;var objFunction="setDate",functionParam=objVal;var secondIdVal="",ranges,objFormat=this.dateformat;if(dataType=="DATETIME"){objFormat=this.datetimeformat}else{if(dataType=="TIME"){objFormat=this.timeformat}}if(rangePicker=="Y"){var date1,date2;objFunction="setValue";if(multiInput=="Y"&&secInputId!=""){secondIdVal=$("#"+secInputId).val();date1=mobiscroll.util.datetime.parseDate(objFormat,objVal);date2=mobiscroll.util.datetime.parseDate(objFormat,secondIdVal);if(date1!=null&&date2!=null){functionParam=[date1,date2]}else{functionParam=objVal==""?new Date():mobiscroll.util.datetime.parseDate(objFormat,objVal)}}else{ranges=objVal.split(" - ");if(ranges.length>1){date1=mobiscroll.util.datetime.parseDate(objFormat,ranges[0]);date2=mobiscroll.util.datetime.parseDate(objFormat,ranges[1]);functionParam=[date1,date2]}else{functionParam=objVal==""?new Date():mobiscroll.util.datetime.parseDate(objFormat,objVal)}}}else{if(this.ranges.indexOf(elmId)>=0){var date1,date2;objFunction="setValue";var lfirstdateid=this.rangesmap[origId];elmId=lfirstdateid;if(lfirstdateid){lfirstdateval=$("#"+lfirstdateid).val()}date1=mobiscroll.util.datetime.parseDate(objFormat,lfirstdateval);date2=mobiscroll.util.datetime.parseDate(objFormat,objVal);if(date1!=null&&date2!=null){functionParam=[date1,date2]}}else{functionParam=objVal==""?new Date():mobiscroll.util.datetime.parseDate(objFormat,objVal)}}if(functionParam!=""){$("#"+elmId).mobiscroll(objFunction,functionParam);$("#"+elmId).mobiscroll("show")}}}}}},Apz.prototype.initRow=function(tableId,pobj,rowNo){var containerData=this.scrMetaData.containersMap[tableId];var noOfElms=containerData.elms.length;var noOfRows=rowNo?rowNo:containerData.pageRows;for(var c=0;c<noOfElms;c++){var currElm=containerData.elms[c];var currRecHtmlId=currElm.id+"_"+(noOfRows-1);var mainRowObj=this.scrMetaData.uiInitsMap[currElm.id];var args={};if(mainRowObj&&mainRowObj[2]=="inlineeditable"){args.elmId=currRecHtmlId;args.fieldType=mainRowObj[1];if(currElm.type=="DROPDOWN"){args.source=mainRowObj[3]}this.initInlineEditable(args)}var popoverId=this.scrMetaData.elmsMap[currElm.id].popoverid;if(currElm.type=="INPUTBOX"||currElm.type=="INPUTWITHBUTTON"){if((currElm.dataType=="DATE"||currElm.dataType=="DATETIME"||currElm.dataType=="TIME")&&!(mainRowObj&&mainRowObj[2]=="inlineeditable")){var params={};params.id=currRecHtmlId;params.dataType=mainRowObj[1];params.lookAndFeel=mainRowObj[2];params.parentDisplay=mainRowObj[3];params.style=mainRowObj[4];params.parentPreset=mainRowObj[5];params.parentMinDate=mainRowObj[6];params.parentMaxDate=mainRowObj[7];params.closeOnSel=mainRowObj[8];params.multiSel=mainRowObj[9];params.parentStartYear=mainRowObj[10];params.parentEndYear=mainRowObj[11];params.parentRangePick=mainRowObj[12];params.secInputId=mainRowObj[13];params.parentMultiInput=mainRowObj[14];params.dateType=mainRowObj[15];this.initDates(params)}}else{if(currElm.type=="DROPDOWN"){mainRowObj[0]=currRecHtmlId;if(mainRowObj[2]!=="inlineeditable"){if(mainRowObj[6]=="AUTOCOMPLETE"||mainRowObj[6]=="MULTISELECTAUTOCOMPLETE"||mainRowObj[6]=="MULTISELECTTAGS"){$("#"+currRecHtmlId).siblings("span").remove()}this.initDropdowns(mainRowObj)}}else{if(currElm.type=="DROPDOWNWITHINPUT"){mainRowObj[0]=currRecHtmlId;if($("#"+mainRowObj[0]+"_ext").find(".dropdown-list").length!=0){var dropdownListId=$("#"+mainRowObj[0]+"_ext").find(".dropdown-list")[0].id;this.initDropdownWithInput(mainRowObj[0],dropdownListId)}else{this.initNativeDropdownWithInput(mainRowObj[0])}this.initDropdowns(mainRowObj)}else{if(currElm.type=="TAGS"){this.initTags(currRecHtmlId,mainRowObj[1])}}}}if(!this.isNull(popoverId)){var params={};var popoverObj=this.scrMetaData.uiInitsMap.popover[currElm.id];params.elmId=currRecHtmlId;params.targetId=popoverObj[1];params.position=popoverObj[3];this.initPopover(params)}if(currRecHtmlId&&$("#"+currRecHtmlId).hasClass("tooltipcls")){var toolTipObj=$("#"+currRecHtmlId);toolTipObj.tooltip({align:"top"});toolTipObj.keydown(function(){$(".tooltip-inner").parent(".tooltip").fadeOut(3000)});toolTipObj.click(function(){$(".tooltip-inner").parent(".tooltip").fadeOut(0)})}}},Apz.prototype.handleCarousels=function(slides,index){var tagType="";var carDivLength=slides.length;for(var i=0;i<carDivLength;i++){var currDiv=slides[i];var lnodes=currDiv.getElementsByTagName("*");for(var k=0;k<lnodes.length;k++){tagType=lnodes[k].tagName.toLowerCase();if(tagType=="input"||tagType=="select"||tagType=="textarea"||tagType=="span"||tagType=="a"){if(index==i){$(lnodes[k]).css("visibility","visible")}else{$(lnodes[k]).css("visibility","hidden")}}}}},Apz.prototype.initSidebarState=function(){var $rolepage=$(".rolepage");var sideBar=document.getElementById("sidebar");$($rolepage).removeClass("apz-nav-push apz-nav-stay-left apz-nav-stay-right");if(!this.isNull(sideBar)){var $sideBar=$(sideBar);if($sideBar.hasClass("apz-nav-open")){if(($sideBar.attr("sidebartype")=="STATIC")){if($sideBar.hasClass("lft")){$($rolepage).addClass("apz-nav-push apz-nav-stay-left")}else{if($sideBar.hasClass("rht")){$($rolepage).addClass("apz-nav-push apz-nav-stay-right")}}}}}},Apz.prototype.toggleSidebar=function(obj){if(!$("#sidebar").hasClass("apz-nav-open")){this.openSidebar()}else{this.closeSidebar()}},Apz.prototype.openSidebar=function(){$("#sidebar").addClass("apz-nav-open");this.toggleSidebarRelatedContent();this.marginSetForSideBar()},Apz.prototype.closeSidebar=function(){$("#backdrop").removeClass("in");$("#sidebar").removeClass("apz-nav-open");this.toggleSidebarRelatedContent();this.marginSetForSideBar()},Apz.prototype.toggleSidebarRelatedContent=function(){var $sideBar=$("#sidebar");var $rolePage=$(".rolepage");var showBackdrop=document.getElementById("backdrop");if($sideBar.attr("sidebartype")=="STATIC"){if($sideBar.hasClass("lft")){$rolePage.toggleClass("apz-nav-push apz-nav-stay-left")}else{if($sideBar.hasClass("rht")){$rolePage.toggleClass("apz-nav-push apz-nav-stay-right")}}}if(!$rolePage.hasClass("apz-nav-push")&&$sideBar.hasClass("apz-nav-open")){$("#backdrop").addClass("in")}},Apz.prototype.marginSetForSideBar=function(){var hdrobj=jQuery(".pnt-head");var hdrheight=hdrobj.outerHeight();var ftrobj=jQuery(".pnt-foot");var ftrheight=ftrobj.outerHeight();var lmenuwidth=jQuery(".pnt-sdbr.lft").outerWidth();if(!hdrobj.hasClass("apz-nav-open")){jQuery(".pagebody").css("padding-top",0);jQuery(".pnt-sdbr.lft").css("top",0);jQuery(".pnt-sdbr.rht").css("top",0)}else{jQuery(".pagebody").css("padding-top",hdrheight);jQuery(".pnt-sdbr.lft").css("top",hdrheight);jQuery(".pnt-sdbr.rht").css("top",hdrheight)}if(!ftrobj.hasClass("apz-nav-open")){jQuery(".pagebody").css("padding-bottom",0);jQuery(".pnt-sdbr.lft").css("bottom",0);jQuery(".pnt-sdbr.rht").css("bottom",0)}else{jQuery(".pagebody").css("padding-bottom",ftrheight);jQuery(".pnt-sdbr.lft").css("bottom",ftrheight);jQuery(".pnt-sdbr.rht").css("bottom",ftrheight)}},Apz.prototype.fixSidebar=function(){},Apz.prototype.unFixSidebar=function(){},Apz.prototype.handleStepperclick=function(pobj){var inpVal=$(pobj).parent().siblings().find("input").val();var step=$(pobj).parent().siblings().find("input").attr("step");var maxVal=$(pobj).parent().siblings().find("input").attr("max");var minVal=$(pobj).parent().siblings().find("input").attr("min");var minusObj=$(pobj).parent().parent().children("li:first").children("button");var plusObj=$(pobj).parent().parent().children("li:last").children("button");if(step==""||step==undefined){step=1}var val=0;if(!this.isNull(inpVal)){val=inpVal;if(!isNaN(inpVal)&&$.isNumeric(inpVal)){inpVal=parseFloat(inpVal);step=parseFloat(step);if($(pobj).hasClass("stpr-add")){if((inpVal+step)<=maxVal){if((inpVal+step)<minVal){val=minVal}else{val=(inpVal+step)}}}else{if((inpVal-step)>=minVal){if((inpVal-step)>maxVal){val=maxVal}else{val=(inpVal-step)}}}}else{alert("Please enter valid Number")}}else{val=minVal}if(val<=minVal){minusObj.attr("disabled","disabled");plusObj.removeAttr("disabled")}else{if(val>=maxVal){plusObj.attr("disabled","disabled");minusObj.removeAttr("disabled")}else{if(!isNaN(val)){minusObj.removeAttr("disabled");plusObj.removeAttr("disabled")}}}$(pobj).parent().siblings().find("input").val(val)},Apz.prototype.validateStepperVal=function(pobj){var inputVal=parseFloat(pobj.value);var minVal=parseFloat(pobj.getAttribute("min"));var maxVal=parseFloat(pobj.getAttribute("max"));var minusObj=$(pobj).parent().siblings("li:first").children("button");var plusObj=$(pobj).parent().siblings("li:last").children("button");if(inputVal<=minVal){pobj.value=minVal;minusObj.attr("disabled","disabled");plusObj.removeAttr("disabled")}else{if(inputVal>=maxVal){pobj.value=maxVal;plusObj.attr("disabled","disabled");minusObj.removeAttr("disabled")}else{if(isNaN(inputVal)){alert("Please enter valid Number")}else{plusObj.removeAttr("disabled");minusObj.removeAttr("disabled")}}}},Apz.prototype.initDropdownWithInput=function(dropdownId,dropdownListId){var apzObj=this;var obj=$("#"+dropdownId)[0];$(obj).parents("#"+obj.id+"_ext:first").off("click.apzevent").on("click.apzevent",function(e){if(!$(this).attr("disabled")){apzObj.dropdownToggle(obj)}});$(obj).off("keyup.apzevent").on("keyup.apzevent",function(e){if(!$(this).attr("disabled")&&e.which=="13"){apzObj.dropdownToggle(obj)}});$("#"+dropdownListId).children().children().off("click.apzevent").on("click.apzevent",function(){if($(this).val()!="default"){$("#"+dropdownId).parents("#"+dropdownId+"_ext").parent().siblings("li").find("input").val($(this).text())}else{$("#"+dropdownId).parents("#"+dropdownId+"_ext").parent().siblings("li").find("input").text("")}$(this).siblings().removeClass("is-selected");$(this).addClass("is-selected")})},Apz.prototype.initNativeDropdownWithInput=function(dropdownId){$("#"+dropdownId).on("change.apzevent",function(){if($(this).val()!="default"){$("#"+dropdownId).parent().siblings("li").children("input").val(this.options[this.selectedIndex].innerHTML)}else{$("#"+dropdownId).parent().siblings("li").children("input").val("")}})},Apz.prototype.sortAction=function(container,element,tblHdr){var sortType=false;var hdrElm=$(tblHdr);var spanCntnt=hdrElm.text();var sblngHdr=hdrElm.siblings("th").not(".dt-icon, .control");var i=0;var sortContainer=true;if(this.isFunction(this.app.presortAction)){sortContainer=this.app.presortAction(container,element)}if(sortContainer){if(hdrElm.hasClass("sorting_asc")){sortType=true;hdrElm.attr({"aria-label":spanCntnt+":activate to sort column ascending","aria-sort":"descending"});hdrElm.removeClass("sorting sorting_asc").addClass("sorting_desc")}else{hdrElm.attr({"aria-label":spanCntnt+":activate to sort column descending","aria-sort":"ascending"});hdrElm.removeClass("sorting sorting_desc").addClass("sorting_asc")}if($(sblngHdr[0]).children().find("input").hasClass("group-checkable")){i=1}for(i;i<sblngHdr.length;i++){var repCnt=$(sblngHdr[i]).text();$(sblngHdr[i]).attr("aria-label",repCnt).removeAttr("aria-sort").removeClass("sorting_asc sorting_desc").addClass("sorting")}var params={};params.container=container;params.element=element;params.sortType=sortType;this.sortRecords(params)}if(this.isFunction(this.app.postsortAction)){this.app.postsortAction(container,element)}},Apz.prototype.dropdownAutocomplete=function(obj){$(obj).select2({width:"100%"});$(obj).on("select2:open",function(){$(".select2-search--dropdown .select2-search__field").attr("placeholder","")});$(obj).on("select2:close",function(){$(obj).focus()})},Apz.prototype.dropdownCheckbox=function(obj){var drdnDivObj=$(obj).parents("#"+obj.id+"_ext:first");var apzObj=this;drdnDivObj.off("click.apzevent").on("click.apzevent",function(){if(!$(this).attr("disabled")){apzObj.dropdownToggle(obj)}});$(obj).off("keydown.apzevent").on("keydown.apzevent",function(e){if(!$(this).attr("disabled")&&(e.which=="13"||e.which=="32")){if(e.keyCode==32){e.preventDefault()}apzObj.dropdownToggle(obj)}});var val="";var setDropdownVal=function(curObj,event){event.preventDefault();if(event.keyCode==13||event.type=="change"){if(event.keyCode==13){curObj=$(curObj).find("input");if($(curObj).is(":checked")){$(curObj).prop("checked",false)}else{$(curObj).prop("checked",true)}}var txtbox=$(obj);var allVals=[];$(curObj).closest(".sub-ctr").find("li.is-selected").removeClass("is-selected");$(curObj).closest(".sub-ctr").find(":checked").each(function(){allVals.push($(this).next().text())});var allValsString=allVals.join(", ");txtbox.val(allValsString);if($(obj).attr("onchange")){$(obj).trigger("change")}event.stopPropagation()}else{apzObj.dropdownKeyAction(obj,curObj,event)}};drdnDivObj.find("li input").off("change.apzevent").on("change.apzevent",function(e){setDropdownVal(this,e)});var searchDrdn=function(curObj,event){var value=val;var proceed=true;var totalOpts=$(curObj).parent().children("li").length;var index=0;var getNextOpt=function(actObj,currOpt,nextOptObj,curValue){nextOpt=$(nextOptObj).next("li");if(nextOptObj.text().toUpperCase().indexOf(curValue)!=-1&&$(nextOptObj).text().toUpperCase().indexOf(curValue)=="0"){$(nextOptObj).parent().find(".hilt").removeClass("hilt");nextOptObj.addClass("hilt").focus();proceed=false}else{if($(nextOptObj).next("li").length==0&&index<totalOpts){nextOpt=$(nextOptObj).parent().children("li:first");index=index+1;getNextOpt(actObj,nextOptObj,nextOpt,curValue)}else{if(index<totalOpts){index=index+1;getNextOpt(actObj,nextOptObj,nextOpt,curValue)}}}};if(proceed){var nextOpt=$(curObj).next("li");if(nextOpt.length==0){nextOpt=$(curObj).parent().children("li:first")}getNextOpt(obj,curObj,nextOpt,value)}};var clear=false;drdnDivObj.find("li:not(.is-disabled)").off("keydown.apzevent").on("keydown.apzevent",function(e){if(/[a-zA-Z0-9]/.test(String.fromCharCode(e.keyCode))){if(!(val.length=="1"&&val==String.fromCharCode(e.keyCode))){val=val+String.fromCharCode(e.keyCode)}clearTimeout($.data(obj,"timer"));var wait=setTimeout(function(){clear=true;val=""},500);$(obj).data("timer",wait);console.log($(this).children().text()+"   "+val);if($(this).children().text().toUpperCase().indexOf(val)!=0||clear){clear=false;searchDrdn(this,e)}}else{setDropdownVal(this,e)}})},Apz.prototype.dropdownMultitiered=function(obj){var apzObj=this;var drdnDivObj=$(obj).parents("#"+obj.id+"_ext:first");drdnDivObj.off("click.apzevent").on("click.apzevent",function(){if(!$(this).attr("disabled")){apzObj.dropdownToggle(obj)}});$(obj).off("keydown.apzevent").on("keydown.apzevent",function(e){if(!$(this).attr("disabled")&&(e.which=="13"||e.which=="32")){if(e.keyCode==32){e.preventDefault()}apzObj.dropdownToggle(obj)}});var val="";var setDropdownVal=function(curObj,event){event.preventDefault();if(event.keyCode==13||event.type=="click"){if(!$(curObj).hasClass("is-selected")){var newtext=$(curObj).text();$(curObj).parents("div:first").find(".is-selected").removeClass("is-selected");$(curObj).addClass("is-selected");$(obj).val(newtext);if($.validator){$(curObj).find("input").valid()}apzObj.dropdownToggle(obj);if($(obj).attr("onchange")){$(obj).trigger("change")}event.stopPropagation()}else{apzObj.dropdownToggle(obj)}if($(".drdn-extspan").length==0){$(obj).focus()}}else{if((event.keyCode==39&&$(curObj).children("span").hasClass("is-expanded"))||(event.keyCode==37&&$(curObj).parent("ul")&&$(curObj).parent("ul").prev("li").children("span").hasClass("is-expanded"))){if(event.keyCode==39){if($(curObj).next("ul").length>0){$(curObj).removeClass("hilt");$(curObj).next("ul").children("li:first").addClass("hilt").focus()}}else{if($(curObj).parent("ul").length>0){$(curObj).removeClass("hilt");$(curObj).parent("ul").prev("li").addClass("hilt").focus()}}}else{apzObj.dropdownKeyAction(obj,curObj,event)}}};drdnDivObj.find("li:not(.is-disabled)").off("click.apzevent").on("click.apzevent",function(e){setDropdownVal(this,e)});drdnDivObj.find(".menu-expand").off("click.apzevent").on("click.apzevent",function(e){$(this).children("svg").remove();$(this).toggleClass("is-expanded").closest("li").next("ul").toggle();$(this).closest(".sub-ctr").find(".hilt").not(".is-selected").removeClass("hilt");$(this).parent("li").focus();e.stopPropagation()});drdnDivObj.find("li:not( .is-disabled ) .menu-expand").off("hover").hover(function(e){});var searchDrdn=function(curObj,event){var value=val;var proceed=true;var totalOpts=$(curObj).parent().children("li").length;var index=0;var getNextOpt=function(actObj,currOpt,nextOptObj,curValue){nextOpt=$(nextOptObj).next("li");if(nextOptObj.text().toUpperCase().indexOf(curValue)!=-1&&$(nextOptObj).text().toUpperCase().indexOf(curValue)=="0"){$(nextOptObj).closest(".sub-ctr").find(".is-selected").removeClass("is-selected");nextOptObj.addClass("is-selected hilt").focus();nextOptObj.siblings("li").removeClass("hilt");$(actObj).val(nextOptObj.text());proceed=false}else{if($(nextOptObj).next("li").length==0&&index<totalOpts){if($(nextOptObj).next().next("li").length!=0){nextOpt=$(nextOptObj).next().next("li")}else{nextOpt=$(nextOptObj).parent().children("li:first")}index=index+1;getNextOpt(actObj,nextOptObj,nextOpt,curValue)}else{if(index<totalOpts){index=index+1;getNextOpt(actObj,nextOptObj,nextOpt,curValue)}}}};if(proceed){var nextOpt=$(curObj).next("li");if(nextOpt.length==0){if($(curObj).next().next("li").length!=0){nextOpt=$(curObj).next().next("li")}else{nextOpt=$(curObj).parent().children("li:first")}}getNextOpt(obj,curObj,nextOpt,value)}};drdnDivObj.find("li:not(.is-disabled)").off("keydown.apzevent").on("keydown.apzevent",function(e){if(/[a-zA-Z0-9]/.test(String.fromCharCode(e.keyCode))){if(!(val.length=="1"&&val==String.fromCharCode(e.keyCode))){val=val+String.fromCharCode(e.keyCode)}clearTimeout($.data(obj,"timer"));var wait=setTimeout(function(){val=""},500);$(obj).data("timer",wait);searchDrdn(this,e)}else{setDropdownVal(this,e)}})},Apz.prototype.dropdownTags=function(obj,isSingleSelect){var param={};param.width="100%";if(isSingleSelect=="Y"){$(obj).on("select2:select",function(e){$("#"+e.currentTarget.id).find(".select2-search__field").trigger("click");var lValues=e.params.data.id;if($("#"+e.target.id).select2("data").length>1){$("#"+e.currentTarget.id+" .select2-selection__rendered li").each(function(){if($(this).attr("title")===lValues){$(this).find("span").trigger("click");return false}});$("select2-dropdown li").each(function(){if($(this).text()===lValues){$(this).attr("aria-selected","false");return false}});var len=apz.getElmValue(obj.id).split(",").length-1;if(len>-1){apz.setElmValue(obj.id,lValues)}}});$(obj).on("select2:unselect",function(e){var lValues=e.target.id;if($("#"+e.target.id).select2("data").length>1){$("#"+e.currentTarget.id+" .select2-selection__rendered li").each(function(){if($(this).attr("title")===lValues){$(this).find("span").trigger("click");return false}});$("select2-dropdown li").each(function(){if($(this).text()===lValues){$(this).attr("aria-selected","false");return false}})}})}$(obj).select2(param)},Apz.prototype.dropdownKeyAction=function(drdnObj,curObj,event){var apzObj=this;if(event.keyCode==40){var nextLi=$(curObj).next("li");var upNextLi=$(curObj).next().next("li");if(nextLi.length>0||upNextLi.length>0){if(nextLi.length>0){nextLi.focus().addClass("hilt")}else{if(upNextLi.length>0){upNextLi.focus().addClass("hilt")}}$(curObj).removeClass("hilt")}else{$(curObj).siblings("li:first").focus().addClass("hilt");$(curObj).removeClass("hilt")}}else{if(event.keyCode==38){var prevLi=$(curObj).prev("li");var preprevLi=$(curObj).prev().prev("li");if(prevLi.length>0||preprevLi.length>0){if(prevLi.length>0){prevLi.focus().addClass("hilt")}else{if(preprevLi.length>0){preprevLi.focus().addClass("hilt")}}$(curObj).removeClass("hilt")}else{$(curObj).siblings("li:last").focus().addClass("hilt");$(curObj).removeClass("hilt")}}else{if(event.keyCode==9||event.keyCode==27){if($(drdnObj).closest("#"+drdnObj.id+"_ext").hasClass("table-selectall")){apzObj.toggleFilterElements(drdnObj)}else{apzObj.dropdownToggle(drdnObj)}if($(".drdn-extspan").length==0){$(drdnObj).focus();event.preventDefault()}}}}},Apz.prototype.dropdownToggle=function(obj){var $obj=$(obj);var drdnDivObj=$obj.parents("#"+obj.id+"_ext:first");var iconObj=drdnDivObj.children("span");$(".drdn-open").not(drdnDivObj).each(function(){if($(this).hasClass("drdn-open")){iconObj=$(this).children("span");$(this).removeClass("is-open drdn-open");if($(".drdn-extspan").length>0){var dropDownObj=$(".drdn-extspan").children().attr("original-id")+"_ext";$("#"+$(".drdn-extspan").children().attr("original-id")+"_ext").append($(".drdn-extspan").children());apz.onDropDownClose(dropDownObj);$(".drdn-extspan").remove()}}});var disabled=document.getElementById(obj.id).hasAttribute("disabled");if(!disabled){drdnDivObj.toggleClass("is-open drdn-open");if(drdnDivObj.hasClass("drdn-open")){var cloneElm=document.createElement("span");var cloneClass=drdnDivObj.attr("class");$(cloneElm).addClass(cloneClass+" drdn-extspan");var cloneWidth=drdnDivObj.width();var cloneHt=drdnDivObj.find(".sub-ctr").height();$(cloneElm).append(drdnDivObj.find(".sub-ctr"));drdnDivObj.find(".sub-ctr").remove();var getDropdownPos=function(){var objOffset=$obj.offset();var clonePosTop=objOffset.top;if((objOffset.top+$obj.outerHeight()+cloneHt>$(window).innerHeight()+$(window).scrollTop())&&(objOffset.top>cloneHt)){clonePosTop=objOffset.top-cloneHt-10}else{clonePosTop=objOffset.top+$obj.outerHeight()+5}$(cloneElm).css({width:cloneWidth,position:"absolute",top:clonePosTop+"px",left:objOffset.left+"px"})};getDropdownPos();$("body").append(cloneElm);if($obj.scrollParent().hasClass("ftbl-bdy")){$obj.scrollParent().bind("mousewheel",function(){if($obj.parent().hasClass("is-open")){return false}else{return true}})}}else{drdnDivObj.append($(".drdn-extspan").children());$(".drdn-extspan").remove()}if($(".drdn-extspan").length>0){var extSpan=$(".drdn-extspan");extSpan.find(".sub-ctr li").removeClass("hilt");if(extSpan.find(".is-selected").length>0){extSpan.find(".is-selected").focus().addClass("hilt")}else{extSpan.find(".sub-ctr li:first").focus().addClass("hilt")}}}},Apz.prototype.dropdownApz=function(obj){var apzObj=this;var drdnDivObj=$(obj).parents("#"+obj.id+"_ext:first");drdnDivObj.off("click.apzevent").on("click.apzevent",function(e){$(this).data("prevVal",$(this).find("input").val());if(!$(this).attr("disabled")){apzObj.dropdownToggle(obj)}});$(obj).off("keydown.apzevent").on("keydown.apzevent",function(e){$(this).parents("#"+this.id+"_ext:first").data("prevVal",$(obj).val());if(!$(this).parents("#"+this.id+"_ext:first").attr("disabled")&&(e.which=="13"||e.which=="32")){if(e.keyCode==32){e.preventDefault()}apzObj.dropdownToggle(obj)}});var val="";var setDropdownVal=function(curObj,event){event.preventDefault();if(event.keyCode==13||event.type=="click"){if(!$(curObj).hasClass("is-selected")){var ddnId=curObj.id.split("_option")[0];ddnId=apz.getObjIdWORowNumber(document.getElementById(ddnId));var ddnObj=apz.scrMetaData.uiInitsMap[ddnId][6];$(curObj).siblings().removeClass("is-selected");$(curObj).addClass("is-selected");if(!apz.isNull(ddnObj)&&ddnObj=="WITHICON"){var newtext=$(curObj).html();$(obj).html(newtext)}else{var newtext=$(curObj).text();$(obj).val(newtext)}apzObj.dropdownToggle(obj);if($(obj).attr("onchange")){$(obj).trigger("change")}event.stopPropagation()}else{apzObj.dropdownToggle(obj)}if($(".drdn-extspan").length==0){$(obj).focus()}}else{apzObj.dropdownKeyAction(obj,curObj,event)}};drdnDivObj.find("li:not(.is-disabled)").off("click.apzevent").on("click.apzevent",function(e){setDropdownVal(this,e)});var searchDrdn=function(curObj,event){var value=val;var proceed=true;var totalOpts=$(curObj).parent().children("li").length;var index=0;var getNextOpt=function(actObj,currOpt,nextOptObj,curValue){nextOpt=$(nextOptObj).next("li");if(nextOptObj.text().toUpperCase().indexOf(curValue)!=-1&&$(nextOptObj).text().toUpperCase().indexOf(curValue)=="0"){$(nextOptObj).parent().find(".is-selected").removeClass("is-selected");nextOptObj.addClass("is-selected").focus();$(actObj).val(nextOptObj.text());proceed=false}else{if($(nextOptObj).next("li").length==0&&index<totalOpts){nextOpt=$(nextOptObj).parent().children("li:first");index=index+1;getNextOpt(actObj,nextOptObj,nextOpt,curValue)}else{if(index<totalOpts){index=index+1;getNextOpt(actObj,nextOptObj,nextOpt,curValue)}}}};if(proceed){var nextOpt=$(curObj).next("li");if(nextOpt.length==0){nextOpt=$(curObj).parent().children("li:first")}getNextOpt(obj,curObj,nextOpt,value)}};drdnDivObj.find("li:not(.is-disabled)").off("keydown.apzevent").on("keydown.apzevent",function(e){if(/[a-zA-Z0-9]/.test(String.fromCharCode(e.keyCode))){if(!(val.length=="1"&&val==String.fromCharCode(e.keyCode))){val=val+String.fromCharCode(e.keyCode)}clearTimeout($.data(obj,"timer"));var wait=setTimeout(function(){val=""},500);$(obj).data("timer",wait);searchDrdn(this,e)}else{setDropdownVal(this,e)}})},Apz.prototype.toggleModal=function(param){if(param.targetId){var $target=$("#"+param.targetId);var option={toggle:"modal"};option.target="#"+param.targetId;option.callBack=param.callBack;option.callBackObj=param.callBackObj;$.fn.modal.call($target,option);if($target.children(".modal-dialog").length>0){var apzObj=this;$target.children(".modal-backdrop").on("click",function(){apzObj.toggleModal(param)})}if($("#"+param.targetId).hasClass("in")){$("#"+param.targetId).attr("aria-hidden","false")}$("#"+param.targetId+"_close").focus();$(".modal-backdrop").attr("tabindex","0")}},Apz.prototype.openTab=function(elmId){this.tabAction($("#"+elmId+"_li"))},Apz.prototype.openOverlay=function(obj,targetId){var parentContObj=$(obj).parents(".crt-list:first");var parentContId=$(parentContObj).attr("id");var panelSecObj=$("#"+parentContId).parent();var panelSecId=$(panelSecObj).attr("id");$("#"+targetId).attr("targetoverlayid",parentContId);$(".height-transition").not($("height-transition-hidden")).siblings(".crt-list").find(".etb-slct").removeClass("is-open");$(".height-transition").not($("height-transition-hidden")).addClass("height-transition-hidden");if($(obj).hasClass("etb-slct")){if(!$(obj).hasClass("is-open")){var html=$("#"+targetId);$(panelSecObj).append(html)}$(obj).toggleClass("is-open")}else{if(!$($(obj).find(".overlaytoggleicon")).hasClass("is-opened")){var html=$("#"+targetId);$(panelSecObj).append(html)}}if($("#"+targetId).hasClass("height-transition-hidden")){$el=$("#"+targetId);$("#"+targetId).removeClass("sno height-transition-hidden");if($el.find(".srh-inp")){$el.find(".srh-inp").removeAttr("tabindex")}if(!$(obj).hasClass("etb-slct")){$(obj).find(".overlaytoggleicon").parent().addClass("is-opened")}var width=$($("#"+targetId).siblings(".crt-list")).width();$el.css("max-height","none");$el.css("border-width","1px");$el.css("border-style","solid");$el.css("width",width);this.setTableHeight(targetId,false);this.setTableHeight(targetId,true);this.initDataTables($("#"+targetId).find("table[id].responsive:visible"),false);var height="";if(!$el.data("overlayheight")){height=($el.children("ul.ttl").height()+$el.find(".tabl-ctr").height()).toString()+"px";$el.data("overlayheight",height)}else{height=$el.data("overlayheight")}$el.css("max-height","0");setTimeout(function(){$el.css({"max-height":height})},1)}},Apz.prototype.closeOverlay=function(obj,targetId,dataClicked){var parentContObj=$(obj).parents(".crt-list:first");var parentContId=$(parentContObj).attr("id");var panelSecObj=$("#"+parentContId).parent();var panelSecId=$(panelSecObj).attr("id");$("#"+targetId).attr("targetoverlayid",parentContId);if($(obj).hasClass("etb-slct")){$(obj).toggleClass("is-open")}if(dataClicked=="Y"){$("#"+parentContId).find(".etb-slct").addClass("sno");$("#"+parentContId).find(".etb-slct").siblings("li").removeClass("sno");$(obj).siblings("li").find(".overlaytoggleicon").parent().removeClass("is-opened")}if(!$("#"+targetId).hasClass("height-transition-hidden")){var $el=$("#"+targetId);if(!$(obj).hasClass("etb-slct")){$(obj).find(".overlaytoggleicon").parent().removeClass("is-opened")}$el.css("max-height","0");$el.css("border-width","0");$el.addClass("height-transition-hidden");if($el.find(".srh-inp")){$el.find(".srh-inp").attr("tabindex","-1")}}},Apz.prototype.toggleOverlay=function(obj,targetId,e){if(this.isNull(e)){var e={};e.type="click"}if(e.type=="click"||(e.type=="keyup"&&e.which=="13")){if(e.type=="keyup"&&e.which=="13"){obj=$(obj).parent()[0]}var proceed=true;var parentContId=$(obj).parents(".crt-list:first").attr("id");if(!this.isNull(parentContId)){if(this.isFunction(this.app["toggleOverlay_"+parentContId])){if(!this.isNull(parentContId)&&parentContId!=targetId){proceed=this.app["toggleOverlay_"+parentContId](parentContId,targetId)}}}if(proceed!=false){if($(obj).hasClass("etb-slct")){if($(obj).hasClass("is-open")){this.closeOverlay(obj,targetId,"")}else{this.openOverlay(obj,targetId)}}else{if($(obj).find(".overlaytoggleicon").parent().hasClass("is-opened")){this.closeOverlay(obj,targetId,"")}else{this.openOverlay(obj,targetId)}}}}},Apz.prototype.handleDisabled=function(event,obj){if($(obj).attr("disabled")!=undefined){event.preventDefault()}},Apz.prototype.slideDownTransition=function(obj){$obj=$(obj);var parentobject=$obj.parent();var grparent=parentobject.parent();var toggleObj=parentobject.find(".tls a");var $el=parentobject.children(".height-transition-hidden");var allAccordians=parentobject.siblings();if(parentobject.hasClass("acco")){allAccordians.find(".collapse").removeClass("collapse").addClass("expand");allAccordians.find(".height-transition").addClass("height-transition-hidden").removeClass("htou").attr("aria-hidden","true");allAccordians.find(".height-transition").addClass("sno");allAccordians.find("ul.ttl").attr({"aria-selected":"false","aria-expanded":"false"})}toggleObj.removeClass("expand").addClass("collapse");$el.removeClass("height-transition-hidden sno").addClass("htou").attr("aria-hidden","false");var height=$el.outerHeight();var height=$el.outerHeight();$el.css("max-height","1200px")},Apz.prototype.slideUpTransition=function(obj){var allAccordians;var parentobject=$(obj).parent();var grparent=$(parentobject).parent();var toggleObj=parentobject.find(".tls a");var $el=parentobject.children(".height-transition");allAccordians=parentobject.siblings();if(parentobject.hasClass("acco")){allAccordians.find(".collapse").removeClass("collapse").addClass("expand");allAccordians.find(".height-transition").addClass("height-transition-hidden").removeClass("htou").attr("aria-hidden","true");allAccordians.find(".height-transition").addClass("sno");allAccordians.find("ul.ttl").attr({"aria-selected":"false","aria-expanded":"false"})}$(toggleObj).removeClass("collapse").addClass("expand");$el.css("max-height","0");$el.addClass("height-transition-hidden").removeClass("htou").attr("aria-hidden","true")},Apz.prototype.toggleHeader=function(){$("#header").toggleClass("apz-nav-open");this.marginSetForSideBar()},Apz.prototype.toggleFooter=function(){$("#footer").toggleClass("apz-nav-open");this.marginSetForSideBar()},Apz.prototype.keyboardAction=function(e){if(this.isFunction(this.app.preKeyboardAction)){this.app.preKeyboardAction(e)}if($("#footer").attr("footertype")=="AUTOHIDE"){if(e.event=="show"){$("#footer").addClass("sno")}else{if(e.event=="hide"){$("#footer").removeClass("sno")}}this.marginSetForSideBar()}if($("#header").attr("headertype")=="AUTOHIDE"){if(e.event=="show"){$("#header").addClass("sno")}else{if(e.event=="hide"){$("#header").removeClass("sno")}}this.marginSetForSideBar()}if(this.isFunction(this.app.postKeyboardAction)){this.app.postKeyboardAction(e)}},Apz.prototype.setDraggable=function(params){var id=params.id;var callBack=params.callBack;var callBackObj=params.callBackObj;var firstObj={};var calssName="droppable_"+id;if(params.parentsId.length>0){for(var i=0;i<params.parentsId.length;i++){$(document.getElementById(params.parentsId[i])).addClass(calssName)}}var mainObj=$("."+calssName);$("#"+id).draggable({appendTo:"body",cursor:"move",helper:"clone",revert:"invalid",zIndex:1000,addClasses:true});mainObj.droppable({greedy:true,addClasses:false,tolerance:"pointer",hoverClass:"drophover",drop:function(event,ui){$(ui.draggable[0]).appendTo(this);callBack(ui.draggable[0],this);return true}})},Apz.prototype.initPaginationDropdown=function(){},Apz.prototype.initModalEvent=function(proc){$("#scr__"+proc.appId+"__"+proc.scr+"__main [role='dialog']").off("keydown.apzevent").on("keydown.apzevent",function(e){var focusElms=$(this).find(":focusable");var prevElm=document.activeElement;if(e.keyCode==9&&!e.shiftKey&&focusElms.index(prevElm)==focusElms.length-1){$(focusElms[0]).focus();e.preventDefault()}else{if(e.keyCode==9&&e.shiftKey&&focusElms.index(prevElm)==0){$(focusElms[focusElms.length-1]).focus();e.preventDefault()}}})},Apz.prototype.disableControls=function(params){var apzObj=this;var div="";if(this.isFunction(apz.app.preDisableContent)){apz.app.preDisableContent()}params.appId=params.appId||this.appId;if(!this.isNull(params.scr)){div="scr__"+params.appId+"__"+params.scr+"__main"}else{if(!this.isNull(params.div)){div=params.div}}if(div!==""&&!this.isNull(document.getElementById(div))){var $div=$(document.getElementById(div));$div.find("button").each(function(){apzObj.disableElement(this)});$div.find("input").each(function(){$(this).attr("disabled","disabled");if($(this).attr("apztype")=="tags"){apzObj.initTags(this.id);$(this).parents("div.ett-tags:first").addClass("dis")}});$div.find("div.etb-slct").each(function(){$(this).addClass("select-disabled");$(this).attr("disabled","disabled")});$div.find("div.ett-swch").each(function(){$(this).addClass("disabled")});$div.find("select.etb-slcn").each(function(){$(this).addClass("select-disabled");$(this).attr("disabled","disabled")});$div.find("a.ett-hypl").each(function(){apzObj.disableElement(this)});$div.find("a.filebox").each(function(){$(this).addClass("disabled");$(this).siblings("a").addClass("disabled")});$div.find("textarea").each(function(){apzObj.disableElement(this)})}if(this.isFunction(apz.app.postDisableContent)){apz.app.postDisableContent()}},Apz.prototype.disableElement=function(obj){if(!this.isNull(obj)){var tagName=obj.tagName;var $obj=$(obj);if(tagName=="BUTTON"){$obj.addClass("disabled");$obj.attr("disabled","disabled")}else{if(tagName=="DIV"){if($obj.hasClass("etb-slct")){$obj.addClass("select-disabled");$obj.attr("disabled","disabled")}else{if($obj.hasClass("ett-swch")){$obj.addClass("disabled")}}}else{if(tagName=="A"){if($obj.hasClass("ett-hypl")){$obj.attr("href","javascript:void(0)");$obj.attr("disabled","disabled");$obj.addClass("disabled")}}else{if(tagName=="SELECT"){if($obj.parent().hasClass("etb-slct")){$obj.parent().addClass("select-disabled");$obj.parent().attr("disabled","disabled")}else{$obj.addClass("select-disabled");$obj.attr("disabled","disabled")}}else{if(tagName=="TEXTAREA"){$obj.attr("disabled","disabled")}else{if(tagName=="SPAN"){if($obj.attr("apztype")=="radiogroup"){$obj.find("input").attr("disabled","disabled")}}else{if(tagName=="INPUT"){$obj.attr("disabled","disabled");$obj.addClass("disabled");if($obj.attr("apztype")=="tags"){apzObj.initTags(obj.id);$obj.parents("div.ett-tags:first").addClass("dis")}else{if($obj.attr("apztype")=="stepper"){var buttons=$obj.parents("ul:first").find("button");buttons.addClass("disabled");buttons.attr("disabled","disabled")}else{if($("#"+obj.id+"_button").length>0){$("#"+obj.id+"_button").addClass("disabled");$("#"+obj.id+"_button").attr("disabled","disabled")}else{if($obj.attr("type")=="file"){$obj.parent("a").addClass("disabled");$obj.parent("a").siblings("a").addClass("disabled")}else{if($obj.hasClass("sub-elt")){$obj.parent("div").addClass("select-disabled");$obj.attr("disabled","disabled")}}}}}}}}}}}}}},Apz.prototype.handleBtnSpinner=function(params){var proceed=true;var apzObj=this;if(apzObj.isFunction(apzObj.app.preHandleBtnSpinner)){proceed=apzObj.app.preHandleBtnSpinner(params)}if(proceed!=false){var $obj=$(params.obj);var objText=params.obj.innerHTML;$obj.text(params.text).addClass("btn-spn is-loading").attr("disabled","diasabled").append('<span class="loading1 loading1--sm" role="progressbar" aria-valuetext="Loading"></span>');setTimeout(function(){var stopSpinner=true;if(apzObj.isFunction(apzObj.app.preStopBtnSpinner)){stopSpinner=apzObj.app.preStopBtnSpinner(params.obj)}if(stopSpinner!=false){$obj.removeClass("btn-spn is-loading").removeAttr("disabled").find(".loading1").hide(1,function(){$(this).parent("button").text("").append(objText);$(this).remove()})}},parseInt(params.timeout))}if(apzObj.isFunction(apzObj.app.postHandleBtnSpinner)){apzObj.app.postHandleBtnSpinner(params)}},Apz.prototype.expandProgressiveDisclosure=function(obj,appendId,progDiscList){var id=obj.id;var map=apz.scrMetaData.elmsMap;var appCls="pri";var gparentObj=$(obj).parent().parent();var parObj=$(obj).parent();var appendObj=$("#"+appendId).removeClass("sno");var getAppearCls=function(appObj){if($(appObj).hasClass("sec")){appCls="sec"}else{if($(appObj).hasClass("ter")){appCls="ter"}}return appCls};if($(obj).attr("type")=="CHECKBOX"){if($(obj).is(":checked")){if(gparentObj.siblings(".vchek-cnt").length==0){var newDiv=document.createElement("div");appCls=getAppearCls(gparentObj);newDiv.className=("vchek-cnt "+appCls);$(newDiv).attr("id",id+"_pdiv");gparentObj.after(newDiv);gparentObj.siblings("div.vchek-cnt").append(appendObj)}else{gparentObj.siblings(".vchek-cnt").show()}}else{gparentObj.siblings("div.vchek-cnt").hide()}}else{if($(obj).attr("type")=="radio"){var elmId=gparentObj.attr("id");var indx=gparentObj.children("span").index(parObj);appendId=progDiscList[indx];appendObj=$("#"+appendId).removeClass("sno");var noOfElms=gparentObj.children("span").not("span.htx").length;if(gparentObj.hasClass("hor")){if(gparentObj.siblings("div").length!=noOfElms){appCls=getAppearCls(gparentObj);for(var a=noOfElms;a>0;a--){var newDiv=document.createElement("div");newDiv.className=("rdi-cnt "+appCls);$(newDiv).attr("id",elmId+"_pdiv_"+a);gparentObj.after(newDiv)}}var appendDiv=$(gparentObj).siblings("div.rdi-cnt")[indx];gparentObj.siblings("div").addClass("sno");$(appendDiv).removeClass("sno");$(appendDiv).append(appendObj)}else{if(parObj.siblings("div").length!=noOfElms){for(var a=noOfElms;a>0;a--){appCls=getAppearCls(gparentObj);var newDiv=document.createElement("div");newDiv.className=("vrad-cnt "+appCls);$(newDiv).attr("id",elmId+"_pdiv_"+a);$(gparentObj.children("span")[a-1]).after(newDiv)}}gparentObj.children("div").addClass("sno");parObj.next("div.vrad-cnt").append(appendObj).removeClass("sno")}}else{if(map[id].type=="DROPDOWN"){var noOfElms=parObj.children("span").not("span.htx").length;if(parObj.siblings("div").length!=noOfElms){for(var a=noOfElms;a>0;a--){var newDiv=document.createElement("div");$(newDiv).attr("id",id+"_pdiv_"+a);parObj.after(newDiv)}}var appendDiv=parObj.siblings("div");parObj.siblings("div").addClass("sno");$(appendDiv).removeClass("sno");$(appendDiv).append(appendObj)}}}},Apz.prototype.initializeFileDropZone=function(params){var myObj=this;document.getElementById(params.id).addEventListener("drop",function(event){myObj.handleFileDrop(event)});document.getElementById(params.id).addEventListener("dragover",function(event){myObj.handleDragOver(event)});document.getElementById(params.id).addEventListener("dragleave",function(event){myObj.handleDragLeave(event)})},Apz.prototype.handleFileDrop=function(event){event.preventDefault();var handleFileDrop=true;if(this.isFunction(this.app.prehandleFileDrop)){handleFileDrop=this.app.prehandleFileDrop(event)}if(handleFileDrop){if(this.isNull(this.fileDropArray)){this.fileDropArray=[]}if(event.dataTransfer.items){for(var i=0;i<event.dataTransfer.items.length;i++){if(event.dataTransfer.items[i].kind==="file"){var file=event.dataTransfer.items[i].getAsFile();this.fileDropArray.push(file)}}}else{for(var i=0;i<event.dataTransfer.files.length;i++){this.fileDropArray.push(event.dataTransfer.files[i])}}if(event.dataTransfer.items){event.dataTransfer.items.clear()}else{event.dataTransfer.clearData()}}if(this.isFunction(this.app.posthandleFileDrop)){this.app.posthandleFileDrop(event)}},Apz.prototype.handleDragOver=function(event){event.preventDefault();if(this.isFunction(this.app.handleDragOver)){this.app.handleDragOver(event)}},Apz.prototype.handleDragLeave=function(event){event.preventDefault();if(this.isFunction(this.app.handleDragLeave)){this.app.handleDragLeave(event)}},Apz.prototype.onDropDownClose=function(id,event){var prevVal=$("#"+id).data("prevVal");var curVal=$("#"+id).find("input").val();if(prevVal!=curVal){$("#"+id).find("input").trigger("change")}},Apz.prototype.filterCloseAction=function(id,event){var proceed=true;var selectAllObj="";if(this.isFunction(this.app.preFilterCloseAction)){proceed=this.app.preFilterCloseAction($("#"+id)[0])}if(proceed!=false){var inputTxtVal=$("#"+id).val();var inputTxtArr=inputTxtVal.split(",");var prevList=$("#"+id+"_so label");var isSelectAllFalse=1;var indeterminateState=0;var curInput="";prevList.each(function(key,val){if(inputTxtArr.includes($(val)[0].textContent)){curInput=document.getElementById(val.id.split("_label")[0]+"_input");curInput.checked=true;indeterminateState=1}else{curInput=document.getElementById(val.id.split("_label")[0]+"_input");curInput.checked=false;isSelectAllFalse=0}});selectAllObj=$("#"+id+"_selectall");tbodySltObj=$("#"+id+"_selectall");if(selectAllObj.parents("table:first").hasClass("fixedheader")){var extSpanObj=$(".drdn-extspan");if(extSpanObj&&extSpanObj.children().length>0){selectAllObj=extSpanObj.find("#"+id+"_selectall")}if(tbodySltObj.parents(".ftbl-thd:first")&&(extSpanObj&&extSpanObj.children().length==0)){var ftblTbdyObj=tbodySltObj.parents(".ftbl-thd:first").siblings(".ftbl-bdy");tbodySltObj=ftblTbdyObj.find("#"+id+"_selectall")}}if(isSelectAllFalse==0||apz.isNull(inputTxtVal)){selectAllObj.prop("checked",false);tbodySltObj.prop("checked",false);if(indeterminateState==1){selectAllObj.prop("indeterminate",true);tbodySltObj.prop("indeterminate",true)}else{selectAllObj.prop("indeterminate",false);tbodySltObj.prop("indeterminate",false)}}else{selectAllObj.prop("checked",true);selectAllObj.prop("indeterminate",false);tbodySltObj.prop("checked",true);tbodySltObj.prop("indeterminate",false)}var prevVal=$("#"+id+"_ext").data("prevVal");var curVal=$("#"+id+"_ext").find("input").val();if(prevVal!=curVal){$("#"+id+"_ext").find("input:first").trigger("change")}apz.closeFilterDrdn(id)}if(this.isFunction(this.app.postFilterCloseAction)){this.app.postFilterCloseAction($("#"+id)[0])}},Apz.prototype.closeFilterDrdn=function(id){var drdnDivObj=$("#"+id+"_ext:first");var iconObj=drdnDivObj.children("span");if($(drdnDivObj).hasClass("drdn-open")){iconObj=$(this).children("span");$(drdnDivObj).removeClass("is-open drdn-open");if($(".drdn-extspan").length>0){$(".drdn-extspan").find("#"+id+"_search").val("");$("#"+$(".drdn-extspan").children().attr("original-id")+"_ext").append($(".drdn-extspan").children());$(".drdn-extspan").remove()}}},Apz.prototype.initFilterTables=function(obj){var apzObj=this;var jqueryObj=$(obj);if(jqueryObj.length>0){jqueryObj.each(function(){apzObj.initFilterTable(this.id)})}},Apz.prototype.initFilterTable=function(tableId){var dropDownArray=[];var dateElmArray=[];var tableObj=$("#"+tableId);if(tableObj.hasClass("fixedheader")){var tblCtrObj=tableObj.parents(".tabl-ctr:first");var tabHeadObj=tblCtrObj.find(".ftbl-thd");dropDownArray=tabHeadObj.find(".filterdropdown");dateElmArray=tabHeadObj.find(".filterdate")}else{dropDownArray=$("#"+tableId).find(".filterdropdown");dateElmArray=$("#"+tableId).find(".filterdate")}var dateArrayLength=dateElmArray.length;var drdlength=dropDownArray.length;var dropDownobj="",dateObj="";if(drdlength>0){for(var i=0;i<drdlength;i++){dropDownobj=$(dropDownArray[i]).find(".sub-elt")[0];if(!apz.isNull(dropDownobj)){apz.initFilterElements(dropDownobj)}}}if(dateArrayLength){for(var i=0;i<dateArrayLength;i++){dateObj=$(dateElmArray[i]);if(!apz.isNull(dateObj)){var params={dateFormat:this.dateformat,firstDay:1,showOtherMonths:true,selectOtherMonths:true,changeMonth:true,changeYear:true};params.onClose=function(){var obj=this;apz.searchFilterRecords(obj.id)};if($(dateObj).hasClass("hasDatepicker")){$(dateObj).removeClass("hasDatepicker")}$(dateObj).datepicker(params)}}}},Apz.prototype.searchFilterRecords=function(id){var searchContent=[],searchedContent=[];var filterElements=[];var filterObj={};var thElements=$("#"+id).parents("tr:first").children();var thInpElm="",thInpElmId="",thElmName="",inpValue="";var containerId=apz.scrMetaData.elmsMap[id.split("_filter")[0]].container;for(var i=0;i<thElements.length;i++){thInpElm=$(thElements[i]).find("input:first");if(!apz.isNull(thInpElm)&&!apz.isNull($(thInpElm).val())){thInpElmId=thInpElm[0].id;thElmName=apz.scrMetaData.elmsMap[thInpElmId.split("_filter")[0]].name;inpValue=$(thInpElm).val().split(",");inpValue=inpValue.map(function(item){return item.toUpperCase()});filterObj[thElmName]=inpValue}}apz.searchRecords(containerId,"",filterObj)},Apz.prototype.onDateFilterBlur=function(obj,event){if($(obj).datepicker("widget").is(":visible")){event.preventDefault()}else{apz.searchFilterRecords(obj.id)}},Apz.prototype.populateTableFilters=function(tableId){var tableObj=this.scrMetaData.containersMap[tableId];if(tableObj){for(var i=0;i<tableObj.elms.length;i++){elmObj=tableObj.elms[i];if(elmObj.dataType!=="DATE"){var options=this.data.getElmDataOptions(elmObj.id);this.populateDropdown(document.getElementById(elmObj.id+"_filter"),options)}}}},Apz.prototype.initFilterElements=function(obj){var drdnDivObj=$(obj).parents("#"+obj.id+"_ext:first");var selectAllObj=$("#"+obj.id+"_selectall");var tobj=$("#"+obj.id+"_div");var apzObj=this;drdnDivObj.off("click.apzevent").on("click.apzevent",function(){if(!$(this).attr("disabled")){apzObj.toggleFilterElements(obj)}});$(obj).off("keydown.apzevent").on("keydown.apzevent",function(e){if(!$(this).attr("disabled")&&(e.which=="13"||e.which=="32")){if(e.keyCode==32){e.preventDefault()}apzObj.toggleFilterElements(obj)}});var val="";var filterElementVal=function(curObj,event){if(event.keyCode==13||event.type=="change"){if(event.keyCode==13){curObj=$(curObj).find("input");if($(curObj).is(":checked")){$(curObj).prop("checked",false)}else{$(curObj).prop("checked",true)}}var txtbox=$(obj);var allVals=[];if(curObj.id==obj.id+"_selectall"){if($(curObj).prop("indeterminate")){$(curObj).prop("checked",true);$(curObj).prop("indeterminate",false)}if($(curObj).is(":checked")){$("#"+obj.id+"_so input").each(function(key,val){if(!$(val).is(":checked")&&!$(val).parent().hasClass("sno")){$(val).prop("checked",true)}});$(curObj).prop("indeterminate",false)}else{if(!$(curObj).is(":checked")){$("#"+obj.id+"_so input").each(function(key,val){if($(val).is(":checked")){$(val).prop("checked",false)}})}}}else{if(curObj.id!=obj.id+"_selectall"){var eleCount=1;var indeterminateState=0;$("#"+obj.id+"_so input").each(function(key,val){if(!$(val).is(":checked")){eleCount=0}else{indeterminateState=1}});var selectAllObj=$("#"+obj.id+"_selectall");if(selectAllObj.parents("table:first").hasClass("fixedheader")){if($(".drdn-extspan")){selectAllObj=$(".drdn-extspan").find("#"+obj.id+"_selectall")}}if(eleCount==0){selectAllObj.prop("checked",false);$("#"+obj.id+"_selectall").prop("checked",false);if(indeterminateState==1){selectAllObj.prop("indeterminate",true);$("#"+obj.id+"_selectall").prop("indeterminate",true)}else{selectAllObj.prop("indeterminate",false);$("#"+obj.id+"_selectall").prop("indeterminate",false)}}else{selectAllObj.prop("checked",true);$("#"+obj.id+"_selectall").prop("checked",true);selectAllObj.prop("indeterminate",false);$("#"+obj.id+"_selectall").prop("indeterminate",false)}}}$(curObj).closest(".sub-ctr").find("li.is-selected").removeClass("is-selected");event.preventDefault();event.stopPropagation()}else{apzObj.dropdownKeyAction(obj,curObj,event)}};$("#"+obj.id+"_so").off("change.apzevent").on("change.apzevent",function(e){filterElementVal(e.target,e)});selectAllObj.off("change.apzevent").on("change.apzevent",function(e){filterElementVal(this,e)});var searchDrdn=function(curObj,event){var value=val;var proceed=true;var totalOpts=$(curObj).parent().children("li").length;var index=0;var getNextOpt=function(actObj,currOpt,nextOptObj,curValue){nextOpt=$(nextOptObj).next("li");if(nextOptObj.text().toUpperCase().indexOf(curValue)!=-1&&$(nextOptObj).text().toUpperCase().indexOf(curValue)=="0"){$(nextOptObj).parent().find(".hilt").removeClass("hilt");nextOptObj.addClass("hilt").focus();proceed=false}else{if($(nextOptObj).next("li").length==0&&index<totalOpts){nextOpt=$(nextOptObj).parent().children("li:first");index=index+1;getNextOpt(actObj,nextOptObj,nextOpt,curValue)}else{if(index<totalOpts){index=index+1;getNextOpt(actObj,nextOptObj,nextOpt,curValue)}}}};if(proceed){var nextOpt=$(curObj).next("li");if(nextOpt.length==0){nextOpt=$(curObj).parent().children("li:first")}getNextOpt(obj,curObj,nextOpt,value)}};var clear=false;tobj.off("keydown.apzevent").on("keydown.apzevent",function(e){if(e.keyCode==27||(e.keyCode==9&&e.target.id.indexOf("_ok")!=-1)||(e.shiftKey&&e.keyCode==9&&e.target.id.indexOf("_search")!=-1)){if(/[a-zA-Z0-9]/.test(String.fromCharCode(e.keyCode))){if(!(val.length=="1"&&val==String.fromCharCode(e.keyCode))){val=val+String.fromCharCode(e.keyCode)}clearTimeout($.data(obj,"timer"));var wait=setTimeout(function(){clear=true;val=""},500);$(obj).data("timer",wait);if($(this).children().text().toUpperCase().indexOf(val)!=0||clear){clear=false;searchDrdn(this,e)}}else{filterElementVal(this,e)}}})},Apz.prototype.filterKeyAction=function(obj){var filterInpId=obj.id.split("_search")[0];var filterInpVal=obj.value.toUpperCase();var prevFilterInpVal="";var txtValue="";var childUl="";var curFilteredValues=$("#"+filterInpId)[0].value.split(",");if(!$("#"+filterInpId+"_search").data("prevVal")){$("#"+filterInpId+"_search").data("prevVal","")}var tableObj=$("#"+filterInpId).parents("table:first");if(tableObj.hasClass("fixedheader")){var extSpanObj=$(".drdn-extspan");if(extSpanObj){childUl=extSpanObj.find("#"+filterInpId+"_so")[0]}}else{childUl=document.getElementById(filterInpId+"_so")}if(!$("#"+filterInpId+"_so").data("options")){var optionArr=[];$("#"+filterInpId+"_select > li").each(function(key,liObj){var curOptasObj={};curOptasObj.value=liObj.getAttribute("data-value");curOptasObj.textContent=liObj.textContent;optionArr.push(curOptasObj)});$("#"+filterInpId+"_so").data("options",optionArr)}prevFilterInpVal=$("#"+filterInpId+"_search").data("prevVal");$("#"+filterInpId+"_search").data("prevVal",filterInpVal);var optObj=$("#"+filterInpId+"_so").data("options");if(prevFilterInpVal!=filterInpVal){if(filterInpVal){for(var i=0;i<optObj.length;i++){txtValue=optObj[i].textContent;var childLi=document.getElementById(filterInpId+"_option_"+optObj[i].textContent);if(txtValue.toUpperCase().indexOf(filterInpVal)>-1){$(childUl).find(childLi).removeClass("sno")}else{$(childUl).find(childLi).addClass("sno")}}}else{for(var i=0;i<optObj.length;i++){txtValue=optObj[i].textContent;var childLi=document.getElementById(filterInpId+"_option_"+optObj[i].textContent);if(txtValue.toUpperCase().indexOf(filterInpVal)>-1){$(childUl).find(childLi).removeClass("sno")}else{$(childUl).find(childLi).addClass("sno")}}}var parentDiv=$(obj).parents("#"+filterInpId+"_div");var selectAllObj=parentDiv.find("#"+filterInpId+"_selectall");if(selectAllObj.is(":checked")){var visibleLiElms=$(childUl).find("li:visible");var inpElms=visibleLiElms.find("input");var eleCount=1;var indeterminate=0;inpElms.each(function(i,item){if(!$(item).is(":checked")){eleCount=0}else{indeterminate=1}});if(eleCount==0){selectAllObj.prop("checked",false);$("#"+obj.id+"_selectall").prop("checked",false);if(indeterminate==1){selectAllObj.prop("indeterminate",true);$("#"+obj.id+"_selectall").prop("indeterminate",true)}else{selectAllObj.prop("indeterminate",false);$("#"+obj.id+"_selectall").prop("indeterminate",false)}}else{selectAllObj.prop("checked",true);$("#"+obj.id+"_selectall").prop("checked",true);selectAllObj.prop("indeterminate",false);$("#"+obj.id+"_selectall").prop("indeterminate",false)}}}},Apz.prototype.createElements=function(tagName,params){var element=document.createElement(tagName);Object.keys(params).forEach(function(key){element.setAttribute(key,params[key])});return element},Apz.prototype.filterSubmitAction=function(id,event){var proceed=true;if(this.isFunction(this.app.preFilterSubmitAction)){proceed=this.app.preFilterSubmitAction($("#"+id)[0])}if(proceed!=false){var ftrInpId=id;var newlist=$("#"+ftrInpId+"_so input");var newValues=[];var containerId="";newlist.each(function(key,val){if($(val).is(":checked")){newValues.push($(this).next().text())}});$("#"+ftrInpId)[0].value=newValues.join(",");apz.searchFilterRecords(id);apz.closeFilterDrdn(id)}if(this.isFunction(this.app.postFilterSubmitAction)){this.app.postFilterSubmitAction($("#"+id)[0])}},Apz.prototype.toggleFilterElements=function(obj,isCancel){var closed=false;if(isCancel){var objId=obj.id.split("_cancel")[0];obj=$("#"+objId)[0]}var $obj=$(obj);var drdnDivObj=$obj.parents("#"+obj.id+"_ext:first");var iconObj=drdnDivObj.children("span");$(".drdn-open").not(drdnDivObj).each(function(){if($(this).hasClass("drdn-open")){iconObj=$(this).children("span");if($(".drdn-extspan").length>0){var searchFldId=$(this)[0].id.split("_ext")[0];if(searchFldId){$(".drdn-extspan").find("#"+searchFldId+"_search").val("")}else{$(".drdn-extspan").find("#"+obj.id+"_search").val("")}var dropDownObj=$(".drdn-extspan").children().attr("original-id");$("#"+$(".drdn-extspan").children().attr("original-id")+"_ext").append($(".drdn-extspan").children());apz.filterCloseAction(dropDownObj);if(drdnDivObj[0].id==$(this)[0].id||$(this)[0].tagName=="SPAN"){closed=true}$(".drdn-extspan").remove()}}});var disabled=document.getElementById(obj.id).hasAttribute("disabled");if(!disabled){if(!closed){drdnDivObj.toggleClass("is-open drdn-open")}if(drdnDivObj.hasClass("drdn-open")){var cloneElm=document.createElement("span");var cloneClass=drdnDivObj.attr("class");$(cloneElm).addClass(cloneClass+" drdn-extspan");var cloneWidth=drdnDivObj.width();var cloneHt=drdnDivObj.find(".sub-ctr").height();$(cloneElm).append(drdnDivObj.find(".sub-ctr"));drdnDivObj.find(".sub-ctr").remove();var getDropdownPos=function(){var objOffset=$obj.offset();var clonePosTop=objOffset.top;if((objOffset.top+$obj.outerHeight()+cloneHt>$(window).innerHeight()+$(window).scrollTop())&&(objOffset.top>cloneHt)){clonePosTop=objOffset.top-cloneHt-10}else{clonePosTop=objOffset.top+$obj.outerHeight()+5}$(cloneElm).css({width:cloneWidth,position:"absolute",top:clonePosTop+"px",left:objOffset.left+"px"})};getDropdownPos();$("body").append(cloneElm);if($(obj).val()){var tableObj=$(obj).parents("table:first");var selectAllObj="",ulObj,liObj="",eleCount=1,indeterminate=0;var valArr=$(obj).val().split(",");if(tableObj.hasClass("fixedheader")){var extnSpanObj=$(".drdn-extspan");if(extnSpanObj.children().length>0){selectAllObj=extnSpanObj.find("#"+obj.id+"_selectall");ulObj=extnSpanObj.find("#"+obj.id+"_so");liObj=ulObj.find("li");liObj.each(function(i,li){var label=$(li).find("label").html();if(valArr.indexOf(label)!=-1){$(li).find("input").prop("checked",true);indeterminate=1}else{eleCount=0}});if(eleCount==0){selectAllObj.prop("checked",false);$("#"+obj.id+"_selectall").prop("checked",false);if(indeterminate==1){selectAllObj.prop("indeterminate",true);$("#"+obj.id+"_selectall").prop("indeterminate",true)}else{selectAllObj.prop("indeterminate",false);$("#"+obj.id+"_selectall").prop("indeterminate",false)}}else{selectAllObj.prop("checked",true);$("#"+obj.id+"_selectall").prop("checked",true);selectAllObj.prop("indeterminate",false);$("#"+obj.id+"_selectall").prop("indeterminate",false)}}}}if($obj.scrollParent){if($obj.scrollParent().hasClass("ftbl-bdy")){$obj.scrollParent().bind("mousewheel",function(){if($obj.parent().hasClass("is-open")){return false}else{return true}})}}}else{drdnDivObj.append($(".drdn-extspan").children());$(".drdn-extspan").remove()}if($(".drdn-extspan").length>0){var extSpan=$(".drdn-extspan");extSpan.find(".sub-ctr li").removeClass("hilt");if(extSpan.find(".is-selected").length>0){extSpan.find(".is-selected").focus().addClass("hilt")}else{extSpan.find(".sub-ctr li:first").focus().addClass("hilt")}$("#"+obj.id+"_search").focus()}}};if(!Array.prototype.contains){Array.prototype.contains=function(srch){var found=false;this.forEach(function(e){if((srch.equals&&srch.equals(e))||e==srch){found=true;return}});return found}};
////Appending Script  == >plugins.js
+function($){var Modal=function(element,options){this.options=options;this.$body=$(document.body);this.$element=$(element);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};Modal.VERSION="3.3.6";Modal.TRANSITION_DURATION=300;Modal.BACKDROP_TRANSITION_DURATION=150;Modal.DEFAULTS={backdrop:true,keyboard:true,show:true};Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)};Modal.prototype.show=function(_relatedTarget){var that=this;var e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented()){return}this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){if($(e.target).is(that.$element)){that.ignoreBackdropClick=true}})});this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(that.$body)}that.$element.show().scrollTop(0);that.adjustDialog();if(transition){that.$element[0].offsetWidth}that.$element.addClass("in");that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)})};Modal.prototype.hide=function(e){if(e){e.preventDefault()}var proceed=true;var options=this.options;if(apz.isFunction(options.callBack)){if(!e){e=window.event||{}}if(options.callBackObj){proceed=options.callBack.call(options.callBackObj,e.target)}else{proceed=options.callBack(e.target)}}if(proceed!=false){e=$.Event("hide.bs.modal");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented()){return}this.isShown=false;this.escape();this.resize();$(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal").attr("aria-hidden","true");this.$dialog.off("mousedown.dismiss.bs.modal");$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal()}};Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){if(document!==e.target&&this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){e.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}}};Modal.prototype.resize=function(){if(this.isShown){$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this))}else{$(window).off("resize.bs.modal")}};Modal.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.$body.removeClass("modal-open");that.resetAdjustments();that.resetScrollbar();that.$element.trigger("hidden.bs.modal")})};Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};Modal.prototype.backdrop=function(callback){var that=this;var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.options.target);this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(e.target!==e.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(doAnimate){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!callback){return}doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop();callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else{if(callback){callback()}}}};Modal.prototype.handleUpdate=function(){this.adjustDialog()};Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})};Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth;this.scrollbarWidth=this.measureScrollbar()};Modal.prototype.setScrollbar=function(){var bodyPad=parseInt((this.$body.css("padding-right")||0),10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing){this.$body.css("padding-right",bodyPad+this.scrollbarWidth)}};Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure";this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;this.$body[0].removeChild(scrollDiv);return scrollbarWidth};function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this);var data=$this.data("bs.modal");var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data){$this.data("bs.modal",(data=new Modal(this,options)))}if(typeof option=="string"){data[option](_relatedTarget)}else{if(options.show){data.toggle(_relatedTarget)}}})}var old=$.fn.modal;$.fn.modal=Plugin;$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=$($this.attr("data-target")||(href&&href.replace(/.*(?=#[^\s]+$)/,"")));var option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());if($this.is("a")){e.preventDefault()}$target.one("show.bs.modal",function(showEvent){if(showEvent.isDefaultPrevented()){return}$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})});Plugin.call($target,option,this)})}(jQuery);$("#myDialog").click(function(e){if($("#modalDialog").is(":visible")&&$(e.target).closest("#modalDialog").length===0){$("#myDialog").hide()}else{$("#myDialog").show()}});
////Appending Script  == >data_appzillon.js
Apz.Data=function(apz){this.apz=apz;this.scrdata={};this.scrDataBackup={}};Apz.Data.prototype={loadData:function(ifaceId,appId){if(!this.apz.isNull(ifaceId)){ifaceId=appId?appId+"__"+ifaceId:this.apz.currAppId+"__"+ifaceId}var containers=this.apz.scrMetaData.containers;var noOfContainers=containers.length;if(noOfContainers>0){var params={};params.dataRecNo=0;params.action="C";for(var c=0;c<noOfContainers;c++){var container=containers[c];params.containerId=container.id;if(!this.apz.isNull(ifaceId)){if(container.ifaces.indexOf(ifaceId)>-1){this.getContainerData(params)}}else{this.getContainerData(params)}}}},clearData:function(ifaceId,appId){var ifaceDet;if(!this.apz.isNull(ifaceId)){ifaceId=appId?appId+"__"+ifaceId:this.apz.currAppId+"__"+ifaceId;var ifaceName=this.apz.getIfaceName(ifaceId);ifaceDet=this.apz.getIfaceObj(ifaceName,appId)}var nodes=null;var containers=this.apz.scrMetaData.containers;var noOfContainers=containers.length;if(noOfContainers>0){for(var c=0;c<noOfContainers;c++){var container=containers[c];var containerId=container.id;var containerObj=document.getElementById(containerId);if(!this.apz.isNull(containerObj)){if(!this.apz.isNull(ifaceId)){if(container.ifaces.indexOf(ifaceId)>-1){this.clearContainerData(containerId)}}else{this.clearContainerData(containerId)}}}}if(ifaceDet){nodes=ifaceDet.nodes}else{nodes=this.apz.scrMetaData.nodes}var noOfNodes=nodes.length;for(var n=0;n<noOfNodes;n++){proceed=false;if(this.apz.isNull(ifaceId)){proceed=true}else{if(!this.apz.isNull(nodes[n].ifaceId)){if(nodes[n].ifaceId==ifaceId){proceed=true}}}if(proceed){if(nodes[n].multiRec=="Y"){nodes[n].currRec=-1}else{nodes[n].currRec=0}}}},clearContainerData:function(containerId){var containerData=this.apz.scrMetaData.containersMap[containerId];if(containerData.multiRec=="Y"){this.clearMRMV(containerData.id)}else{noOfElms=containerData.elms.length;for(var e=0;e<noOfElms;e++){var elmData=containerData.elms[e];var elmId=elmData.id;var nodeId=elmData.nodeId;var elmName=elmData.name;var elmObj=document.getElementById(elmId);if((!this.apz.isNull(nodeId))&&(!this.apz.isNull(elmName))&&(!this.apz.isNull(elmObj))){this.apz.setObjValue(elmObj,null)}}}containerData.pageRows=0;containerData.totalRecs=0;containerData.currRec=-1;containerData.currPage=0;containerData.totalPages=0},getDataPointer:function(nodeId,pRec){var pointer=this.scrdata;if(!this.apz.isNull(nodeId)){if(this.apz.isNull(this.apz.scrMetaData.nodesMap[nodeId])){pointer=null}else{var parents=this.apz.scrMetaData.nodesMap[nodeId].parents;var parentsLen=parents.length;var lNodeId="";var recNo=0;for(var p=0;p<=parentsLen;p++){lNodeId=parents[p];if(p==parentsLen){lNodeId=nodeId;recNo=pRec}else{lNodeId=parents[p];recNo=this.apz.scrMetaData.nodesMap[lNodeId].currRec;if(this.apz.scrMetaData.nodesMap[lNodeId].relType=="1:N"){if(this.apz.scrMetaData.nodesMap[nodeId].mrParent==lNodeId){if(recNo==-1||recNo!==pRec){recNo=pRec}}else{if(recNo==-1){recNo=0}}}}var nodeName=this.apz.getNodeName(lNodeId);if(this.apz.scrMetaData.nodesMap[lNodeId].relType=="1:N"){if(!pointer[nodeName]){pointer=null;break}else{if(!pointer[nodeName][recNo]){pointer=null;break}}pointer=pointer[nodeName][recNo]}else{if(!pointer[nodeName]){pointer=null;break}pointer=pointer[nodeName]}}}}return pointer},getParentDataPointer:function(nodeId,pRec){var pointer=this.scrdata;if(!this.apz.isNull(nodeId)){if(this.apz.isNull(this.apz.scrMetaData.nodesMap[nodeId])){pointer=null}else{var parents=this.apz.scrMetaData.nodesMap[nodeId].parents;var parentsLen=parents.length;var lNodeId="";var recNo=0;for(var p=0;p<parentsLen;p++){lNodeId=parents[p];if(p==parentsLen-1){recNo=this.apz.scrMetaData.nodesMap[lNodeId].currRec}else{lNodeId=parents[p];recNo=this.apz.scrMetaData.nodesMap[lNodeId].currRec;if(this.apz.scrMetaData.nodesMap[lNodeId].relType=="1:N"){if(this.apz.scrMetaData.nodesMap[nodeId].mrParent==lNodeId){if(recNo==-1){recNo=pRec}}else{if(recNo==-1){recNo=0}}}}var nodeName=this.apz.getNodeName(lNodeId);if(this.apz.scrMetaData.nodesMap[lNodeId].relType=="1:N"){if(!pointer[nodeName]){pointer=null;break}else{if(!pointer[nodeName][recNo]){pointer=null;break}}pointer=pointer[nodeName][recNo]}else{if(!pointer[nodeName]){pointer=null;break}pointer=pointer[nodeName]}}}}return pointer},getNoOfRecs:function(nodeId){var noOfRecs=0;var nodeName=this.apz.getNodeName(nodeId);var lparent=this.apz.scrMetaData.nodesMap[nodeId].parent;var parentCurrRec=-1;if(!this.apz.isNull(lparent)){if(this.apz.scrMetaData.nodesMap[lparent]){parentCurrRec=this.apz.scrMetaData.nodesMap[lparent].currRec}else{parentCurrRec=0}}else{parentCurrRec=-1}var lpointer=this.getDataPointer(lparent,parentCurrRec);if(lpointer===null){noOfRecs=0}else{if(!lpointer[nodeName]){noOfRecs=0}else{if(this.apz.scrMetaData.nodesMap[nodeId].relType=="1:N"){noOfRecs=lpointer[nodeName].length}else{noOfRecs=1}}}return noOfRecs},getContainerData:function(params){var myObj=this;var containerId=params.containerId;var containerObj=document.getElementById(containerId);var containerType=this.apz.scrMetaData.containersMap[containerId].type;if(containerType=="GAUGE"){requirejs([this.apz.getInfraPath()+"/appzillon/gauges.js"],function(){var gaugeObj=myObj.apz.scrMetaData.gaugesMap[containerId];try{var gauges=new Apz.Gauges(myObj.apz);gauges.paintGauge(gaugeObj)}catch(e){console.log("Problems with Gauges Library")}})}else{if(containerType=="CHART"){requirejs([this.apz.getInfraPath()+"/appzillon/charts.js"],function(){var chartObj=myObj.apz.scrMetaData.chartsMap[containerId];try{var charts=new Apz.Charts(myObj.apz);charts.paintChart(chartObj)}catch(e){console.log("Problems with Charts Library")}})}else{if(!this.apz.isNull(containerObj)){var containerData=this.apz.scrMetaData.containersMap[containerId];var containerMultiRec=containerData.multiRec;var lnodes=containerData.nodes;var noOfNodes=lnodes.length;var noOfElms=0;var mrParent="";var elmData;var nodeId="";var elm="";var val="";var rowNo=-1;var getAllRecords=false;var totalRecs=0;var currRecDataPointers=[];var recDataPointers=[];var dataPointer;var paginationStyle=this.apz.scrMetaData.containersMap[containerId].paginationStyle;if(noOfNodes>0){for(var n=0;n<noOfNodes;n++){nodeId=lnodes[n];if((containerType=="FORM"||containerType=="NAVBAR"||containerType=="LIST")&&this.apz.scrMetaData.nodesMap[nodeId].relType=="1:1"){var mrParent=this.apz.scrMetaData.nodesMap[nodeId].mrParent;params.dataRecNo=this.apz.scrMetaData.nodesMap[mrParent].currRec}dataPointer=this.getDataPointer(nodeId,params.dataRecNo);if(dataPointer!==null){currRecDataPointers[nodeId]=dataPointer;this.apz.scrMetaData.nodesMap[nodeId].currRec=params.dataRecNo}else{if(this.apz.scrMetaData.nodesMap[nodeId].relType=="1:N"){this.apz.scrMetaData.nodesMap[nodeId].currRec=-1}else{this.apz.scrMetaData.nodesMap[nodeId].currRec=0}currRecDataPointers[nodeId]=null}}nodeId=lnodes[0];mrParent=this.apz.scrMetaData.nodesMap[nodeId].mrParent;totalRecs=this.getNoOfRecs(mrParent);noOfElms=containerData.elms.length;if(containerMultiRec=="Y"){var tableObj=$("#"+containerId+"_table");if(tableObj.hasClass("dataTable")){this.apz.closeResponsiveTableRows(tableObj)}if(totalRecs==0){this.apz.scrMetaData.containersMap[containerId].currPage=0;this.apz.scrMetaData.containersMap[containerId].totalPages=0;this.apz.scrMetaData.containersMap[containerId].currRec=-1;this.apz.scrMetaData.containersMap[containerId].totalRecs=0;this.clearMRMV(containerId)}else{var newPage=this.getPage(containerId,params.dataRecNo);var rowNo=this.getRow(containerId,params.dataRecNo);var currPage=this.apz.scrMetaData.containersMap[containerId].currPage;var pageChange=false;var pageRows=this.apz.scrMetaData.containersMap[containerId].pageRows;var pageSize=this.apz.scrMetaData.containersMap[containerId].pageSize;var totalPages=this.getPage(containerId,totalRecs-1);var startRec=-1;var endRec=-1;if(paginationStyle=="APPEND"){if(params.action=="N"){newPage=currPage}}if(newPage!=currPage){pageChange=true}if((params.action=="C")||(params.action=="D")||((pageChange)&&(this.apz.scrMetaData.containersMap[containerId].paginationStyle!="APPEND"))){this.clearMRMV(containerId)}this.apz.scrMetaData.containersMap[containerId].currPage=newPage;this.apz.scrMetaData.containersMap[containerId].totalPages=totalPages;this.apz.scrMetaData.containersMap[containerId].currRec=params.dataRecNo;this.apz.scrMetaData.containersMap[containerId].totalRecs=totalRecs;if(pageChange){var startRow=0;if(this.apz.scrMetaData.containersMap[containerId].paginationStyle=="APPEND"){startRow=params.dataRecNo}startRec=this.getDataRec(containerId,startRow)}else{if(params.action=="B"){startRec=params.dataRecNo}else{if(params.action=="A"){startRec=params.dataRecNo}else{if(params.action=="L"){startRec=params.dataRecNo}else{if(params.action=="C"){startRec=0}else{if(params.action=="D"){startRec=this.getDataRec(params.containerId,0)}else{if(params.action=="N"){startRec=params.dataRecNo}else{if(params.action=="P"){startRec=params.dataRecNo}}}}}}}}if(paginationStyle=="APPEND"){endRec=(newPage*pageSize)-1;if(endRec>=totalRecs){endRec=totalRecs-1}}else{if(paginationStyle=="PAGE1"||paginationStyle=="PAGE2"||paginationStyle=="PAGE3"){endRec=this.getDataRec(containerId,(pageSize-1));if(endRec>=totalRecs){endRec=totalRecs-1}}else{endRec=totalRecs-1}}if((startRec>-1)&&(startRec<=endRec)){for(var r=startRec;r<=endRec;r++){rowNo=this.getRow(containerId,r);this.addRow(containerId,rowNo);if(r==params.dataRecNo){recDataPointers=currRecDataPointers}else{for(var n=0;n<noOfNodes;n++){nodeId=lnodes[n];dataPointer=this.getDataPointer(nodeId,r);if(dataPointer!==null){recDataPointers[nodeId]=dataPointer}else{recDataPointers[nodeId]={}}}}for(var e=0;e<noOfElms;e++){elmData=containerData.elms[e];nodeId=elmData.nodeId;elm=elmData.name;if((!this.apz.isNull(nodeId))&&(!this.apz.isNull(elm))){if(this.apz.containsKey(recDataPointers,nodeId)){if(apz.isNull(recDataPointers[nodeId])){val=""}else{val=recDataPointers[nodeId][elm]}var params={};params.elmData=elmData;params.recNo=rowNo;params.value=val;this.apz.setValue(params)}}}}if(this.apz.scrMetaData.containersMap[containerId].pageRows>endRec+1){var removeTill=this.apz.scrMetaData.containersMap[containerId].pageRows;if(paginationStyle=="APPEND"){removeTill=removeTill+endRec}for(var dr=endRec+1;dr<=removeTill;dr++){this.clearRow(containerId,dr);this.deleteRow(containerId,dr)}}}this.apz.setTableHeight(containerId,false)}}else{this.apz.scrMetaData.containersMap[containerId].currRec=params.dataRecNo;this.apz.scrMetaData.containersMap[containerId].totalRecs=totalRecs;for(var e=0;e<noOfElms;e++){elmData=containerData.elms[e];nodeId=elmData.nodeId;elm=elmData.name;var params={};params.elmData=elmData;params.recNo=-1;if((!this.apz.isNull(nodeId))&&(!this.apz.isNull(elm))){if(this.apz.containsKey(currRecDataPointers,nodeId)){if(this.apz.isNull(currRecDataPointers[nodeId])){val=""}else{val=currRecDataPointers[nodeId][elm]}params.value=val;this.apz.setValue(params)}else{params.value=null;this.apz.setValue(params)}}}}this.setContainerCounters(containerId)}}}}},getData:function(params){var group=this.apz.scrMetaData.containersMap[params.containerId].group;var groupData;var noOfContainers=0;var container="";var nodes;if(this.apz.isNull(group)){params.tracker[params.containerId]="Y";this.getContainerData(params);nodes=this.apz.scrMetaData.containersMap[params.containerId].nodes}else{groupData=this.apz.scrMetaData.groupsMap[group];lnoofcontainers=groupData.containers.length;if(lnoofcontainers>0){for(var c=0;c<lnoofcontainers;c++){container=groupData.containers[c];params.tracker[container]="Y";params.containerId=container;this.getContainerData(params)}}nodes=groupData.nodes}var noOfNodes=nodes.length;var nodeId="";var childNode;var noOfChilds=0;if(noOfNodes>0){for(var n=0;n<noOfNodes;n++){nodeId=nodes[n];noOfChilds=this.apz.scrMetaData.nodesMap[nodeId].childs.length;if(noOfChilds>0){for(var c=0;c<noOfChilds;c++){childNode=this.apz.scrMetaData.nodesMap[nodeId].childs[c];var group=this.apz.scrMetaData.nodesMap[childNode].group;if(!this.apz.isNull(group)){var containers=this.apz.scrMetaData.groupsMap[group].containers;if(containers.length>0){container=containers[0];if(!this.apz.containsKey(params.tracker,container)){var args={};args.containerId=container;args.dataRecNo=0;args.action="C";args.tracker=params.tracker;this.getData(args)}}}}}}}},buildData:function(ifaceId,appId){if(!this.apz.isNull(ifaceId)){ifaceId=appId?appId+"__"+ifaceId:this.apz.currAppId+"__"+ifaceId}var noOfContainers=this.apz.scrMetaData.containers.length;var container;var dataPointers=[];if(noOfContainers>0){var params={};params.action="C";params.dataPointers=dataPointers;for(var c=0;c<noOfContainers;c++){container=this.apz.scrMetaData.containers[c].id;params.containerId=container;this.setContainerData(params)}}if(!this.apz.isNull(ifaceId)){var ifaceName=this.apz.getIfaceName(ifaceId);var ifaceType=this.apz.getIfaceType(ifaceId);var ifaceData={};var len=ifaceId.length;var end4=ifaceId.substr(len-4);if(ifaceType=="DATABASE"){ifaceData[ifaceName+"_Req"]=this.scrdata[ifaceName+"_Req"]}else{if((end4=="_Req")||(end4=="_Res")){ifaceData[ifaceId]=this.scrdata[ifaceId]}else{ifaceData[ifaceId+"_Req"]=this.scrdata[ifaceId+"_Req"];ifaceData[ifaceId+"_Res"]=this.scrdata[ifaceId+"_Res"]}}ifaceData=this.apz.copyJSONObject(ifaceData);this.apz.scrinterfaceData=ifaceData;return ifaceData}},createDataPointer:function(params){var pointer=this.scrdata;var newObj;var mrParent=this.apz.scrMetaData.nodesMap[params.nodeId].mrParent;if((params.nodeId!=null)&&(params.nodeId!="")&&(params.nodeId!="undefined")&&(params.nodeId!=undefined)){var parents=this.apz.scrMetaData.nodesMap[params.nodeId].parents;var parentsLen=parents.length;var lNodeId="";var recNo=0;for(var p=0;p<=parentsLen;p++){if(p==parentsLen){lNodeId=params.nodeId;recNo=params.dataRecNo}else{lNodeId=parents[p];recNo=this.apz.scrMetaData.nodesMap[lNodeId].currRec;if(this.apz.scrMetaData.nodesMap[lNodeId].relType=="1:N"){if(this.apz.scrMetaData.nodesMap[params.nodeId].mrParent==lNodeId){if(recNo==-1){recNo=params.dataRecNo}}}}var nodeName=this.apz.getNodeName(lNodeId);if(recNo>=0){if(this.apz.scrMetaData.nodesMap[lNodeId].relType=="1:N"){if(!pointer[nodeName]){pointer[nodeName]=new Array();recNo=0;pointer[nodeName][0]={}}else{if(!pointer[nodeName][recNo]){pointer[nodeName][recNo]={};this.updateBackupDataPointer(lNodeId,nodeName,pointer,recNo)}else{if(params.force){pointer[nodeName].splice(recNo,0,{});this.updateBackupDataPointer(lNodeId,nodeName,pointer,recNo)}}}pointer=pointer[nodeName][recNo]}else{if(!pointer[nodeName]){pointer[nodeName]={}}pointer=pointer[nodeName]}}else{pointer=null;break}}}return pointer},updateBackupDataPointer:function(pnodeId,pnodeName,pointer,recNo){var bkpObj=this.apz.data.scrDataBackup[pnodeId];if(bkpObj){var existRecIdx=bkpObj.length;if(recNo>0){var existRec=pointer[pnodeName][recNo];existRecIdx=bkpObj.indexOf(existRec);if(existRecIdx==-1){existRecIdx=bkpObj.length}}this.apz.data.scrDataBackup[pnodeId][existRecIdx]=pointer[pnodeName][recNo]}},setContainerData:function(params){var containerData=this.apz.scrMetaData.containersMap[params.containerId];var type=containerData.type;if((type!="CHART")&&(type!="GAUGE")&&(type!="CHART")){var readOnly=containerData.readOnly;if(this.apz.isNull(readOnly)){readOnly="N"}if(readOnly=="N"){var multiRec=containerData.multiRec;var nodes=containerData.nodes;var noOfNodes=nodes.length;var noOfElms=0;var elmData;var nodeId="";var nodeIdExtName="";var elm="";var elmExName="";var val="";var recNo=-1;var rowNo=-1;var mrParent="";var dataExists=false;if(noOfNodes>0){for(var n=0;n<noOfNodes;n++){nodeId=nodes[n];var nodeName=this.apz.getNodeName(nodeId);if(type!="FORM"&&this.apz.scrMetaData.nodesMap[nodeId].relType=="1:1"){var mrParent=this.apz.scrMetaData.nodesMap[nodeId].mrParent;recNo=this.apz.scrMetaData.nodesMap[mrParent].currRec}else{recNo=this.apz.scrMetaData.nodesMap[nodeId].currRec}if(!this.apz.containsKey(params.dataPointers,nodeId)){if(recNo>-1){var args={};args.nodeId=nodeId;args.dataRecNo=recNo;args.force=false;params.dataPointers[nodeId]=this.createDataPointer(args);dataExists=true}}else{dataExists=true}}if(dataExists){if(this.apz.scrMetaData.containersMap[params.containerId].multiRec=="N"){rowNo=-1}else{rowNo=this.getRow(params.containerId,recNo)}noOfElms=containerData.elms.length;for(var e=0;e<noOfElms;e++){elmData=containerData.elms[e];nodeId=elmData.nodeId;nodeIdExtName=elmData.nodeId;elm=elmData.name;elmExtName=elmData.name;var lnodename=this.apz.getNodeName(nodeId);if(elmData.type!="GAUGE"){if((!this.apz.isNull(nodeId))&&(!this.apz.isNull(nodeIdExtName))&&(!this.apz.isNull(elm))&&(!this.apz.isNull(elmExtName))){if(this.apz.scrMetaData.nodesMap[nodeId].currRec>-1){if(!this.apz.isNull(params.dataPointers[nodeId])){val=this.apz.getValue(elmData,rowNo);params.dataPointers[nodeId][elm]=val}}}}}}}else{}}}},setData:function(params){var group=this.apz.scrMetaData.containersMap[params.containerId].group;var groupData;var noOfContainers=0;var container="";var nodes;if(this.apz.isNull(group)){params.tracker[params.containerId]="Y";this.setContainerData(params);nodes=this.apz.scrMetaData.containersMap[params.containerId].nodes}else{groupData=this.apz.scrMetaData.groupsMap[group];noOfContainers=groupData.containers.length;if(noOfContainers>0){for(var c=0;c<noOfContainers;c++){container=groupData.containers[c];params.tracker[container]="Y";params.containerId=container;this.setContainerData(params)}}nodes=groupData.nodes}var noOfNodes=nodes.length;var nodeId="";var childNode;var noOfChilds=0;if(noOfNodes>0){for(var n=0;n<noOfNodes;n++){nodeId=nodes[n];noOfChilds=this.apz.scrMetaData.nodesMap[nodeId].childs.length;if(noOfChilds>0){for(var c=0;c<noOfChilds;c++){childNode=this.apz.scrMetaData.nodesMap[nodeId].childs[c];var group=this.apz.scrMetaData.nodesMap[childNode].group;if(!this.apz.isNull(group)){var containers=this.apz.scrMetaData.groupsMap[group].containers;if(containers.length>0){container=containers[0];if(!this.apz.containsKey(params.tracker,container)){params.containerId=container;this.setData(params)}}}}}}}},goToRecord:function(params){var containerTracker=[];var dataPointers=[];var id=params.containerId;if((params.action!="D")&&(params.action!="B")){params.dataPointers=dataPointers;params.tracker=containerTracker;this.setData(params)}params.dataPointers=[];params.tracker=[];params.containerId=id;this.getData(params)},getRow:function(containerId,dataRec){var tableRow=dataRec;if(this.apz.scrMetaData.containersMap[containerId].paginationStyle!=="APPEND"){tableRow=dataRec%this.apz.scrMetaData.containersMap[containerId].pageSize}return tableRow},getDataRec:function(containerId,rowNo){var dataRec=-1;if(this.apz.scrMetaData.containersMap[containerId].currPage==0){dataRec=0}else{if(this.apz.scrMetaData.containersMap[containerId].paginationStyle!=="APPEND"){dataRec=((this.apz.scrMetaData.containersMap[containerId].currPage-1)*(this.apz.scrMetaData.containersMap[containerId].pageSize))+rowNo}else{dataRec=rowNo}}return dataRec},getPage:function(containerId,dataRec){var recs=dataRec+1;var pageNo=1;if(dataRec>0){var mod=recs%this.apz.scrMetaData.containersMap[containerId].pageSize;pageNo=Math.floor(recs/this.apz.scrMetaData.containersMap[containerId].pageSize);if(mod>0){pageNo=pageNo+1}}return pageNo},clearRow:function(containerId,rowNo){var id="";var elmData;if(this.apz.scrMetaData.containersMap[containerId].multiRec=="N"){rowNo=-1}var noElms=this.apz.scrMetaData.containersMap[containerId].elms.length;if(noElms>0){for(var e=0;e<noElms;e++){elmData=this.apz.scrMetaData.containersMap[containerId].elms[e];if(elmData.ui!="Y"){var params={};params.elmData=elmData;params.recNo=rowNo;params.value=null;this.apz.setValue(params)}}}this.unselectRow(containerId,rowNo)},unselectRow:function(containerId,rowNo){rowNo=this.getRow(containerId,rowNo);var id=containerId+"_selcb_"+rowNo;var obj=document.getElementById(id);if(!this.apz.isNull(obj)){$("#"+id)[0].checked=false}else{id=containerId+"_row_"+rowNo;try{className=$("#"+id)[0].className;if(className.indexOf("selected")!=-1){$("#"+id).removeClass("selected")}}catch(err){}}},clearMRMV:function(containerId){var id="";var tableId="";var obj=document.getElementById(containerId+"_0");if(!this.apz.isNull(obj)&&$("#"+containerId+"_0")[0].checked){tableId=containerId+"_table";this.apz.unSelectAllRows(tableId)}for(var r=0;r<=this.apz.scrMetaData.containersMap[containerId].pageRows;r++){id=containerId+"_row_"+r;$("#"+id).addClass("ssp");$("#"+id).removeClass("fadeIn zoomIn fadeInDown fadeInUp animated");if($("#"+id).hasClass("mbsc-lv-item")){$("#"+id).addClass("sno")}this.clearRow(containerId,r)}this.apz.scrMetaData.containersMap[containerId].pageRows=0;this.apz.scrMetaData.containersMap[containerId].currRec=-1;this.apz.scrMetaData.containersMap[containerId].currPage=0;this.apz.scrMetaData.containersMap[containerId].totalPages=0;this.apz.scrMetaData.containersMap[containerId].totalRecs=0;this.appendnestList(containerId,0)},isRowSelected:function(containerId,rowNo){rowNo=this.getRow(containerId,rowNo);var selected=false;var id;var obj;var className;id=containerId+"_selcb_"+rowNo;obj=document.getElementById(id);if(!this.apz.isNull(obj)){selected=obj.checked}else{id=containerId+"_row_"+rowNo;className=$("#"+id)[0].className;if(className.indexOf("selected")!=-1){selected=true}}return selected},createRow:function(containerId){var createRow=true;if(this.apz.isFunction(this.apz.app.preCreateRow)){createRow=this.apz.app.preCreateRow(containerId);if(this.apz.isNull(createRow)){createRow=true}}if(createRow){var dataRecNo=-1;var selRow=-1;var action="L";var newRec=-1;var currRec=-1;var multiRec=this.apz.scrMetaData.containersMap[containerId].multiRec;if(this.apz.scrMetaData.containersMap[containerId].searchIndex!==undefined&&this.apz.scrMetaData.containersMap[containerId].searchIndex!==null){for(var j=0,IfaceLen=this.apz.scrMetaData.containersMap[containerId].ifaces.length;j<IfaceLen;j++){var ifaceName=this.apz.scrMetaData.containersMap[containerId].ifaces[j].indexOf("__");ifaceName=this.apz.scrMetaData.containersMap[containerId].ifaces[j].substr(ifaceName+2);this.loadData(ifaceName)}document.getElementById(containerId+"_input_search").value="";this.apz.scrMetaData.containersMap[containerId].searchIndex=null}if(multiRec=="Y"){for(var r=0;r<this.apz.scrMetaData.containersMap[containerId].pageRows;r++){if(this.isRowSelected(containerId,r)){selRow=r;break}}if(selRow>=0){newRec=selRow;action="B"}else{newRec=this.apz.scrMetaData.containersMap[containerId].totalRecs;action="L"}}else{currRec=this.apz.scrMetaData.containersMap[containerId].currRec;if(currRec==(this.apz.scrMetaData.containersMap[containerId].totalRecs-1)){newRec=this.apz.scrMetaData.containersMap[containerId].totalRecs;action="L"}else{newRec=this.apz.scrMetaData.containersMap[containerId].currRec+1;action="A"}}if(newRec>=0){var params={};params.containerId=containerId;params.dataRecNo=newRec;params.action=action;this.createContainerRecord(params);this.goToRecord(params)}}if(this.apz.isFunction(this.apz.app.postCreateRow)){this.apz.app.postCreateRow(containerId)}this.apz.setTableHeight(containerId,false)},createContainerRecord:function(params){var group=this.apz.scrMetaData.containersMap[params.containerId].group;var nodes;if(this.apz.isNull(group)){nodes=this.apz.scrMetaData.containersMap[params.containerId].nodes}else{nodes=this.apz.scrMetaData.groupsMap[group].nodes}var noOfNodes=nodes.length;var node="";var multiRec=this.apz.scrMetaData.containersMap[params.containerId].multiRec;if(noOfNodes>0){for(var n=0;n<noOfNodes;n++){node=nodes[n];if(params.action=="B"){var containerTracker=[];var dataPointers=[];params.dataPointers=dataPointers;params.tracker=containerTracker;this.setData(params)}var forceFlag=false;if((params.action=="A")||(params.action=="B")){forceFlag=true}var args={};args.nodeId=node;args.dataRecNo=params.dataRecNo;args.force=forceFlag;this.createDataPointer(args);if(params.action=="B"){if(this.apz.scrMetaData.nodesMap[node].relType=="1:N"){this.apz.scrMetaData.nodesMap[node].currRec=this.apz.scrMetaData.nodesMap[node].currRec+1}}}}},removenestlist:function(containerId,rowNo){if(typeof(this.apz.scrMetaData.containersMap[containerId].childs)!="undefined"&&this.apz.scrMetaData.containersMap[containerId].childs.length>0){var childLen=document.getElementById(containerId+"_row_"+rowNo).children.length;var parentNode=document.getElementById(containerId+"_row_"+rowNo);$(parentNode.children[0]).siblings("div").remove()}},addRow:function(containerId,rowNo){var id=containerId+"_row_"+rowNo;var rowExists=false;var rowVisible=false;var rowObj=document.getElementById(id);var deviceType=this.apz.deviceType;if(!this.apz.isNull(rowObj)){rowExists=true;if($("#"+id).hasClass("ssp")||$("#"+id).hasClass("sno")){rowVisible=false}else{rowVisible=true}}else{rowExists=false;rowVisible=false}if(!rowExists){var id_0=containerId+"_row_0";if(rowNo==0){$("#"+id).removeClass("ssp");$("#"+id).removeClass("sno")}else{if(deviceType=="WIN8SURFACE"||deviceType=="WIN8.1PHONE"||deviceType=="WIN8.1SURFACE"){MSApp.execUnsafeLocalFunction(function(){var firstRow=document.getElementById(id_0);var parentNode=document.getElementById(id_0).parentNode;var html=firstRow.outerHTML;html=html.replace(new RegExp('rowno="0"',"g"),'rowno="'+rowNo+'"');html=html.replace(new RegExp('_0"',"g"),"_"+rowNo+'"');html=html.replace(new RegExp("_0'","g"),"_"+rowNo+"'");html=html.replace(new RegExp("_0_","g"),"_"+rowNo+"_");newRow=$(html)[0];parentNode.appendChild(newRow);if($("#"+containerId+"_table").hasClass("dataTable")){$("#"+containerId+"_table").DataTable().row.add($(newRow)).draw(false)}this.removenestlist(containerId,rowNo);this.clearRow(containerId,rowNo);$("#"+id).removeAttr("style");$("#"+id).removeAttr("data-pos");$("#"+id).removeClass("ssp");$("#"+id).removeClass("sno");$("#"+id).removeClass("mbsc-lv-item-swiping")})}else{var firstRow=document.getElementById(id_0);var parentNode=document.getElementById(id_0).parentNode;var html=firstRow.outerHTML;html=html.replace(new RegExp('rowno="0"',"g"),'rowno="'+rowNo+'"');html=html.replace(new RegExp('_0"',"g"),"_"+rowNo+'"');html=html.replace(new RegExp("_0'","g"),"_"+rowNo+"'");html=html.replace(new RegExp("_0_","g"),"_"+rowNo+"_");newRow=$(html)[0];parentNode.appendChild(newRow);if($("#"+containerId+"_table").hasClass("dataTable")){$("#"+containerId+"_table").DataTable().row.add($(newRow)).draw(false)}this.removenestlist(containerId,rowNo);this.clearRow(containerId,rowNo);$("#"+id).removeAttr("style");$("#"+id).removeAttr("data-pos");$("#"+id).removeClass("ssp");$("#"+id).removeClass("sno");$("#"+id).removeClass("mbsc-lv-item-swiping")}}}if(!rowVisible){if(rowNo!=0){this.removenestlist(containerId,rowNo)}$("#"+id).removeClass("ssp");$("#"+id).removeClass("sno");$("#"+id).addClass($("#"+id).attr("animationtype")+" animated");this.apz.scrMetaData.containersMap[containerId].pageRows=parseInt(this.apz.scrMetaData.containersMap[containerId].pageRows)+parseInt(1);if(rowNo!=0){rowObj=document.getElementById(id);this.apz.initRow(containerId,rowObj)}}},deleteContainerRecord:function(containerId,dataRecNo){var group=this.apz.scrMetaData.containersMap[containerId].group;var nodes;if(this.apz.isNull(group)){nodes=this.apz.scrMetaData.containersMap[containerId].nodes}else{nodes=this.apz.scrMetaData.groupsMap[group].nodes}var noOfNodes=nodes.length;var node="";var lmultiRec=this.apz.scrMetaData.containersMap[containerId].multiRec;if(noOfNodes>0){for(var n=0;n<noOfNodes;n++){node=nodes[n];if(this.apz.scrMetaData.nodesMap[node].relType=="1:N"){var parentPointer;var parent=this.apz.scrMetaData.nodesMap[node].parent;var parentCurrRec=-1;if(this.apz.isNull(parent)){parentCurrRec=0}else{parentCurrRec=this.apz.scrMetaData.nodesMap[parent].currRec}if(parentCurrRec>=0){parentPointer=this.getDataPointer(parent,parentCurrRec);var nodeName=this.apz.getNodeName(node);if(parentPointer[nodeName]){if(this.apz.scrMetaData.nodesMap[node].relType=="1:N"){if(parentPointer[nodeName].length>dataRecNo){var bkpObj=this.apz.data.scrDataBackup[node];if(bkpObj){var existRec=parentPointer[nodeName][dataRecNo];var existRecIdx=bkpObj.indexOf(existRec);if(existRecIdx!=-1){this.apz.data.scrDataBackup[node].splice(existRecIdx,1)}else{console.log("Unable to update backup obj of searched container")}}parentPointer[nodeName].splice(dataRecNo,1)}}else{parentPointer[nodeName]=null}}}}}}},removeRows:function(containerId){var multiRec=this.apz.scrMetaData.containersMap[containerId].multiRec;var pageRows=this.apz.scrMetaData.containersMap[containerId].pageRows;var pageSize=this.apz.scrMetaData.containersMap[containerId].pageSize;var currRec=this.apz.scrMetaData.containersMap[containerId].currRec;var totalRecs=this.apz.scrMetaData.containersMap[containerId].totalRecs;var currPage=this.apz.scrMetaData.containersMap[containerId].currPage;var totalPages=this.apz.scrMetaData.containersMap[containerId].totalPages;var dataRecNo=-1;var deleteTdRows=0;var currRecDeleted=false;var newCurrRec=currRec;var maxAvailableRec=-1;var rowNo=-1;var removeRow=true;if(currRec>=0){if(this.apz.isFunction(this.apz.app.PreRemoveRows)){removeRow=this.apz.app.PreRemoveRows(containerId);if(this.apz.isNull(removeRow)){removeRow=true}}if(removeRow){if(multiRec=="Y"){currRecDeleted=this.isRowSelected(containerId,currRec);if(!currRecDeleted){var containerTracker=[];var dataPointers=[];var args={};args.containerId=containerId;args.action="D";args.dataPointers=dataPointers;args.tracker=containerTracker;this.setData(args)}for(var r=pageRows-1;r>=0;r--){dataRecNo=this.getDataRec(containerId,r);if(this.isRowSelected(containerId,r)){if(dataRecNo<currRec){newCurrRec=newCurrRec-1}if(dataRecNo<maxAvailableRec){maxAvailableRec=maxAvailableRec-1}deleteTdRows=deleteTdRows+1;this.removeRow(containerId,dataRecNo);this.unselectRow(containerId,r)}else{if(dataRecNo>maxAvailableRec){maxAvailableRec=dataRecNo}}}if(deleteTdRows>0){if(pageRows==deleteTdRows){if(currPage==totalPages){newCurrRec=((currPage-2)*pageSize)}else{if(currPage<totalPages){newCurrRec=((currPage-1)*pageSize)}}if(newCurrRec<-1){newCurrRec=-1}}else{if(currRecDeleted){newCurrRec=maxAvailableRec}else{}}if(this.apz.scrMetaData.containersMap[containerId].type=="TABLE"){var headerCbs=document.querySelectorAll("#"+containerId+"_0");$(headerCbs).prop("checked",false)}}}else{if(currRec==(totalRecs-1)){newCurrRec=currRec-1}else{newCurrRec=currRec}this.removeRow(containerId,currRec)}var params={};params.containerId=containerId;params.dataRecNo=newCurrRec;params.action="D";this.goToRecord(params)}if(this.apz.isFunction(this.apz.app.postRemoveRows)){this.apz.app.postRemoveRows(containerId)}}this.apz.setTableHeight(containerId,false)},removeRow:function(containerId,dataRecNo){if(dataRecNo>=0){this.deleteContainerRecord(containerId,dataRecNo)}},deleteRow:function(containerId,prowno){var id=containerId+"_row_"+prowno;var rowExists=false;var rowVisible=false;var rowObj=document.getElementById(id);if(!this.apz.isNull(rowObj)){rowExists=true;if($("#"+id).hasClass("sno")||$("#"+id).hasClass("ssp")){rowVisible=false}else{rowVisible=true}}else{rowExists=false;rowVisible=false}if(rowVisible){$("#"+id).addClass("sno");this.apz.scrMetaData.containersMap[containerId].pageRows=this.apz.scrMetaData.containersMap[containerId].pageRows-1}},changePage:function(containerId,ind,obj){var checkChangePage=true;if(this.apz.isFunction(this.apz.app.preChangePage)){checkChangePage=this.apz.app.preChangePage(containerId,ind,obj);if(this.apz.isNull(checkChangePage)){checkChangePage=true}}if(checkChangePage){var id="";var newPage=0;if(ind=="N"){newPage=this.apz.scrMetaData.containersMap[containerId].currPage+1}else{if(ind=="P"){newPage=this.apz.scrMetaData.containersMap[containerId].currPage-1}else{if(ind=="F"){newPage=1}else{if(ind=="L"){newPage=this.apz.scrMetaData.containersMap[containerId].totalPages}else{if(ind=="S"){if(this.apz.scrMetaData.containersMap[containerId].paginationStyle=="PAGE2"||this.apz.scrMetaData.containersMap[containerId].paginationStyle=="PAGE3"){newPage=parseInt(this.apz.getElmValue(obj.id))}else{var cpid=containerId+"_cp";try{newPage=parseInt(document.getElementById(cpid).value)}catch(e){newPage=this.apz.scrMetaData.containersMap[containerId].currPage}}}}}}}if((newPage>0)&&(newPage<=this.apz.scrMetaData.containersMap[containerId].totalPages)&&(newPage!=this.apz.scrMetaData.containersMap[containerId].currPage)){var dataRecNo=(newPage-1)*this.apz.scrMetaData.containersMap[containerId].pageSize;var params={};params.containerId=containerId;params.dataRecNo=dataRecNo;params.action="P";this.goToRecord(params)}}if(this.apz.isFunction(this.apz.app.postChangePage)){this.apz.app.postChangePage(containerId,ind,obj)}},appendnestList:function(containerId,currRec){var containerid=containerId+"_row_"+currRec;if(typeof(this.apz.scrMetaData.containersMap[containerId].childs)!="undefined"&&this.apz.scrMetaData.containersMap[containerId].childs.length>0){var parentNode=document.getElementById(containerid);var len=this.apz.scrMetaData.containersMap[containerId].childs.length;for(i=0;i<len;i++){parentNode.appendChild(document.getElementById(this.apz.scrMetaData.containersMap[containerId].childs[i]))}}},rowClicked:function(rowObj,event){if(!this.apz.isNull(event)&&!($(event.target).hasClass("dticon")||$(event.target).parent().hasClass("dticon")||$(event.target).parent().parent().hasClass("dticon"))){var rowClicked=true;var rowId=rowObj.id;var ind=rowId.lastIndexOf("_row_");var containerId=rowId.substring(0,ind);var rowNo=this.apz.getInt(rowId.substring(ind+5));var checkStrng=new Array();var radioStrng=new Array();if(this.apz.isFunction(this.apz.app.preRowClicked)){rowClicked=this.apz.app.preRowClicked(containerId,rowNo,event);if(this.apz.isNull(rowClicked)){rowClicked=true}}var relCntrs=this.apz.getRelatedContainers(containerId);var relCntrSearched=this.apz.isRelatedContainerSearched(relCntrs);var contData=this.apz.scrMetaData.containersMap[containerId];if(rowClicked&&!this.apz.isNull(contData)&&this.apz.isNull(contData.searchIndex)){var renderRecord=false;if(relCntrSearched){if(this.apz.isFunction(this.apz.app.resetSearchedContainers)){renderRecord=this.apz.app.resetSearchedContainers(relCntrs,rowObj,event)}}else{renderRecord=true}if(renderRecord){var dataRecNo=this.getDataRec(containerId,rowNo);var currRec=contData.currRec;if(dataRecNo!=currRec){var params={};params.containerId=containerId;params.dataRecNo=dataRecNo;params.action="N";this.goToRecord(params);this.appendnestList(containerId,rowNo)}}}if(this.apz.isFunction(this.apz.app.postRowClicked)){this.apz.app.postRowClicked(containerId,rowNo,event)}var parentContId=$("#"+containerId).attr("targetoverlayid");if(!this.apz.isNull(parentContId)){if(this.apz.isFunction(this.apz.app["overlayClicked_"+parentContId])){if(!this.apz.isNull(parentContId)&&parentContId!=containerId){this.apz.app["overlayClicked_"+parentContId](parentContId,containerId,rowNo);this.apz.searchRecords(containerId,"");if($("#"+containerId).find(".srh-inp").length>0){$("#"+containerId).find(".srh-inp").val("")}this.apz.closeOverlay($("#"+parentContId+"_dropdown")[0],containerId,"Y")}}}}},changeRow:function(containerId,ind){var changeRow=true;if(this.apz.isFunction(this.apz.app.preChangeRow)){changeRow=this.apz.app.preChangeRow(containerId,ind);if(this.apz.isNull(changeRow)){changeRow=true}}if(changeRow){var id="";var newRec=0;if(ind=="N"){newRec=this.apz.scrMetaData.containersMap[containerId].currRec+1}else{if(ind=="P"){newRec=this.apz.scrMetaData.containersMap[containerId].currRec-1}else{if(ind=="F"){newRec=0}else{if(ind=="L"){newRec=this.apz.scrMetaData.containersMap[containerId].totalRecs-1}else{if(ind=="S"){var crid=containerId+"_cr";try{newRec=parseInt(document.getElementById(crid).innerHTML)-1}catch(e){newRec=this.apz.scrMetaData.containersMap[containerId].currRec}}}}}}if((newRec>=0)&&(newRec<this.apz.scrMetaData.containersMap[containerId].totalRecs)&&(newRec!=this.apz.scrMetaData.containersMap[containerId].currRec)){var dataRecNo=newRec;var params={};params.containerId=containerId;params.dataRecNo=dataRecNo;params.action="N";this.goToRecord(params)}}if(this.apz.isFunction(this.apz.app.postChangeRow)){this.apz.app.postChangeRow(containerId,ind)}},setContainerCounters:function(pcontainer){var setContainerCounters=true;if(this.apz.isFunction(this.apz.app.preSetContainerCounters)){setContainerCounters=this.apz.app.preSetContainerCounters(pcontainer);if(this.apz.isNull(setContainerCounters)){setContainerCounters=true}}if(this.apz.scrMetaData.containersMap[pcontainer].paginationStyle=="PAGE2"){this.apz.showPageStyle2Controls(pcontainer)}else{if(this.apz.scrMetaData.containersMap[pcontainer].paginationStyle=="PAGE3"){this.apz.showPageStyle3Controls(pcontainer)}else{if(setContainerCounters){var lmultirec=this.apz.scrMetaData.containersMap[pcontainer].multiRec;if(lmultirec=="Y"){var lcpid=pcontainer+"_cp";var ltpid=pcontainer+"_tp";var lprid=pcontainer+"_pr";try{document.getElementById(lcpid).value=this.apz.scrMetaData.containersMap[pcontainer].currPage;document.getElementById(ltpid).innerHTML=this.apz.scrMetaData.containersMap[pcontainer].totalPages;document.getElementById(lprid).value=this.apz.scrMetaData.containersMap[pcontainer].pageRows}catch(e){}}else{var lcrid=pcontainer+"_cr";var ltrid=pcontainer+"_tr";try{document.getElementById(lcrid).value=(this.apz.scrMetaData.containersMap[pcontainer].currRec+1);document.getElementById(ltrid).innerHTML=this.apz.scrMetaData.containersMap[pcontainer].totalRecs}catch(e){}}}}}if(this.apz.isFunction(this.apz.app.postSetContainerCounters)){this.apz.app.postSetContainerCounters(pcontainer)}},getSelectedRows:function(containerId){var rows=this.apz.scrMetaData.containersMap[containerId].pageRows;var value=new Array();for(var i=0;i<rows;i++){var id=containerId+"_row_"+i;var className=$("#"+id)[0].className;if(className.indexOf("selected")!=-1){value[id]=$("#"+id)}}return value},appendData:function(newData){for(key in newData){this.scrdata[key]=newData[key]}},loadJsonData:function(fileName,appId){var filePath=this.apz.getDataFilesPath(appId)+"/"+fileName+".json";var content=this.apz.getFile(filePath);if(!this.apz.isNull(content)){content=JSON.parse(content);this.appendData(content);this.loadData(null)}},selectRow:function(currObj,event){if(event.ctrlKey||event.metaKey){$(currObj).toggleClass("selected")}},getNodeDataPointer:function(nodeId){var noOfRecs=0;var nodeName=this.apz.getNodeName(nodeId);var lparent=this.apz.scrMetaData.nodesMap[nodeId].parent;var parentCurrRec=-1;if(!this.apz.isNull(lparent)){if(this.apz.scrMetaData.nodesMap[lparent]){parentCurrRec=this.apz.scrMetaData.nodesMap[lparent].currRec}else{parentCurrRec=0}}else{parentCurrRec=-1}return this.getDataPointer(lparent,parentCurrRec)},getElmDataOptions:function(elmId){var elmOptions=[];var elmInfo=this.apz.scrMetaData.elmsMap[elmId];if(elmInfo.nodeId){var elmName=elmInfo.name;var nodePtr=this.getNodeDataPointer(elmInfo.nodeId);if(nodePtr&&nodePtr[elmInfo.nodeName]){var dataObj=nodePtr[elmInfo.nodeName];var duplicateChecker=[];if(this.apz.getDataType(dataObj)=="Array"){for(var i=0;i<dataObj.length;i++){var rowObj=dataObj[i];var elmVal=rowObj[elmName];if(elmVal&&duplicateChecker.indexOf(elmVal.toUpperCase())==-1){duplicateChecker.push(elmVal.toUpperCase());var option={val:elmVal,desc:elmVal};elmOptions.push(option)}}}else{var option={val:dataObj[elmName],desc:dataObj[elmName]};elmOptions.push(option)}}}return elmOptions}};
////Appending Script  == >server.js
Apz.Server=function(apz){this.apz=apz;this.appSecToken="N";this.loginStatus=false};Apz.Server.prototype={getLocation:function(addrReq){if(addrReq){this.apz.fetchAddr=true}else{this.apz.fetchAddr=false}nsReq={};nsReq.id="GETLOCATION";nsReq.callBack=this.setLocation;nsReq.callBackObj=this;this.apz.ns.getLocation(nsReq)},setLocation:function(params){this.apz.latitude=params.latitude;this.apz.longitude=params.longitude;if(this.apz.fetchAddr&&(params.latitude!=="0"||params.longitude!=="0")){this.getAddress()}else{this.apz.location={lat:this.apz.latitude,lng:this.apz.longitude}}},getHeader:function(params){if(this.apz.isNull(params.id)){reqId=this.apz.getProcId()}else{reqId=params.id}if(this.apz.isNull(params.async)){params.async=false}var getHeader=true;if(this.apz.isFunction(this.apz.app.preGetHeader)){getHeader=this.apz.app.preGetHeader(params);if(this.apz.isNull(getHeader)){getHeader=true}}if(getHeader){var header={};header.appId=this.apz.appId;header.sessionId=this.apz.sessionId;header.deviceId=this.apz.deviceId;header.requestId=reqId;header.async=params.async;header.userId=this.apz.userId;header.screenId=params.scrName;header.status=true;header.source="APPZILLON";if(!params.internal){header.interfaceId=params.appId?params.appId+"__"+params.ifaceName:this.apz.currAppId+"__"+params.ifaceName}else{header.interfaceId=params.ifaceName}header.os=this.apz.deviceType;header.location=this.apz.location;if(params.captchaRef&&params.captchaString){header.captchaRef=params.captchaRef||"";header.captchaString=params.captchaString||""}}if(this.apz.isFunction(this.apz.app.postGetHeader)){header=this.apz.app.postGetHeader(header)}return header},callServer:function(params){params.internal=params.internal?params.internal:false;params.apzIfaceName=params.appId?params.appId+"__"+params.ifaceName:this.apz.currAppId+"__"+params.ifaceName;var ifaceName=this.apz.getIfaceName(params.ifaceName);var ifaceDet=this.apz.getIfaceObj(params.apzIfaceName,params.appId);if(this.apz.isNull(ifaceDet)){params.ifaceDet={}}else{params.ifaceDet=ifaceDet}if(Apz.Audit){var log={};log.action="SERVER";log.startTimeStamp=this.apz.getCurrTimeStamp();params.auditLog=log}if(params.buildReq=="Y"){var buildData=true;params.req={};if(this.apz.isFunction(this.apz.app.preBuildData)){buildData=this.apz.app.preBuildData(params.req);if(this.apz.isNull(buildData)){buildData=true}}if(buildData){var dataIface=ifaceName+"_Req";params.req=this.apz.data.buildData(dataIface,params.appId);this.correctReq(params)}if(this.apz.isFunction(this.apz.app.postBuildData)){this.apz.app.postBuildData(params.req)}}this.sendReq(params)},getSessionFlag:function(params){var sessionDet="N";try{if(params.session){sessionDet=params.session}else{if(Object.keys(this.apz.internalInterfaces).indexOf(params.ifaceName)>-1){sessionDet=!apz.isNull(this.apz.internalInterfaces[params.ifaceName].session)?this.apz.internalInterfaces[params.ifaceName].session:"N"}else{if(params.apzIfaceName){var ifaceDet=this.apz.getIfaceObj(params.apzIfaceName,params.appId);if(!apz.isNull(ifaceDet)){sessionDet=!apz.isNull(ifaceDet.session)?ifaceDet.session:"Y"}}}}}catch(e){sessionDet="N"}return sessionDet},sendReq:function(params){params.url=this.apz.serverUrl;params.method="POST";if(this.apz.deviceOs=="WEB"){params.url="AppzillonWeb"}var reqFull={};reqFull.appzillonHeader=this.getHeader(params);reqFull.appzillonBody=params.req?params.req:{};params.reqFull=reqFull;if(this.apz.isFunction(this.apz.app.preRequestCall)){this.apz.app.preRequestCall()}var sessionFlag=apz.server.getSessionFlag(params);if(!this.apz.mockServer){var serverStatus=true;if(this.apz.offlineSupport=="Y"&&((sessionFlag=="Y"&&!apz.server.loginStatus)||apz.server.appSecToken!="Y")){this.fnServerAvailable(params)}else{var nsParam={params:params,runner:params.runner,runnerObj:params.runnerObj};nsParam.callBack=this.receiveSslRes;nsParam.callBackObj=this;this.apz.backUpReq(params);nsParam.reqId=params.id;if(nsParam.runner){if(nsParam.runnerObj){nsParam.runner.call(nsParam.runnerObj,nsParam)}else{nsParam.runner(nsParam)}}else{this.apz.ns.sendReq(nsParam)}}}else{params.status=true;var resJson={};if(!apz.isNull(params.resCode)){resJson=this.apz.getFile(this.apz.getMockRespPath(params.appId)+"/"+params.resCode+".json")}else{var ifaceName=this.apz.getIfaceName(params.ifaceName);resJson=this.apz.getFile(this.apz.getMockRespPath(params.appId)+"/"+ifaceName+".json")}params.resFull=JSON.parse(resJson);this.receiveRes(params)}},fnServerAvailable:function(params){var serverUp=true;$.ajax({url:params.url,type:"HEAD",async:false,timeout:1000,statusCode:{404:function(response){serverUp=false}},error:function(err){if(err.status==405){apz.server.postfnServerAvailable(params)}else{params.callbackrequired=true;params.status=false;params.code="APZ-SVR-ERR";apz.server.tankOfflineData(params)}}})},setAppSecToken:function(appSecToken){apz.server.appSecToken=appSecToken},setLoginStatus:function(loginStatus){apz.server.loginStatus=loginStatus},postfnServerAvailable:function(params){params.id=this.apz.getProcId();Apz.apzNativeServiceDet[params.id]=params;var nsReq={};nsReq.fwdData=params;nsReq.keepAlive=true;nsReq.id=this.apz.getProcId();this.offlineId=params.id;nsReq.callBack=this.postfnServerAvailableCB;nsReq.callBackObj=this;if(apz.server.appSecToken!="Y"){this.apz.ns.refreshServerNonce(nsReq)}else{nsReq.status=true;apz.server.postfnServerAvailableCB(nsReq)}},postfnServerAvailableCB:function(nsReq){var params=nsReq.fwdData;this.fwdDataBk=params;if(nsReq.status){this.setAppSecToken("Y");var sessionFlag=apz.server.getSessionFlag(params);if(sessionFlag=="Y"&&!apz.server.loginStatus&&this.apz.isFunction(this.apz.app.loginOnline)){this.apz.app.loginOnline({callBack:this.postLoginOnlineCallBack})}else{this.sendReq(params)}}else{params.callbackrequired=true;apz.server.tankOfflineData(params)}},postLoginOnlineCallBack:function(params){apz.server.setLoginStatus(params.status);if(apz.server.loginStatus==true&&apz.server.appSecToken=="Y"){apz.server.sendReq(apz.server.fwdDataBk)}else{apz.server.fwdDataBk.noTank=true;apz.server.fwdDataBk.status=false;apz.server.fwdDataBk.resFull=params.resFull;apz.server.receiveRes(apz.server.fwdDataBk)}},receiveSslRes:function(resp){var params=this.apz.copyJSONObjectWithFilter(resp.params,[],Apz.apzNativeServiceDet[resp.reqId]);delete Apz.apzNativeServiceDet[resp.reqId];if(!resp.status&&this.apz.isNull(params.callBack)){params.code="";if(resp.errorCode){apz.stopLoader();params.code=resp.errorCode}else{params.code=params.resFull.appzillonErrors.errors[0].errorCode}var ifaceObj=params.ifaceDet;if(!this.apz.isNull(ifaceObj)&&ifaceObj.offline=="Y"){this.tankOfflineData(params)}this.apz.dispMsg(params)}else{if(!apz.isNull(resp.errorCode)){var ifaceObj=params.ifaceDet;if(!this.apz.isNull(ifaceObj)&&ifaceObj.offline=="Y"){this.tankOfflineData(params)}params.status=false;params.code="";params.code=resp.errorCode;apz.stopLoader();this.apz.dispMsg(params)}else{this.receiveRes(params)}}},receiveRes:function(params){if(Apz.Audit&&params.auditLog){var log=params.auditLog;log.endTimeStamp=this.apz.getCurrTimeStamp();log.field1=params.appId?params.appId+"__"+params.ifaceName:this.apz.currAppId+"__"+params.ifaceName;log.field2="";log.field3="";log.field4="";log.field5="";this.apz.audit.auditLog(log)}if(params.status){if((this.apz.mockServer)){var resFullOrig=params.resFull;params.resFull={};params.resFull.appzillonHeader=this.getHeader(params);params.resFull.appzillonBody=resFullOrig}else{this.apz.sessionId=params.resFull.appzillonHeader.sessionId}params.res=params.resFull.appzillonBody;params.errors=params.resFull.appzillonErrors;this.processRes(params)}else{var ifaceObj=params.ifaceDet;if(!this.apz.isNull(ifaceObj)&&ifaceObj.offline=="Y"){this.tankOfflineData(params)}params.code="APZ-SVR-ERR";this.apz.dispMsg(params)}},tankOfflineData:function(params){var reqObj={};reqObj.appId=params.appId;reqObj.ifaceName=params.ifaceName;reqObj.ifaceJson=params.reqFull;reqObj.respJson="";reqObj.uploadStatus=params.status;reqObj.callId="";reqObj.status=params.status;var myObj=this.apz;try{if(myObj.isNull(apz.offline)){myObj.offline=new Apz.Offline(myObj)}if(!params.noTank&&!this.apz.isNull(params.ifaceDet)&&params.ifaceDet.offline=="Y"){if(params.status&&!myObj.isNull(myObj.offline.offlineRefNo)){reqObj.uploadStatus="SUCCESS";myObj.offline.persistOfflineData(reqObj)}else{if(myObj.isNull(myObj.offline.offlineRefNo)){reqObj.uploadStatus="FAILURE";myObj.offline.persistOfflineData(reqObj)}}}if(params.callbackrequired&&this.apz.isFunction(params.callBack)){if(params.callBackObj){params.callBack.call(params.callBackObj,params)}else{params.callBack(params)}}}catch(e){console.log("Problems with Offline Plugin"+e)}apz.stopLoader()},processRes:function(params){if(params.errors){if(params.errors[0]&&params.errors[0].errorCode=="APZ-SMS-EX-003"){params.errors[0].errorCode="$APZ-SMS-EX-003";var param={code:"APZ-SMS-EX-003"};param.callBack=this.apz.app.sessionTimeoutCallBack;this.apz.dispMsg(param)}}else{if(!params.internal){this.correctRes(params);this.updateResponse(params);if(params.paintResp=="Y"){var loadData=true;if(this.apz.isFunction(this.apz.app.preLoadData)){loadData=this.apz.app.preLoadData();if(this.apz.isNull(loadData)){loadData=true}}if(loadData){var ifaceName=this.apz.getIfaceName(params.ifaceName);this.apz.data.loadData(ifaceName,params.appId)}if(this.apz.isFunction(this.apz.app.postLoadData)){this.apz.app.postLoadData()}}}}if(this.apz.isFunction(params.callBack)){if(params.callBackObj){params.callBack.call(params.callBackObj,params)}else{params.callBack(params)}}},updateResponse:function(params){var rowdatapointer={};var updateRes=true;if(this.apz.isFunction(this.apz.app.preUpdateResponse)){updateRes=this.apz.app.preUpdateResponse(params);if(this.apz.isNull(updateRes)){updateRes=true}}if(updateRes){this.updateDataResponse(params.res)}if(this.apz.isFunction(this.apz.app.postUpdateResponse)){this.apz.app.postUpdateResponse()}},login:function(params){params.internal=true;params.ifaceName="appzillonReLoginRequest";this.apz.userId=params.userId;var req={};req.loginRequest={};req.loginRequest.appId=this.apz.appId;req.loginRequest.deviceId=this.apz.deviceId;req.loginRequest.sysDate=this.apz.getCurrTimeStamp();if(!params.scrsAccessType){params.scrsAccessType="N"}if(!params.ifacesAccessType){params.ifacesAccessType="N"}if(!params.controlsAccessType){params.controlsAccessType="N"}req.loginRequest.scrsAccessType=params.scrsAccessType;req.loginRequest.ifacesAccessType=params.ifacesAccessType;req.loginRequest.controlsAccessType=params.controlsAccessType;req.loginRequest.userId=params.userId;req.loginRequest.pwd=params.pwd;req.loginRequest.keepMeSignedIn=params.keepMeSignedIn||"N";params.req=req;params.userCallBackObj=params.callBackObj;params.userCallBack=params.callBack;params.callBackObj=this;params.callBack=this.loginCB;params.runnerObj=this.apz.ns;params.runner=this.apz.ns.login;this.sendReq(params)},loginCB:function(params){if(params.res&&params.res.loginResponse&&params.res.loginResponse.status){this.apz.store("LOGIN",this.apz.getCurrTimeStamp());this.setLoginStatus(params.res.loginResponse.status);this.populateUserDet(params.res.loginResponse.userDet);if(!this.apz.isNull(params.res.loginResponse.userDet)){this.populatePrivs(params.res.loginResponse.userDet.privs)}}if(this.apz.isFunction(params.userCallBack)){if(params.userCallBackObj){params.userCallBack.call(params.userCallBackObj,params)}else{params.userCallBack(params)}}},populateUserDet:function(userDet){if(userDet){this.apz.userId=userDet.id;this.apz.userName=userDet.name;this.apz.userExtId=userDet.extId;this.apz.userProfilePic=userDet.profilePic;this.apz.lastLogin=userDet.lastLogin;this.apz.loadUserPrefs(userDet)}},populatePrivs:function(privs){if(privs){this.apz.privs.scrsAccessType=privs.scrsAccessType;this.apz.privs.ifacesAccessType=privs.ifacesAccessType;this.apz.privs.controlsAccessType=privs.controlsAccessType;this.apz.privs.scrs=privs.scrs;this.apz.privs.ifaces=privs.ifaces;this.apz.privs.controls=privs.controls;if(!this.apz.privs.scrsAccessType){this.apz.privs.scrsAccessType="N"}if(!this.apz.privs.ifacesAccessType){this.apz.privs.ifacesAccessType="N"}if(!this.apz.privs.controlsAccessType){this.apz.privs.controlsAccessType="N"}if(!this.apz.privs.scrs){this.apz.privs.scrs=[]}if(!this.apz.privs.ifaces){this.apz.privs.ifaces=[]}if(!this.apz.privs.controls){this.apz.privs.controls=[]}}},applyPrivileges:function(){var proceed=true;if(this.apz.isFunction(this.apz.app.preapplyPrivileges)){proceed=this.apz.app.preapplyPrivileges();if(this.apz.isNull(proceed)){proceed=true}}if(proceed){var serverObj=this;$("[apzcontrol]").filter(function(){var controlID=this.attributes.apzcontrol.value;if(!serverObj.apz.isNull(controlID)){if(!serverObj.accessControl(controlID)){serverObj.blockControl(this)}}})}if(this.apz.isFunction(this.apz.app.postapplyPrivileges)){this.apz.app.postapplyPrivileges()}},accessControl:function(ctrlId){return this.hasPrivs(ctrlId,"controls")},accessInterfaces:function(ctrlId){return this.hasPrivs(ctrlId,"ifaces")},accessScreen:function(appId,scrId){appId=appId?appId:this.apz.currAppId;return this.hasPrivs(appId+"__"+scrId,"scrs")},hasPrivs:function(objId,objType){var alwdOrDisalowd;var grant=true;var type="9";if(objType=="scrs"){alwdOrDisalowd="scrsAccessType"}else{if(objType=="controls"){alwdOrDisalowd="controlsAccessType"}else{if(objType=="ifaces"){alwdOrDisalowd="ifacesAccessType"}}}try{type=this.apz.privs[alwdOrDisalowd]}catch(err){type="9"}if(type=="D"){if(this.containsArrayElm(this.apz.privs[objType],objId)){grant=false}}else{if(type=="A"){grant=false;if(this.containsArrayElm(this.apz.privs[objType],objId)){grant=true}}}return grant},containsArrayElm:function(obj,key){var exists=false;try{if($.inArray(key,obj)>-1){exists=true}}catch(e){if(obj.includes(key)){exists=true}}return exists},blockControl:function(obj){var tagName=obj.tagName;var lObj=$(obj);if(lObj.parent().hasClass("tabs")){lObj.addClass("sno");if(lObj.index()==0||(lObj.prev()&&!lObj.siblings().hasClass("current"))){if(lObj.next()){lObj.siblings().removeClass("current");lObj.removeClass("current");lObj.next().addClass("current")}}}else{if(lObj.hasClass("tabcontent")){lObj.addClass("sno");lObj.removeClass("visible");if(!lObj.siblings().hasClass("visible")&&lObj.next()){lObj.next().addClass("visible")}}else{if((obj.hasAttribute("readonly")||obj.hasAttribute("disabled")||tagName=="DIV"||tagName=="LI"||tagName=="SPAN")){lObj.addClass("sno")}else{lObj.attr("disabled","disabled");lObj.css("pointer-events","none")}}}},logout:function(params){if(Apz.Audit){this.apz.audit.clearAuditDetails()}params.internal=true;params.ifaceName="appzillonLogoutRequest";this.apz.userId=params.userId;if(!this.apz.isNull(this.apz.convui)){this.apz.convui=new Apz.ConvUI(this.apz)}var req={};req.logoutRequest={};req.logoutRequest.appId=this.apz.appId;req.logoutRequest.userId=params.userId;req.logoutRequest.deviceId=this.apz.deviceId;params.req=req;params.internal=true;params.userCallBackObj=params.callBackObj;params.userCallBack=params.callBack;params.callBackObj=this;params.callBack=this.logoutCB;this.sendReq(params)},logoutCB:function(params){if(params.res&&params.res.status&&this.apz.deviceOs!="WEB"){var nsReq={fwdData:params};nsReq.id=this.apz.getProcId();nsReq.callBackObj=this;nsReq.callBack=this.refreshServerNonceCB;apz.server.setLoginStatus(false);this.apz.ns.refreshServerNonce(nsReq)}else{if(this.apz.isFunction(params.userCallBack)){if(params.userCallBackObj){params.userCallBack.call(params.userCallBackObj,params)}else{params.userCallBack(params)}}}},refreshServerNonceCB:function(nsResp){var params=nsResp.fwdData;if(this.apz.isFunction(params.userCallBack)){if(params.userCallBackObj){params.userCallBack.call(params.userCallBackObj,params)}else{params.userCallBack(params)}}},changePassword:function(params){if(apz.val.validatePassword(params)){var req={};req.changePasswordRequest={};req.changePasswordRequest.appId=this.apz.appId;req.changePasswordRequest.deviceId=this.apz.deviceId;req.changePasswordRequest.userId=params.userId;req.changePasswordRequest.pwd=params.oldPassword;req.changePasswordRequest.newPassword=params.newPassword;req.changePasswordRequest.confirmPassword=params.confirmPassword;req.changePasswordRequest.sysDate=this.apz.getCurrTimeStamp();req.changePasswordRequest.hashKey1=this.apz.hashkey1;req.changePasswordRequest.hashKey2=this.apz.hashkey2;req.changePasswordRequest.callBack=params.callBack;req.changePasswordRequest.callBackObj=params.callBackObj;params.req=req;params.ifaceName="appzillonChangePassword";params.buildReq="N";params.internal=true;params.runnerObj=this.apz.ns;params.runner=this.apz.ns.changePassword;this.sendReq(params)}},correctReq:function(params){var ifaceName=this.apz.getIfaceName(params.apzIfaceName);var reqRoot=this.apz.getReqRoot(ifaceName);if(params.ifaceDet.type=="ISO8583"){this.apz.iso=new Apz.Iso(this.apz);this.apz.iso.convertRequest(params)}else{var reqd=params.ifaceDet.correctReq;if(reqd){for(var node in params.req){if(!this.apz.isNull(node)){var childNode=params.req[node];this.correctReqNode(ifaceName,params.req,reqRoot,childNode,node,params.appId)}}}}params.req=params.req[reqRoot]},correctReqNode:function(ifaceName,parentNode,parentName,node,name,appId){var type=this.apz.getDataType(node);var ifaceObj=this.apz.getIfaceObj(ifaceName,appId);if((type=="Object")||(type=="Array")){var extName="";var newObjStr="";var params={};params.iface=ifaceName;params.dml="REQ";params.node=name;var nodeId=this.apz.getNodeId(params);var nodeData=ifaceObj.nodesMap[nodeId];var newName=nodeData.extName;var nsAlias=nodeData.nsAlias;if(this.apz.isNull(newName)){newName=name}var args={};args.parentNode=parentNode;args.node=node;args.oldName=name;args.newName=newName;node=this.apz.renameNode(args);var noOfRecs=0;if(type=="Array"){noOfRecs=node.length}else{noOfRecs=1}for(var r=0;r<noOfRecs;r++){var arrMember=null;if(type=="Array"){arrMember=node[r]}else{arrMember=node}var memType=this.apz.getDataType(arrMember);if((memType=="Object")||(memType=="Array")){var childNode=null;for(var lnode in arrMember){if(!this.apz.isNull(lnode)){childNode=arrMember[lnode];this.correctReqNode(ifaceName,arrMember,name,childNode,lnode,appId)}}}}}else{var params={};params.iface=ifaceName;params.dml="REQ";params.node=parentName;var nodeId=this.apz.getNodeId(params);var elmId=this.apz.getElmId(nodeId,name);var nodeData=ifaceObj.nodesMap[nodeId];var newName=nodeData.elmsMap[elmId].extName;var nsAlias=nodeData.elmsMap[elmId].nsAlias;if(this.apz.isNull(newName)){newName=name}var args={};args.parentNode=parentNode;args.node=node;args.oldName=name;args.newName=newName;this.apz.renameNode(args)}},correctRes:function(params){if(!this.apz.isNull(params.res)){var ifaceName=this.apz.getIfaceName(params.apzIfaceName);var resRoot=this.apz.getResRoot(ifaceName);var copy=this.apz.copyJSONObject(params.res);this.apz.clearJSONObject(params.res);params.res[resRoot]=copy;if(params.ifaceDet.type=="ISO8583"){if(apz.isNull(this.apz.iso)){this.apz.iso=new Apz.Iso(this.apz)}this.apz.iso.convertResponse(params)}else{var reqd=params.ifaceDet.correctRes;if(reqd){for(var node in params.res){if(!this.apz.isNull(node)){var childNode=params.res[node];this.correctResNode(ifaceName,params.res,resRoot,childNode,node,null,params.appId)}}}}}},correctResNode:function(ifaceName,parentNode,parentName,node,name,parents,appId){var type=this.apz.getDataType(node);var extName="";if(this.apz.isNull(parents)){parents=node}else{parents=parents+"~"+node}var apzName=null;var ifaceObj=this.apz.getIfaceObj(ifaceName,appId);try{apzName=ifaceObj.extMap[parents]}catch(err){apzName=null}if(!this.apz.isNull(apzName)){if(node!=apzName){var newObjStr=JSON.stringify(node);parentNode[apzName]=JSON.parse(newObjStr);delete parentNode[node];node=parentNode[apzName]}if((type=="Object")||(type=="Array")){var params={};params.iface=ifaceName;params.dml="RES";params.node=apzName;var nodeId=this.apz.getNodeId(params);if(ifaceObj.nodesMap[nodeId].relType=="1:N"){if(type=="Object"){var newObjStr=JSON.stringify(node);var newArr=[];newArr[0]=JSON.parse(newObjStr);delete parentNode[apzName];parentNode[apzName]=newArr;node=parentNode[apzName];type="Array"}}var noOfRecs=0;if(type=="Array"){noOfRecs=node.length}else{noOfRecs=1}for(var r=0;r<noOfRecs;r++){var arrMemeber=null;if(type=="Array"){arrMemeber=node[r]}else{arrMemeber=node}var memType=this.apz.getDataType(arrMemeber);if((memType=="Object")||(memType=="Array")){var childNode=null;for(var lnode in arrMemeber){if(!this.apz.isNull(lnode)){childNode=arrMemeber[lnode];var childType=this.apz.getDataType(childNode);this.correctResNode(ifaceName,arrMemeber,name,childNode,lnode,parents,appId)}}}}}else{}}else{}},updateDataResponse:function(res){for(key in res){this.apz.data.scrdata[key]=res[key]}},fetchBeaconDetails:function(params){params.internal=true;params.ifaceName="appzillonFetchBeaconDetails";var req={};req.appzillonBeaconFetchRequest={};req.appzillonBeaconFetchRequest.appId=params.appId;params.req=req;this.sendReq(params)},insertBeaconDetails:function(params){params.internal=true;params.ifaceName="appzillonInsertBeacon";var req={};req.appzillonBeaconInsertRequest={};req.appzillonBeaconInsertRequest.appId=params.appId;req.appzillonBeaconInsertRequest.deviceId=params.deviceId;params.req=req;this.sendReq(params)},updateBeaconDetails:function(params){params.internal=true;params.ifaceName="appzillonUpdateBeaconDetails";var req={};req.appzillonBeaconUpdateRequest={};req.appzillonBeaconUpdateRequest.id=params.id;req.appzillonBeaconUpdateRequest.status=params.status;params.req=req;this.sendReq(params)},fetchPreviligeDetails:function(params){params.internal=true;params.ifaceName="appzillonFetchPrivilegeService";var req={};req.authorizationRequest={};req.authorizationRequest.appId=this.apz.appId;req.authorizationRequest.deviceId=this.apz.deviceId;req.authorizationRequest.userId=this.apz.userId;req.authorizationRequest.scrsAccessType=params.screensreqd;req.authorizationRequest.ifacesAccessType=params.interfacesreqd;req.authorizationRequest.controlsAccessType=params.controlsreqd;params.req=req;this.sendReq(params)},validateOTP:function(params){params.internal=true;params.ifaceName="appzillonValidateOTP";var req={};req.validateOtpRequest={};req.validateOtpRequest.otp=params.otp;params.req=req;this.sendReq(params)},validateandProcessOTP:function(params){params.internal=true;params.ifaceName="appzillonValNProcessIface";var req={};req.validateNProcessRequest={};req.validateNProcessRequest.RefNo=params.refno;req.validateNProcessRequest.otp=params.otp;params.req=req;this.sendReq(params)},fetchAugumentedRealityDetails:function(params){params.internal=true;params.ifaceName="appzillonFetchARDetails";var req={};req.fetchARDetails=params.ardetailsobj;req.fetchARDetails.appId=this.apz.appId;params.req=req;this.sendReq(params)},getAddress:function(){var reqStr={latlng:parseFloat(this.apz.latitude)+","+parseFloat(this.apz.longitude),key:apz.googleMapsKey};var myObj=this;$.ajax({url:"https://maps.googleapis.com/maps/api/geocode/json",data:reqStr,dataType:"json",success:function(res,status){myObj.apz.location={latitude:myObj.apz.latitude,longitude:myObj.apz.longitude};if(res.status=="OK"){var firstResult=res.results[0].address_components;for(var k=0;k<firstResult.length;k++){if(firstResult[k].types.indexOf("sublocality")>-1){myObj.apz.location.sublocality=firstResult[k].long_name}else{if(firstResult[k].types.indexOf("administrative_area_level_2")>-1){myObj.apz.location.admin_area_lvl_2=firstResult[k].long_name}else{if(firstResult[k].types.indexOf("administrative_area_level_1")>-1){myObj.apz.location.admin_area_lvl_1=firstResult[k].long_name}else{if(firstResult[k].types.indexOf("country")>-1){myObj.apz.location.country=firstResult[k].long_name}}}}}if(res.results[0].formatted_address){myObj.apz.location.formattedAddress=res.results[0].formatted_address}}else{console.log("Google Map returned with status:-"+res.status)}},error:function(obj,type){console.log("Google Maps Error:"+type);myObj.apz.location={latitude:myObj.apz.latitude,longitude:myObj.apz.longitude}}})},callInternalService:function(params){params.internal=true;params.ifaceDet={};if(Apz.Audit){var log={};log.action="SERVER";log.startTimeStamp=this.apz.getCurrTimeStamp();params.auditLog=log}this.sendReq(params)}};
////Appending Script  == >animations.js
Apz.Anim=function(apz){this.apz=apz;this.endEvents="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend"};Apz.Anim.prototype={animate:function(params){if(params.type=="PG"){this.animatePages(params)}else{this.animateDivs(params)}},fixFixedPortions:function(){$(".header").addClass("headerfix");$(".pagebody").addClass("bodyfix")},freeFixedPortions:function(){$(".header").removeClass("headerfix");$(".pagebody").removeClass("bodyfix")},setPagesForAnimation:function(params){window.scrollTo(0,0);this.fixFixedPortions();params.origClasses=[];params.origStyles=[];params.origClasses[params.oldDiv]=$("#"+params.oldDiv).attr("class");params.origClasses[params.newDiv]=$("#"+params.newDiv).attr("class");params.origClasses[params.body]="";if($("body").hasClass("apz-nav-stay-left")){$("body").removeClass("apz-nav-stay-left");params.origClasses[params.body]="apz-nav-stay-left"}if($("body").hasClass("apz-nav-stay-right")){$("body").removeClass("apz-nav-stay-right");params.origClasses[params.body]=params.origClasses[params.body]+" apz-nav-stay-right "}params.origStyles[params.oldDiv]=$("#"+params.oldDiv).attr("style");params.origStyles[params.newDiv]=$("#"+params.newDiv).attr("style");$("#pt-main").addClass("pt-perspective");$("#"+params.newDiv).addClass("pt-page");$("#"+params.oldDiv).addClass("pt-page pt-page-current");params.overflowx=document.getElementsByTagName("body")[0].style["overflow-x"];params.overflowy=document.getElementsByTagName("body")[0].style["overflow-y"];if(this.apz.isNull(params.overflowx)){params.overflowx.overflowx="auto"}if(this.apz.isNull(params.overflowy)){params.overflowy.overflowy="auto"}document.getElementsByTagName("body")[0].style.overflow="hidden";if(params.hideNewSideBar){$("div#"+pdiv+" .rolepage").each(function(Pelm,val){if($(this).hasClass("open-sidebar")){$(this).removeClass("open-sidebar");params.newSideBarHidden=true}})}},animatePages:function(params){this.setPagesForAnimation(params);this.fixFixedPortions();var myObj=this;var lclasses=this.getAnimationClasses(params.animation);var loutclass=lclasses[0];var linclass=lclasses[1];$("#"+params.newDiv).addClass("pt-page-current");$("#"+params.newDiv).removeClass("ssp sno");this.apz.readjustHeight();$("#"+params.oldDiv).addClass(loutclass).on(this.endEvents,function(){$("#"+params.oldDiv).off(myObj.endEvents);params.oldEnded=true;myObj.endOfPageAnimation(params)});$("#"+params.newDiv).addClass(linclass).on(this.endEvents,function(){$("#"+params.newDiv).off(myObj.endEvents);params.newEnded=true;myObj.endOfPageAnimation(params)})},endOfPageAnimation:function(params){if((params.oldEnded)&&(params.newEnded)){this.resetPages(params);this.apz.scrShowScreen(params)}},resetPages:function(params){$("#"+params.oldDiv).html("");$("#"+params.oldDiv).removeClass("pt-page pt-page-current");$("#"+params.newDiv).removeClass("pt-page pt-page-current");$("#"+params.oldDiv).removeAttr("class");$("#"+params.newDiv).removeAttr("class");$("#"+params.oldDiv).addClass(params.origClasses[params.oldDiv]);$("#"+params.newDiv).addClass(params.origClasses[params.newDiv]);$("#pt-main").removeAttr("class");if(params.newSideBarHidden){$("div#"+params.newDiv+" .rolepage").each(function(elm,val){$(this).addClass("open-sidebar")})}this.freeFixedPortions();document.getElementsByTagName("body")[0].style["overflow-x"]=params.overflowx;document.getElementsByTagName("body")[0].style["overflow-y"]=params.overflowy},fixDiv:function(div){try{var posStyle=$("#"+div).css("position");var pos={};pos.left=$("#"+div).position().left;pos.top=$("#"+div).position().top;pos.width=$("#"+div).width();pos.height=$("#"+div).height();if(pos.height==0){pos.height=1}pos.marginleft=$("#"+div).css("margin-left");pos.marginright=$("#"+div).css("margin-right");console.log("Pos Type :"+posStyle);if(posStyle!="absolute"){$("#"+div).addClass("apzposition");$("#"+div).css("width","100%");$("#"+div).css("left",pos.left+"px");$("#"+div).css("top",pos.top+"px");$("#"+div).css("height","3000px")}}catch(e){console.log("Error :"+e.message)}return pos},animateDivs:function(params){this.setDivsForAnimation(params);var myObj=this;$("#"+params.newDiv).removeClass("sno ssp");$("#"+params.oldDiv).removeClass("sno ssp");var lclasses=this.getAnimationClasses(params.animation);var loutclass=lclasses[0];var linclass=lclasses[1];$("#"+params.oldDiv).addClass(loutclass).on(this.endEvents,function(){$("#"+params.oldDiv).off(myObj.endEvents);params.oldEnded=true;if(params.newEnded){myObj.endOfDivAnimation(params)}});$("#"+params.newDiv).addClass(linclass).on(this.endEvents,function(){$("#"+params.newDiv).off(myObj.endEvents);params.newEnded=true;if(params.oldEnded){myObj.endOfDivAnimation(params)}})},setDivsForAnimation:function(params){params.parentDiv=document.getElementById(params.oldDiv).parentNode.id;params.origClasses=[];params.origStyles=[];params.origClasses[params.parentDiv]=$("#"+params.parentDiv).attr("class");params.origClasses[params.oldDiv]=$("#"+params.oldDiv).attr("class");params.origClasses[params.newDiv]=$("#"+params.newDiv).attr("class");params.origStyles[params.parentDiv]=$("#"+params.parentDiv).attr("style");params.origStyles[params.oldDiv]=$("#"+params.oldDiv).attr("style");params.origStyles[params.newDiv]=$("#"+params.newDiv).attr("style");this.fixDiv(params.oldDiv);this.fixDiv(params.newDiv);params.overflow=document.getElementsByTagName("body")[0].style.overflow;params.overflowx=document.getElementsByTagName("body")[0].style["overflow-x"];params.overflowy=document.getElementsByTagName("body")[0].style["overflow-y"];if(this.apz.isNull(params.overflow)){params.overflowx.overflow="auto"}if(this.apz.isNull(params.overflowx)){params.overflowx.overflowx="auto"}if(this.apz.isNull(params.overflowy)){params.overflowy.overflowy="auto"}$("#"+params.parentDiv).addClass("pt-sec-perspective");$("#"+params.newDiv).addClass("pt-sec pt-sec-current");$("#"+params.oldDiv).addClass("pt-sec pt-sec-current")},endOfDivAnimation:function(params){if((params.oldEnded)&&(params.newEnded)){this.resetDivs(params);if(params.type!="DIV"){this.apz.scrShowScreen(params)}}},resetDivs:function(params){for(var div in params.origClasses){if(!this.apz.isNull(div)){$("#"+div).removeAttr("class");$("#"+div).addClass(params.origClasses[div]);$("#"+div).attr("style","");$("#"+div).removeAttr("style");$("#"+div).attr("style",params.origStyles[div])}}document.getElementsByTagName("body")[0].style.overflow=params.overflow;document.getElementsByTagName("body")[0].style["overflow-x"]=params.overflowx;document.getElementsByTagName("body")[0].style["overflow-y"]=params.overflowy;$("#"+params.oldDiv).addClass("sno");$("#"+params.newDiv).removeClass("sno ssp")},getAnimationClasses:function(animation){var loutclass="";var linclass="";var lclasses=[];switch(animation){case 1:loutclass="pt-page-moveToLeft";linclass="pt-page-moveFromRight";break;case 2:loutclass="pt-page-moveToRight";linclass="pt-page-moveFromLeft";break;case 3:loutclass="pt-page-moveToTop";linclass="pt-page-moveFromBottom";break;case 4:loutclass="pt-page-moveToBottom";linclass="pt-page-moveFromTop";break;case 5:loutclass="pt-page-fade";linclass="pt-page-moveFromRight pt-page-ontop";break;case 6:loutclass="pt-page-fade";linclass="pt-page-moveFromLeft pt-page-ontop";break;case 7:loutclass="pt-page-fade";linclass="pt-page-moveFromBottom pt-page-ontop";break;case 8:loutclass="pt-page-fade";linclass="pt-page-moveFromTop pt-page-ontop";break;case 9:loutclass="pt-page-moveToLeftFade";linclass="pt-page-moveFromRightFade";break;case 10:loutclass="pt-page-moveToRightFade";linclass="pt-page-moveFromLeftFade";break;case 11:loutclass="pt-page-moveToTopFade";linclass="pt-page-moveFromBottomFade";break;case 12:loutclass="pt-page-moveToBottomFade";linclass="pt-page-moveFromTopFade";break;case 13:loutclass="pt-page-moveToLeftEasing pt-page-ontop";linclass="pt-page-moveFromRight";break;case 14:loutclass="pt-page-moveToRightEasing pt-page-ontop";linclass="pt-page-moveFromLeft";break;case 15:loutclass="pt-page-moveToTopEasing pt-page-ontop";linclass="pt-page-moveFromBottom";break;case 16:loutclass="pt-page-moveToBottomEasing pt-page-ontop";linclass="pt-page-moveFromTop";break;case 17:loutclass="pt-page-scaleDown";linclass="pt-page-moveFromRight pt-page-ontop";break;case 18:loutclass="pt-page-scaleDown";linclass="pt-page-moveFromLeft pt-page-ontop";break;case 19:loutclass="pt-page-scaleDown";linclass="pt-page-moveFromBottom pt-page-ontop";break;case 20:loutclass="pt-page-scaleDown";linclass="pt-page-moveFromTop pt-page-ontop";break;case 21:loutclass="pt-page-scaleDown";linclass="pt-page-scaleUpDown pt-page-delay300";break;case 22:loutclass="pt-page-scaleDownUp";linclass="pt-page-scaleUp pt-page-delay300";break;case 23:loutclass="pt-page-moveToLeft pt-page-ontop";linclass="pt-page-scaleUp";break;case 24:loutclass="pt-page-moveToRight pt-page-ontop";linclass="pt-page-scaleUp";break;case 25:loutclass="pt-page-moveToTop pt-page-ontop";linclass="pt-page-scaleUp";break;case 26:loutclass="pt-page-moveToBottom pt-page-ontop";linclass="pt-page-scaleUp";break;case 27:loutclass="pt-page-rotateRightSideFirst";linclass="pt-page-moveFromRight pt-page-delay200 pt-page-ontop";break;case 28:loutclass="pt-page-rotateLeftSideFirst";linclass="pt-page-moveFromLeft pt-page-delay200 pt-page-ontop";break;case 29:loutclass="pt-page-rotateTopSideFirst";linclass="pt-page-moveFromTop pt-page-delay200 pt-page-ontop";break;case 30:loutclass="pt-page-rotateBottomSideFirst";linclass="pt-page-moveFromBottom pt-page-delay200 pt-page-ontop";break;case 31:loutclass="pt-page-flipOutRight";linclass="pt-page-flipInLeft pt-page-delay500";break;case 32:loutclass="pt-page-flipOutLeft";linclass="pt-page-flipInRight pt-page-delay500";break;case 33:loutclass="pt-page-flipOutTop";linclass="pt-page-flipInBottom pt-page-delay500";break;case 34:loutclass="pt-page-flipOutBottom";linclass="pt-page-flipInTop pt-page-delay500";break;case 35:loutclass="pt-page-rotateFall pt-page-ontop";linclass="pt-page-scaleUp";break;case 36:loutclass="pt-page-rotateOutNewspaper";linclass="pt-page-rotateInNewspaper pt-page-delay500";break;case 37:loutclass="pt-page-rotatePushLeft";linclass="pt-page-moveFromRight";break;case 38:loutclass="pt-page-rotatePushRight";linclass="pt-page-moveFromLeft";break;case 39:loutclass="pt-page-rotatePushTop";linclass="pt-page-moveFromBottom";break;case 40:loutclass="pt-page-rotatePushBottom";linclass="pt-page-moveFromTop";break;case 41:loutclass="pt-page-rotatePushLeft";linclass="pt-page-rotatePullRight pt-page-delay180";break;case 42:loutclass="pt-page-rotatePushRight";linclass="pt-page-rotatePullLeft pt-page-delay180";break;case 43:loutclass="pt-page-rotatePushTop";linclass="pt-page-rotatePullBottom pt-page-delay180";break;case 44:loutclass="pt-page-rotatePushBottom";linclass="pt-page-rotatePullTop pt-page-delay180";break;case 45:loutclass="pt-page-rotateFoldLeft";linclass="pt-page-moveFromRightFade";break;case 46:loutclass="pt-page-rotateFoldRight";linclass="pt-page-moveFromLeftFade";break;case 47:loutclass="pt-page-rotateFoldTop";linclass="pt-page-moveFromBottomFade";break;case 48:loutclass="pt-page-rotateFoldBottom";linclass="pt-page-moveFromTopFade";break;case 49:loutclass="pt-page-moveToRightFade";linclass="pt-page-rotateUnfoldLeft";break;case 50:loutclass="pt-page-moveToLeftFade";linclass="pt-page-rotateUnfoldRight";break;case 51:loutclass="pt-page-moveToBottomFade";linclass="pt-page-rotateUnfoldTop";break;case 52:loutclass="pt-page-moveToTopFade";linclass="pt-page-rotateUnfoldBottom";break;case 53:loutclass="pt-page-rotateRoomLeftOut pt-page-ontop";linclass="pt-page-rotateRoomLeftIn";break;case 54:loutclass="pt-page-rotateRoomRightOut pt-page-ontop";linclass="pt-page-rotateRoomRightIn";break;case 55:loutclass="pt-page-rotateRoomTopOut pt-page-ontop";linclass="pt-page-rotateRoomTopIn";break;case 56:loutclass="pt-page-rotateRoomBottomOut pt-page-ontop";linclass="pt-page-rotateRoomBottomIn";break;case 57:loutclass="pt-page-rotateCubeLeftOut pt-page-ontop";linclass="pt-page-rotateCubeLeftIn";break;case 58:loutclass="pt-page-rotateCubeRightOut pt-page-ontop";linclass="pt-page-rotateCubeRightIn";break;case 59:loutclass="pt-page-rotateCubeTopOut pt-page-ontop";linclass="pt-page-rotateCubeTopIn";break;case 60:loutclass="pt-page-rotateCubeBottomOut pt-page-ontop";linclass="pt-page-rotateCubeBottomIn";break;case 61:loutclass="pt-page-rotateCarouselLeftOut pt-page-ontop";linclass="pt-page-rotateCarouselLeftIn";break;case 62:loutclass="pt-page-rotateCarouselRightOut pt-page-ontop";linclass="pt-page-rotateCarouselRightIn";break;case 63:loutclass="pt-page-rotateCarouselTopOut pt-page-ontop";linclass="pt-page-rotateCarouselTopIn";break;case 64:loutclass="pt-page-rotateCarouselBottomOut pt-page-ontop";linclass="pt-page-rotateCarouselBottomIn";break;case 65:loutclass="pt-page-rotateSidesOut";linclass="pt-page-rotateSidesIn pt-page-delay200";break;case 66:loutclass="pt-page-rotateSlideOut";linclass="pt-page-rotateSlideIn";break;case 67:loutclass="pt-page-scaleDownCenter";linclass="pt-page-scaleUpCenter pt-page-delay400";break}lclasses[0]=loutclass;lclasses[1]=linclass;return lclasses}};
////Appending Script  == >val.js
Apz.Val=function(apz){this.apz=apz;this.gblockdata=[]};Apz.Val.prototype={validateScreen:function(scr){var lresult=true;var lerror="";var lerrdet={};var lscrdiv="scr__"+this.apz.currAppId+"__"+scr+"__main";var lerrors=new Array();var myObj=this;var elmsValue=this.apz.scrMetaData.elms;$("#"+lscrdiv+" input").each(function(){if(this.type=="radio"){}else{if(this.classList.contains("pagination-input")){}else{if(this.type=="checkbox"){}else{if($(this).closest("tr").hasClass("ssp")){}else{lerror=myObj.validateInputAct(this,false);if(lerror!=false){lerrdet={},lerrdet.error=lerror;lerrdet.element=this;lerrors[lerrors.length]=lerrdet}var lid=this.getAttribute("id");if(lerrors.length>0){lresult=false}}}}}});$("#"+lscrdiv+" select").each(function(){if($(this).closest("tr").hasClass("ssp")){}else{lerror=myObj.validateInputAct(this,false);if(lerror!=false){lerrdet={},lerrdet.error=lerror;lerrdet.element=this;lerrors[lerrors.length]=lerrdet}var lid=this.getAttribute("id");if(lerrors.length>0){lresult=false}}});for(var i=0;i<elmsValue.length;i++){if(elmsValue[i].custom!="N"){var custObj=this.apz[elmsValue[i].type];var custDomObject=document.getElementById(elmsValue[i].id);if(!this.apz.isNull(custDomObject)&&$(custDomObject).is(":visible")&&$(custDomObject).css("display")!=="none"&&!$(custDomObject).closest("tr").hasClass("showspace")){if(custObj&&this.apz.isFunction(custObj.validateObj)){lerror=custObj.validateObj(custDomObject,elmsValue[i]);if(!this.apz.isNull(lerror)&&lerror!=false){lerrdet={},lerrdet.error=lerror;lerrdet.element=custDomObject;lerrors[lerrors.length]=lerrdet}}}else{var customErrors=[];var containerName=elmsValue[i].container;var containerData=myObj.apz.scrMetaData.containersMap[containerName];if(containerData.multiRec=="Y"){var obj={totalRecs:containerData.totalRecs,pageSize:containerData.pageSize,currentPage:containerData.currPage,totalPages:containerData.totalPages};if(obj.pageSize==999){customErrors=this.validateCustomElements(obj.totalRecs,elmsValue[i],custObj)}else{if(obj.currentPage>0&&obj.currentPage==obj.totalPages){var fixedPageSize=obj.totalRecs%obj.pageSize;fixedPageSize=(fixedPageSize==0)?1:fixedPageSize;customErrors=this.validateCustomElements(fixedPageSize,elmsValue[i],custObj)}else{customErrors=this.validateCustomElements(obj.totalRecs,elmsValue[i],custObj)}}}lerrors.concat(customErrors)}}}if(lerrors.length>0){lresult=false}return lresult},validateCustomElements:function(totalRecs,element,custObj){var lresult=true,lerror="";var custDomObject,lerrdet={},lerrors=[];for(var i=0;i<totalRecs;i++){custDomObject=document.getElementById(element.id+"_"+i);if(!this.apz.isNull(custDomObject)&&$(custDomObject).is(":visible")&&$(custDomObject).css("display")!=="none"&&!$(custDomObject).closest("tr").hasClass("showspace")){if(custObj&&this.apz.isFunction(custObj.validateObj)){lerror=custObj.validateObj(custDomObject,element);if(!this.apz.isNull(lerror)&&lerror!=false){lerrdet={},lerrdet.error=lerror;lerrdet.element=custDomObject;lerrors[lerrors.length]=lerrdet}}}}return lerrors},validateControl:function(params){var objId=params.id;var pinput=$("#"+objId)[0];var errMsg=this.validateInputAct(pinput,false);$input=$(pinput);var lid=this.apz.getObjIdWORowNumber(pinput);var elmObj=this.apz.scrMetaData.elmsMap[lid];var $inputParent=$input.parent();if(!this.apz.isNull(elmObj)&&elmObj.type=="DROPDOWN"&&pinput.tagName=="INPUT"){$inputParent=$input.parent().parent()}if(!apz.isNull(errMsg)){if(!apz.isNull(params.message)){desc=params.message}else{if(!apz.isNull(params.code)){desc=apz.msgs[this.apz.currAppId][params.code];desc=desc.substring(1)}else{errMsg=apz.msgs[this.apz.currAppId][errMsg];desc=errMsg.substring(1)}}if($input.closest("ul").hasClass("hrow")){$input.closest("li").addClass("vcn")}else{$input.parents(".srb").addClass("vcn")}$input.addClass("err");$inputParent.children(".vtx").remove();$inputParent.append('<p class="vtx">'+desc+"</p>")}else{if($input.closest("ul").hasClass("hrow")){$input.closest("li").removeClass("vcn")}else{$input.parents(".srb").removeClass("vcn")}if($inputParent[0].lastChild.tagName=="P"){$inputParent[0].removeChild($inputParent[0].lastChild)}}},validateContainer:function(contId){var lresult=true;var lerror="";var lerrdet={};var lerrors=new Array();var myObj=this;$("#"+contId+" input").each(function(){if(this.type=="radio"){}else{if(this.classList.contains("pagination-input")){}else{if(this.type=="checkbox"){}else{if($(this).closest("tr").hasClass("ssp")){}else{lerror=myObj.validateInputAct(this,false);if(lerror!=false){lerrdet={},lerrdet.error=lerror;lerrdet.element=this;lerrors[lerrors.length]=lerrdet}var lid=this.getAttribute("id");if(lerrors.length>0){lresult=false}}}}}});$("#"+contId+" select").each(function(){if($(this).closest("tr").hasClass("ssp")){}else{lerror=myObj.validateInputAct(this,false);if(lerror!=false){lerrdet={},lerrdet.error=lerror;lerrdet.element=this;lerrors[lerrors.length]=lerrdet}var lid=this.getAttribute("id");if(lerrors.length>0){lresult=false}}});return lresult},validateInput:function(pinput){return this.validateInputAct(pinput,true)},validateInputAct:function(pinput,ponline){var lresult=true;var lerror="";if(!this.apz.isNull(pinput)&&$(pinput).is(":visible")&&!$(pinput).closest("tr").hasClass("ssp")){var lid=this.apz.getObjIdWORowNumber(pinput);var elmObj=this.apz.scrMetaData.elmsMap[lid];if(elmObj!==undefined){var ldtype="STRING";var lmandatory="N";var isCustom="N";var isEmail="N";var isCamelCase=false;if(!this.apz.isNull(elmObj)){ldtype=elmObj.dataType;lmandatory=elmObj.mand;isCustom=elmObj.custom;isEmail=elmObj.email;if(elmObj.textdecoration&&elmObj.textdecoration=="C"){isCamelCase=true}}if(isCustom=="Y"){var custObj=this.apz[elmObj.type];if(custObj&&this.apz.isFunction(custObj.validateObj)){lerror=custObj.validateObj(pinput,elmObj)}}else{var inputVal=pinput.value;if(!this.apz.isNull(elmObj)&&elmObj.type=="DROPDOWN"){inputVal=this.apz.getObjValue(pinput)}if(!this.apz.isNull(inputVal)&&!this.apz.isNull(elmObj)){if((ldtype=="NUMBER"||ldtype=="INTEGER")){lerror=this.validateNumberObj(pinput,elmObj.displayAsLiteral)}else{if(ldtype=="DATE"){lerror=this.validateDateObj(pinput)}else{if(ldtype=="DATETIME"){lerror=this.validateDateTimeObj(pinput)}else{if(isEmail=="Y"){lerror=this.validateEmailObj(pinput)}else{if(isCamelCase){lerror=this.validateCamelCase(pinput)}else{lerror=this.validateStringObj(pinput)}}}}}}else{if(lmandatory=="Y"){lresult=false;lerror="APZ-VAL-001"}}}if(lerror!=""){if(!$(pinput).parent()[0].classList.contains("ssp")){this.addClass(pinput);if(!this.apz.isNull(elmObj)&&elmObj.type=="DROPDOWN"){$(pinput).parent("div").addClass("err")}if(ponline==true){var params={code:lerror};this.apz.dispMsg(params)}}}else{this.removeClass(pinput);if(!this.apz.isNull(elmObj)&&elmObj.type=="DROPDOWN"){$(pinput).parent("div").removeClass("err")}}}}return lerror},addClass:function(pobj){var ltagname=pobj.tagName;if(ltagname=="INPUT"){var lid=pobj.id;var ltype=$("#"+lid).attr("type");if(ltype=="hidden"){if(pobj.classList.contains("appzillon_date")){var lclasslist=document.getElementById(lid).nextSibling.nextElementSibling;lclasslist.className=lclasslist.className+"  err  "}}else{if(ltype=="checkbox"){}else{$(pobj).addClass("err")}}}else{if((ltagname=="LI")||(ltagname=="SELECT")||(ltagname=="TEXTAREA")||(ltagname=="DD")||(ltagname=="P")||(ltagname=="SPAN")||(ltagname=="A")){$(pobj).addClass("err")}}},removeClass:function(pobj){var ltagname=pobj.tagName;if(ltagname=="INPUT"){var lid=pobj.id;var ltype=$("#"+lid).attr("type");if(ltype=="hidden"){if(pobj.classList.contains("appzillon_date")){var lclasslist=document.getElementById(lid).nextSibling.nextElementSibling;lclasslist.className=lclasslist.className.replace("err","")}}else{if(ltype=="checkbox"){}else{$(pobj).removeClass("err")}}}else{if((ltagname=="LI")||(ltagname=="SELECT")||(ltagname=="TEXTAREA")||(ltagname=="DD")||(ltagname=="P")||(ltagname=="SPAN")||(ltagname=="A")){$(pobj).removeClass("err")}}},validateStringObj:function(pobj){var lerror="";var lvalue=this.apz.getObjValue(pobj);lerror=this.validateString(pobj,lvalue);return lerror},validateEmailObj:function(pobj){var emailPattern=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;var lvalue=this.apz.getObjValue(pobj);var lresult=emailPattern.test(lvalue);var lerror="";if(!lresult){lerror="APZ-CNT-128"}return lerror},validateCamelCase:function(pobj){var lvalue=this.apz.getObjValue(pobj);var charArr=lvalue.split(" ");var lresult=true;var lerror="";for(var i=0;i<charArr.length;i++){if(charArr[i].length>0){if(charArr[i][0]==charArr[i][0].toUpperCase()){lresult=false;break}}}if(!lresult){lerror="APZ-CNT-128"}return lerror},validateString:function(pobj,pval){var lerror="";var checkvalString=true;var lid=this.apz.getObjIdWORowNumber(pobj);if(this.apz.isFunction(this.apz.app.preValidateString)){checkvalString=this.apz.app.preValidateString(pval);if(this.apz.isNull(checkvalString)){checkvalString=true}}if(checkvalString){var lresult=true;var lelemobj=this.apz.scrMetaData.elmsMap[lid];if(!this.apz.isNull(lelemobj)){var lmaxlength=lelemobj.maxLen;var lminlength=lelemobj.minLen;var lpattern=lelemobj.pattern;if(!this.apz.isNull(pval)){if(lresult==true){if(!this.apz.isNull(lmaxlength)){if(pval.length>lmaxlength){lresult=false;lerror="APZ-VAL-002"}}}if(lresult==true){if(!this.apz.isNull(lminlength)){if(pval.length<lminlength){lresult=false;lerror="APZ-VAL-003"}}}if(lresult==true){if(!this.apz.isNull(lpattern)){lpattern=this.apz.replaceAll({string:lpattern,key:"/",replaceData:""});var lregex=new RegExp(lpattern);try{if(!lregex.test(pval)){lresult=false;lerror="APZ-CNT-128"}}catch(err){lresult=false;lerror="APZ-CNT-128"}}}}}}if(this.apz.isFunction(this.apz.app.postValidateString)){this.apz.app.postValidateString(pobj)}return lerror},validateNumberObj:function(pobj,displayAsLiteral){var lerror="";var lvalue=this.apz.getObjValue(pobj);lerror=this.validateNumber(pobj,lvalue,displayAsLiteral);return lerror},validateNumber:function(pobj,pval,displayAsLiteral){var lerror="";var lresult=true;var lcheckvalnumber=true;var lid=this.apz.getObjIdWORowNumber(pobj);if(this.apz.isFunction(this.apz.app.preValidateNumber)){lcheckvalnumber=this.apz.app.preValidateNumber(pobj);if(this.apz.isNull(lcheckvalnumber)){lcheckvalnumber=true}}if(lcheckvalnumber){var lelemobj=this.apz.scrMetaData.elmsMap[lid];if(!this.apz.isNull(lelemobj)){var lminval=lelemobj.minVal;var lmaxval=lelemobj.maxVal;var lminlen=lelemobj.minLen;var lmaxlen=lelemobj.maxLen;var ldtype=lelemobj.dataType;var unformatedNumber;if(!this.apz.isNull(pval)){if(ldtype=="NUMBER"){lresult=this.isNumber(pval,displayAsLiteral)}else{lresult=this.isInt(pval,displayAsLiteral)}if(!lresult){lerror="APZ-VAL-010";lresult="false"}else{lmaxval=parseInt(lmaxval);lminval=parseInt(lminval);var params={};params.value=pval;params.displayAsLiteral=lelemobj.displayAsLiteral;params.decimalSep=this.apz.decimalSep;unformatedNumber=this.apz.unFormatNumber(params)}}if(lresult==true){if(!this.apz.isNull(lminval)){if(unformatedNumber<lminval){lresult=false;lerror="APZ-VAL-006"}}}if(lresult==true){if(!this.apz.isNull(lmaxval)){if(unformatedNumber>lmaxval){lresult=false;lerror="APZ-VAL-005"}}}if(lresult==true){if(!this.apz.isNull(lminlen)){if(unformatedNumber.length<lminlen){lresult=false;lerror="APZ-VAL-006"}}}if(lresult==true){if(!this.apz.isNull(lmaxlen)){if(unformatedNumber.length>lmaxlen){lresult=false;lerror="APZ-VAL-005"}}}}}if(this.apz.isFunction(this.apz.app.postValidateNumber)){this.apz.app.postValidateNumber(pobj)}return lerror},validateDateObj:function(pobj){var lerror="";var lvalue=this.apz.getObjValue(pobj);lerror=this.validateDate(pobj,lvalue);return lerror},validateDate:function(pobj,pval){var lerror="";var checkValDate=true;if(this.apz.isFunction(this.apz.app.preValidateDate)){checkValDate=this.apz.app.preValidateDate(pobj);if(this.apz.isNull(checkValDate)){checkValDate=true}}if(checkValDate){var lresult=true;if(!this.apz.isNull(pval)){var luserformat=this.apz.dateFormat;var lcheckdate=this.isDate(pval,luserformat);if(!lcheckdate){lresult=false;lerror="APZ-VAL-008"}}}if(this.apz.isFunction(this.apz.app.postValidateDate)){this.apz.app.postValidateDate(pobj)}return lerror},validateDateTimeObj:function(pobj){var lerror="";var lvalue=this.apz.getObjValue(pobj);lerror=this.validateDateTime(pobj,lvalue);return lerror},validateDateTime:function(pobj,pval){var lerror="";var lresult=true;var lcheckvaldate=true;if(this.apz.isFunction(this.apz.app.preValidateDateTimeObj)){lcheckvaldate=this.apz.app.preValidateDateTimeObj(pobj);if(this.apz.isNull(lcheckvaldate)){lcheckvaldate=true}}if(lcheckvaldate){if(!this.apz.isNull(pval)){var luserformat=this.apz.dateTimeFormat;var lcheckdate=this.isDate(pval,luserformat);if(!lcheckdate){lresult=false;lerror="APZ-VAL-008"}}}if(this.apz.isFunction(this.apz.app.postValidateDateTimeObj)){this.apz.app.postValidateDateTimeObj(pobj)}return lerror},isInt:function(pvalue,displayAsLiteral){var lchecknumber=this.isNumber(pvalue,displayAsLiteral);var lerror=false;var lvalue=pvalue;var linteger="";if(lchecknumber){linteger=lvalue.toString().indexOf(".");if(linteger===-1){lerror=true}}return lerror},isFloat:function(pvalue,displayAsLiteral){var lchecknumber=this.isNumber(pvalue,displayAsLiteral);var lerror=false;var lvalue=pvalue;var lfloat="";if(lchecknumber){lfloat=lvalue.toString().indexOf(".");if(lfloat!=-1){lerror=true}}return lerror},isNumber:function(pvalue,displayAsLiteral){var params={};params.value=pvalue;params.decimalSep=this.apz.decimalSep;params.displayAsLiteral=displayAsLiteral;var lval=this.apz.unFormatNumber(params);var lerror=false;try{if($.isNumeric(lval)){lerror=true}}catch(err){lerror=false}return lerror},isString:function(pvalue){var lerror=false;if($.type(pvalue).toLowerCase()=="string"){lerror=true}return lerror},isDate:function(pvalue,pdateformat){var lerror=false;try{var dateValueArr=pvalue.split(" - ");if(dateValueArr.length==2){var ldatecheck1=Date.parseExact(dateValueArr[0],pdateformat);var ldatecheck2=Date.parseExact(dateValueArr[1],pdateformat);if(!this.apz.isNull(ldatecheck1)&&!this.apz.isNull(ldatecheck2)){lerror=true}}else{var ldatecheck=Date.parseExact(pvalue,pdateformat);if(!this.apz.isNull(ldatecheck)){lerror=true}}}catch(err){lerror=false}return lerror},validatePassword:function(args){var lreturn=true;var params={};if(this.apz.isNull(args.newPassword)){params.code="APZ-SVR-PNL";this.apz.dispMsg(params);lreturn=false}else{if(this.apz.isNull(args.confirmPassword)){params.code="APZ-SVR-PNL";this.apz.dispMsg(params);lreturn=false}else{if(this.apz.isNull(args.oldPassword)){params.code="APZ-SVR-PNL";this.apz.dispMsg(params);lreturn=false}else{if(args.oldPassword==args.newPassword){params.code="APZ-PSW-RULE";this.apz.dispMsg(params);lreturn=false}else{if(args.newPassword!=args.confirmPassword){params.code="APZ-SVR-PNC";this.apz.dispMsg(params);lreturn=false}}}}}return lreturn}};
////Appending Script  == >ns.js  
Apz.Ns=function(apz){this.apz=apz;this.safeToken="";this.sessionToken="";this.serverNonce="";this.counter=0;this.publicKey="";require.config({urlArgs:"bust="+(new Date()).getTime()})};Apz.Ns.prototype={callNative:function(req){try{var res={};res.id=req.id;var params={message:"Plugin not supported for Simulator"};params.callBack=req.callBack;params.callBackObj=req.callBackObj;this.apz.dispMsg(params)}catch(e){console.log(e)}},changePassword:function(req){var params=req.params;var changePwdReq=params.req.changePasswordRequest;changePwdReq.newPassword=apzIde.encryptData(changePwdReq.newPassword);if(this.apz.authenticationType=="#DeviceId"){try{changePwdReq.pwd=apzIde.hashPwd(changePwdReq.userId,changePwdReq.pwd,this.apz.serverToken,this.apz.deviceId,changePwdReq.sysDate)}catch(e){alert("Hashing Failed in Change Password")}}this.sendReq(req)},log:function(msg,type){if(typeof apzIde!=="undefined"){apzIde.log(msg)}else{console.log(msg)}},login:function(req){if(this.apz.isNull(req.params.bioMetAuth)&&req.params.bioMetAuth==="Y"){this.callNative(req)}else{if(this.apz.authenticationType=="#DeviceId"){var params=req.params;var hash=params.pwd;try{hash=apzIde.hashPwd(params.userId,params.pwd,this.apz.serverToken,this.apz.deviceId,params.req.loginRequest.sysDate)}catch(e){alert("Login Hashing Failed")}params.pwdOrig=params.pwd;params.req.loginRequest.pwd=hash}this.sendReq(req)}},getDeviceInfo:function(req){this.apz.initNativeService(req);var ideSim=false;if(typeof apzIde!=="undefined"){ideSim=true}var res={};res.id=req.id;res.status=true;res.status=true;res.deviceType="SIMULATOR";res.deviceOs="SIMULATOR";res.deviceId="SIMULATOR";if(ideSim){res.screenPpi=apzIde.getScreenPpi();res.screenSize=apzIde.getScreenSize()}else{res.screenPpi=160;res.screenSize=this.apz.getScreenWidth()+"X"+this.apz.getScreenHeight()}this.apz.deviceOs=res.deviceOs;this.apz.screenSize=res.screenSize;this.apz.screenPpi=res.screenPpi;res.deviceGroup=this.apz.getDeviceGroup();res.orientation=this.apz.deviceGroupDet.orientation;res.lockRotation=true;if(res.orientation=="ANY"){res.lockRotation=false}if(ideSim){apzIde.setDeviceGroup(res.deviceGroup);res.orientation=apzIde.getOrientation()}else{res.orientation="PORTRAIT"}if(ideSim){apzIde.showSimulator()}Apz.nativeServiceCB(JSON.stringify(res))},getUserPrefs:function(req){this.apz.initNativeService(req);var res={};res.id=req.id;res.userPrefs=null;Apz.nativeServiceCB(JSON.stringify(res))},getLocation:function(req){this.apz.initNativeService(req);var res={};res.id=req.id;res.status=true;try{navigator.geolocation.getCurrentPosition(function(position){res.latitude=position.coords.latitude.toString();res.longitude=position.coords.longitude.toString();Apz.nativeServiceCB(JSON.stringify(res))},function(error){res.latitude="0";res.longitude="0";Apz.nativeServiceCB(JSON.stringify(res))})}catch(e){this.callNative(res)}},encryptData:function(req){this.apz.initNativeService(req);var res={};res.id=req.id;res.status=true;var encryptedStr=req.stringToEncrypt;try{encryptedStr=apzIde.encryptData(req.stringToEncrypt)}catch(e){res.status=false}res.text=encryptedStr;Apz.nativeServiceCB(JSON.stringify(res))},decryptData:function(req){this.apz.initNativeService(req);var res={};res.id=req.id;res.status=true;var decryptedStr=req.stringToDecrypt;try{decryptedStr=apzIde.decryptData(req.stringToDecrypt)}catch(e){res.status=false}res.text=decryptedStr;Apz.nativeServiceCB(JSON.stringify(res))},refreshServerNonce:function(params){params.id="CSNONCE";params.internal=true;params.ifaceName="appzillonGetAppSecTokens";params.ifaceId="appzillonGetAppSecTokens";if(!params.callBack){params.callBack=this.refreshServerNonceCB;params.callBackObj=this}this.apz.initNativeService(params);var internalErr=false;if(!this.apz.isNull(typeof apzIde)&&!apzIde.isMockEnabled()){var reqFull={};if(this.apz.isNull(params.id)){params.id="CSNONCE"}reqFull.appzillonHeader=this.apz.server.getHeader(params);var request={};request.appzillonGetAppSecTokensRequest={};request.appzillonGetAppSecTokensRequest.appId=this.apz.appId;request.appzillonGetAppSecTokensRequest.deviceId="SIMULATOR";reqFull.appzillonBody=request;params.reqFull=reqFull;var url=apzIde.getServerUrl();var encReqd=apzIde.isEncryptionReqd();url=url.replace("https://","http://");if(encReqd=="Y"){var safeKey=Math.random().toString(36).substr(2,8)+Math.random().toString(36).substr(2,8);this.publicKey=this.apz.getFile("apps/"+this.apz.appId+"/rsakeys/"+this.apz.appId+"_Public.key");reqFull.appzillonSafe=apzIde.encryptWithPublicKey(safeKey,this.apz.encryptionKeyFileName);reqFull.appzillonHeader=apzIde.encryptWithKey(JSON.stringify(reqFull.appzillonHeader),safeKey);reqFull.appzillonBody=apzIde.encryptWithKey(JSON.stringify(reqFull.appzillonBody),safeKey);if(this.apz.isNull(reqFull.appzillonHeader)||this.apz.isNull(reqFull.appzillonBody)){internalErr=true}}if(!internalErr){var reqStr=JSON.stringify(reqFull);var nsObj=this;$.ajax({url:url,type:"POST",cache:false,data:reqStr,contentType:"application/json",dataType:"json",async:false,success:function(res){params.status=true;nsObj.counter=0;if(encReqd=="Y"){var safeKey=apzIde.decryptWithPublicKey(res.appzillonSafe,nsObj.publicKey);var decrypHeader=apzIde.decryptWithKey(res.appzillonHeader,safeKey);var decrypBody=apzIde.decryptWithKey(res.appzillonBody,safeKey);if(res.appzillonErrors){var decrypErrors=apzIde.decryptWithKey(res.appzillonErrors,safeKey);if(nsObj.apz.isNull(decrypErrors)){internalErr=true}else{res.appzillonErrors=JSON.parse(decrypErrors)}}if(nsObj.apz.isNull(decrypHeader)||nsObj.apz.isNull(decrypBody)){internalErr=true}else{res.appzillonHeader=JSON.parse(decrypHeader);res.appzillonBody=JSON.parse(decrypBody)}}var appTokn=res.appzillonBody.appzillonGetAppSecTokensResponse;if(appTokn){nsObj.safeToken=res.appzillonBody.appzillonGetAppSecTokensResponse.safeToken;nsObj.sessionToken=res.appzillonBody.appzillonGetAppSecTokensResponse.sessionToken;nsObj.serverNonce=res.appzillonBody.appzillonGetAppSecTokensResponse.serverNonce}if(internalErr){params.status=false;res.appzillonErrors=[{errorCode:"APZ-CNT-330"}]}params.resFull=res;Apz.nativeServiceCB(JSON.stringify(params))},error:function(res){params.status=false;Apz.nativeServiceCB(JSON.stringify(params))}})}else{params.status=false;params.resFull={appzillonErrors:[{errorCode:"APZ-CNT-330"}]};params.errorCode="APZ-CNT-330";Apz.nativeServiceCB(params)}}else{params.status=true;Apz.nativeServiceCB(params)}},refreshServerNonceCB:function(params){if(!params.status){this.apz.dispMsg({message:"Failed to get Server Nonce"})}},hashSHA256:function(req){this.apz.initNativeService(req);var hash="";try{hash=apzIde.hashSHA256(req.body.text,req.body.salt)}catch(e){}var res={};res.id=req.id;res.status=true;res.text=hash;Apz.nativeServiceCB(JSON.stringify(res))},hashPwd:function(){},showSplash:function(req){},hideSplash:function(req){},startOrientationListener:function(req){this.apz.initNativeService(req)},nativeServiceExt:function(req){this.callNative(req)},openCamera:function(req){this.callNative(req)},startBeacon:function(req){this.callNative(req)},stopBeacon:function(req){this.callNative(req)},callNumber:function(req){this.callNative(req)},base64ToFile:function(req){this.callNative(req)},scanFinger:function(req){this.callNative(req)},openUrl:function(req){this.callNative(req)},fileToBase64:function(req){this.callNative(req)},getFileSize:function(req){this.callNative(req)},launchWebview:function(req){this.callNative(req)},closeWebview:function(req){this.callNative(req)},getInboxSMS:function(req){this.callNative(req)},setRingtone:function(req){this.callNative(req)},startCallListener:function(req){this.callNative(req)},getMissedCalls:function(req){this.callNative(req)},zip:function(req){this.callNative(req)},unzip:function(req){this.callNative(req)},startAccelerometer:function(req){this.callNative(req)},stopAccelerometer:function(req){this.callNative(req)},scanBarcode:function(req){this.callNative(req)},createCalendarEvent:function(req){this.callNative(req)},editCalendarEvent:function(req){this.callNative(req)},deleteCalendarEvent:function(req){this.callNative(req)},startCompass:function(req){this.callNative(req)},stopCompass:function(req){this.callNative(req)},executeSql:function(req){this.callNative(req)},deviceDetails:function(req){this.callNative(req)},startBatteryMonitor:function(req){this.callNative(req)},stopBatteryMonitor:function(req){this.callNative(req)},encryptFile:function(req){this.callNative(req)},decryptFile:function(req){this.callNative(req)},geofencing:function(req){this.callNative(req)},startLocationTracking:function(req){this.callNative(req)},stopLocationTracking:function(req){this.callNative(req)},startGesture:function(req){this.callNative(req)},stopGesture:function(req){this.callNative(req)},fileBrowser:function(req){this.callNative(req)},getFileContent:function(req){this.callNative(req)},createFile:function(req){this.callNative(req)},deleteFile:function(req){this.callNative(req)},openFile:function(req){this.callNative(req)},sendMail:function(req){this.callNative(req)},addContact:function(req){this.callNative(req)},deleteContact:function(req){this.callNative(req)},searchContact:function(req){this.callNative(req)},editContact:function(req){this.callNative(req)},fetchContact:function(req){this.callNative(req)},drivingDirection:function(req){this.callNative(req)},loadMap:function(req){this.callNative(req)},locationSelector:function(req){this.callNative(req)},currentLocale:function(req){this.callNative(req)},saveReport:function(req){this.callNative(req)},sendReq:function(req){this.apz.initNativeService(req);var params=req.params;var reqFull=params.reqFull;this.counter=this.counter+1;reqFull.appzillonHeader.clientNonce=this.counter;reqFull.appzillonHeader.sessionToken=this.sessionToken;reqFull.appzillonHeader.serverNonce=this.serverNonce;var url=params.url.replace("https://","http://");var encReq=null;var internalErr=false;var resObj=req;resObj.params={id:params.id,reqId:params.reqId};if(this.apz.encryption=="Y"){encReq={};encReq.appzillonSafe=apzIde.encryptWithPublicKey(this.safeToken,this.publicKey);encReq.appzillonHeader=apzIde.encryptWithKey(JSON.stringify(reqFull.appzillonHeader),this.safeToken);encReq.appzillonBody=apzIde.encryptWithKey(JSON.stringify(reqFull.appzillonBody),this.safeToken);if(this.apz.isNull(encReq.appzillonSafe)||this.apz.isNull(encReq.appzillonHeader)||this.apz.isNull(encReq.appzillonBody)){internalErr=true}}if(this.apz.dataIntegrity=="Y"){var apzQopStr=apzIde.getQualityOfPayload(JSON.stringify(params.reqFull),this.counter,this.serverNonce);var apzQOP={appzillonQop:apzQopStr};encReq=$.extend({},apzQOP,(encReq||params.reqFull));if(this.apz.isNull(apzQopStr)){internalErr=true}}if(!internalErr){var reqStr=encReq?JSON.stringify(encReq):JSON.stringify(params.reqFull);var nsObj=this;$.ajax({url:url,type:params.method,cache:false,data:reqStr,contentType:"application/json",dataType:"json",async:params.async,success:function(res){resObj.params.status=true;req.status=true;var resFull=null;var encStr="";if(nsObj.apz.encryption=="Y"){resFull={};var decrypSafeToken=apzIde.decryptWithPublicKey(res.appzillonSafe,nsObj.publicKey);var decrypHeader=apzIde.decryptWithKey(res.appzillonHeader,decrypSafeToken);var decrypBody=apzIde.decryptWithKey(res.appzillonBody,decrypSafeToken);var decrErrors="";if(res.appzillonErrors){decrErrors=apzIde.decryptWithKey(res.appzillonErrors,decrypSafeToken);if(nsObj.apz.isNull(decrErrors)){internalErr=true}else{resFull.appzillonErrors=JSON.parse(decrErrors)}}nsObj.safeToken=decrypSafeToken;if(nsObj.apz.isNull(decrypSafeToken)||nsObj.apz.isNull(decrypHeader)||nsObj.apz.isNull(decrypBody)){internalErr=true}else{try{resFull.appzillonHeader=JSON.parse(decrypHeader);resFull.appzillonBody=JSON.parse(decrypBody)}catch(e){resFull.appzillonBody={}}}if(!internalErr){if(!nsObj.apz.isNull(decrErrors)){encStr='{"appzillonHeader":"'+decrypHeader+'","appzillonBody":"'+decrypBody+'","appzillonErrors":"'+decrErrors+'"}'}else{encStr='{"appzillonHeader":'+decrypHeader+',"appzillonBody":'+decrypBody+"}"}}}if(nsObj.apz.dataIntegrity=="Y"){var sQop=res.appzillonQop;delete res.appzillonQop;var cQop="";if(!nsObj.apz.isNull(encStr)){cQop=apzIde.getQualityOfPayload(encStr,nsObj.counter,nsObj.serverNonce)}else{cQop=sQop}if(cQop!=sQop){internalErr=true}}resObj.params.resFull=resFull||res;if(internalErr){req.status=false;resObj.params.resFull.appzillonErrors=[{errorCode:"APZ-CNT-330"}]}Apz.nativeServiceCB(req)},error:function(res){resObj.status=true;resObj.params.status=false;Apz.nativeServiceCB(req)}})}else{resObj.status=false;resObj.params.resFull={appzillonErrors:[{errorCode:"APZ-CNT-330"}]};Apz.nativeServiceCB(req)}},signaturePad:function(req){this.callNative(req)},facebookLogin:function(req){this.callNative(req)},googleLogin:function(req){this.callNative(req)},linkedinLogin:function(req){this.callNative(req)},twitterLogin:function(req){this.callNative(req)},youtube:function(req){this.callNative(req)},startIdleTimer:function(req){this.callNative(req)},lockRotation:function(req){this.callNative(req)},unlockRotation:function(req){this.callNative(req)},setOrientation:function(req){this.callNative(req)},vibrate:function(req){this.callNative(req)},voiceToText:function(req){this.callNative(req)},detectEvents:function(req){this.callNative(req)},wipeOut:function(req){this.callNative(req)},getIP:function(req){this.callNative(req)},getAppVersion:function(req){this.callNative(req)},closeApplication:function(req){this.callNative(req)},multiviewOpen:function(req){this.callNative(req)},multiviewClose:function(req){this.callNative(req)},captureNotes:function(req){this.callNative(req)},enablePullDown:function(req){this.callNative(req)},disablePullDown:function(req){this.callNative(req)},hideRefresh:function(req){this.callNative(req)},startAugmentation:function(req){this.callNative(req)},reloadAugmentation:function(req){this.callNative(req)},videoRecording:function(req){this.callNative(req)},audio:function(req){this.callNative(req)},getNotification:function(req){this.callNative(req)},deleteNotification:function(req){this.callNative(req)},updateNotification:function(req){this.callNative(req)},launchApp:function(req){this.callNative(req)},subappDelete:function(req){this.callNative(req)},getInstructions:function(req){this.callNative(req)},upgradeRequired:function(req){this.callNative(req)},upgradeApp:function(req){this.callNative(req)},setUserPrefs:function(req){this.callNative(req)},offlineData:function(req){this.callNative(req)},smsSend:function(req){this.callNative(req)},startSMSListener:function(req){this.callNative(req)},stopSMSListener:function(req){this.callNative(req)},store:function(req){this.callNative(req)},retrieve:function(req){this.callNative(req)},startKeyboardListener:function(req){this.callNative(req)},stopKeyboardListener:function(req){this.callNative(req)},startNotificationListener:function(req){this.callNative(req)},stopNotificationListener:function(req){this.callNative(req)},getPref:function(req){this.callNative(req)},setPref:function(req){this.callNative(req)},callNativeCBwithErrorCode:function(req){this.callNative(req)},biometricAuth:function(req){this.callNative(req)},whatsApp:function(req){this.callNative(req)},getSimInfo:function(req){this.callNative(req)},sendSmsBySID:function(req){this.callNative(req)},documentScanner:function(req){this.callNative(req)},uploadFile:function(req){this.callNative(req)},downloadFile:function(req){this.callNative(req)},sendNFC:function(req){this.callNative(req)},receiveNFC:function(req){this.callNative(req)},stopNFC:function(req){this.callNative(req)},readFile:function(req){this.callNative(req)},printFile:function(req){this.callNative(req)},printScreen:function(req){this.callNative(req)},makeSkypeCall:function(req){this.callNative(req)},deepLinking:function(req){this.callNative(req)},detectDocument:function(req){this.callNative(req)},selfieCapture:function(req){this.callNative(req)},processImage:function(req){this.callNative(req)},getCallLogs:function(req){this.callNative(req)},startBarcodeScan:function(req){this.callNative(req)},stopBarcodeScan:function(req){this.callNative(req)},barcodeFromGallery:function(req){this.callNative(req)},multiviewResize:function(req){this.callNative(req)},startRealTimeTrackLocation:function(req){this.callNative(req)},stopRealTimeTrackLocation:function(req){this.callNative(req)},textToSpeech:function(req){this.callNative(req)},generatePDF:function(req){this.callNative(req)},initializePDF:function(req){this.callNative(req)},addPDFContent:function(req){this.callNative(req)},genBarcode:function(req){this.callNative(req)},storeSecurely:function(req){this.callNative(req)},retrieveSecurely:function(req){this.callNative(req)},storeCredentialSecurely:function(req){this.callNative(req)},biometricAvailability:function(req){this.callNative(req)},nativeShare:function(req){this.callNative(req)},startNetworkListener:function(req){this.callNative(req)},stopNetworkListener:function(req){this.callNative(req)},startDownloadNotifier:function(req){this.callNative(req)},stopDownloadNotifier:function(req){this.callNative(req)},customHTTPReq:function(req){this.callNative(req)},sendDataToMainApp:function(req){this.callNative(req)}};getMCABootstrapData=function(){var path=apz.getConfigPath()+"/mcaprocess/process.json";var params={context:{}};params.config={};params.config.rootContext="";var content=apz.getFile(path);if(content){params.context.processJson=JSON.parse(content)}return params};window.onerror=function(msg,url,lineNo,columnNo,error){var string=msg.toLowerCase();var substring="script error";if(string.indexOf(substring)>-1){console.log("Script Error Occured")}else{var message=["Message: "+msg,"URL: "+url,"Line: "+lineNo,"Column: "+columnNo,"Error object: "+JSON.stringify(error)].join(" -- ");console.log(message)}};